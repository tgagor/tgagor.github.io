<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>timor | timor's site</title><meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: timor"><meta name=author content><link rel=canonical href=https://timor.site/authors/timor/><link crossorigin=anonymous href=/assets/css/stylesheet.8845d38279fc2e4ded629f3cd25e7aaf02a9b84794d4cd27d6296ce70a3b2740.css integrity="sha256-iEXTgnn8Lk3tYp880l56rwKpuEeU1M0n1ils5wo7J0A=" rel="preload stylesheet" as=style><link rel=icon href=https://timor.site/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://timor.site/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://timor.site/favicon-32x32.png><link rel=apple-touch-icon href=https://timor.site/apple-touch-icon.png><link rel=mask-icon href=https://timor.site/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://timor.site/authors/timor/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-88996819-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="timor"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://timor.site/authors/timor/"><meta name=twitter:card content="summary"><meta name=twitter:title content="timor"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://timor.site/ accesskey=h title="timor's site (Alt + H)"><img src=https://timor.site/favicon-72x72.png alt aria-label=logo height=36>timor's site</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://timor.site/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://timor.site/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://timor.site/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://timor.site/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://timor.site/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://timor.site/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://timor.site/>Home</a>&nbsp;»&nbsp;<a href=https://timor.site/authors/>Authors</a></div><h1>timor</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>Apache - Force caching dynamic PHP content with mod_headers</h2></header><div class=entry-content><p>Normally you want dynamic content to be fresh and not catchable. But sometimes it may be useful to cache it, like when you have website behind reverse proxy. To do this try something like this:
&lt;filesmatch "\.(php|cgi|pl)$"> Header unset Pragma Header unset Expires Header set Cache-Control "max-age=3600, public" &lt;/filesmatch> Sources http://www.askapache.com/htaccess/speed-up-your-site-with-caching-and-cache-control.html</p></div><footer class=entry-footer><span title='2015-12-29 00:00:00 +0000 UTC'>2015-12-29</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Apache - Force caching dynamic PHP content with mod_headers" href=https://timor.site/2015/12/apache-force-caching-dynamic-php-content-with-mod_headers/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>MySQL - reset root password</h2></header><div class=entry-content><p>It will happen from time to time, that you’re on alien machine and have to brutally update things in db without knowing credentials. Example is for root (quite secure candidate to change because it shouldn’t be used in app 😃 ) but will work for any user.
shutdown db service mysql stop create text file with command like this (update user accordingly) ex. in /tmp/pwchange.txt SET PASSWORD FOR "root"@"localhost" = PASSWORD("HereYourNewPassword"); start mysqld with --init-file param mysqld_safe --init-file=/tmp/pwchange....</p></div><footer class=entry-footer><span title='2015-12-28 00:00:00 +0000 UTC'>2015-12-28</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to MySQL - reset root password" href=https://timor.site/2015/12/mysql-reset-root-password/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Rotate movies</h2></header><div class=entry-content><p>I hate movies recorded on phone in vertical position. This just short tip how I dealt with with it last time:
for m in *.mp4 do avconv -i $m -vf "transpose=1" -codec:a copy -codec:v libx264 -preset slow -crf 23 rotated-$m done Other examples:
http://stackoverflow.com/questions/3937387/rotating-videos-with-ffmpeg
http://superuser.com/questions/578321/how-to-flip-a-video-180°-vertical-upside-down-with-ffmpeg</p></div><footer class=entry-footer><span title='2015-12-28 00:00:00 +0000 UTC'>2015-12-28</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Rotate movies" href=https://timor.site/2015/12/rotate-movies/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Extract password saved in remmina</h2></header><div class=entry-content><p>I had some passwords saved in remmina but like it always happen, I wasn’t been able to remember them when needed. Trying to restore them I found that they’re encrypted in .remmina directory.
Then I used this script to the decrypt them 1:
Extract script import base64 from Crypto.Cipher import DES3 secret = base64.decodestring("&lt;STRING FROM remmina.prefs>") password = base64.decodestring("&lt;STRING FROM XXXXXXX.remmina>") print DES3.new(secret[:24], DES3.MODE_CBC, secret[24:]).decrypt(password) http://askubuntu.com/questions/290824/how-to-extract-saved-password-from-remmina ↩︎</p></div><footer class=entry-footer><span title='2015-12-25 00:00:00 +0000 UTC'>2015-12-25</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Extract password saved in remmina" href=https://timor.site/2015/12/extract-password-saved-in-remmina/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>I’m back</h2></header><div class=entry-content><p>After long break I’m thinking about writing more on my blog. I was reviewing my favorites/bookmarks and half of them was broken, so I can’t rely on them in case of knowledge management.
I think I will write shorter, less descriptive articles just to be pointers to useful solutions from past.</p></div><footer class=entry-footer><span title='2015-12-25 00:00:00 +0000 UTC'>2015-12-25</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to I’m back" href=https://timor.site/2015/12/im-back/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Apache AuthBasic but excluding IP</h2></header><div class=entry-content><p>Allow from IP without password prompt, and also allow from any address with password prompt
Order deny,allow Deny from all AuthName "htaccess password prompt" AuthUserFile /web/askapache.com/.htpasswd AuthType Basic Require valid-user Allow from 172.17.10.1 Satisfy Any Sources http://www.askapache.com/htaccess/apache-authentication-in-htaccess.html</p></div><footer class=entry-footer><span title='2015-12-23 00:00:00 +0000 UTC'>2015-12-23</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Apache AuthBasic but excluding IP" href=https://timor.site/2015/12/apache-authbasic-but-excluding-ip/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://timor.site/books/2015/splatana-siec/images/book-cover_hu7a8c2566c7d86e8eb202eac998d94f1c_39768_360x0_resize_q75_h2_box_2.webp 360w ,https://timor.site/books/2015/splatana-siec/images/book-cover_hu7a8c2566c7d86e8eb202eac998d94f1c_39768_480x0_resize_q75_h2_box_2.webp 480w ,https://timor.site/books/2015/splatana-siec/images/book-cover.webp 625w" sizes="(min-width: 768px) 720px, 100vw" src=https://timor.site/books/2015/splatana-siec/images/book-cover.webp alt width=625 height=893></figure><header class=entry-header><h2>Splątana sieć</h2></header><div class=entry-content><p>Splątana siećPrzewodnik po bezpieczeństwie nowoczesnych aplikacji WWW
Author: Michał Zalewski
helion.pl</p></div><footer class=entry-footer><span title='2015-12-10 00:00:00 +0000 UTC'>2015-12-10</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Splątana sieć" href=https://timor.site/books/2015/splatana-siec/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://timor.site/books/2015/ruby-programowanie/images/book-cover_hucb7596e73cea2f4f9a1807ed21f130c6_28410_360x0_resize_q75_h2_box_2.webp 360w ,https://timor.site/books/2015/ruby-programowanie/images/book-cover_hucb7596e73cea2f4f9a1807ed21f130c6_28410_480x0_resize_q75_h2_box_2.webp 480w ,https://timor.site/books/2015/ruby-programowanie/images/book-cover.webp 625w" sizes="(min-width: 768px) 720px, 100vw" src=https://timor.site/books/2015/ruby-programowanie/images/book-cover.webp alt width=625 height=893></figure><header class=entry-header><h2>Ruby</h2></header><div class=entry-content><p>RubyProgramowanie
Authors: David Flanagan, Yukihiro Matsumoto
helion.pl</p></div><footer class=entry-footer><span title='2015-08-13 00:00:00 +0000 UTC'>2015-08-13</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Ruby" href=https://timor.site/books/2015/ruby-programowanie/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://timor.site/books/2015/git/images/book-cover_huee1407c7ce785fc9fe5462a81c599250_70216_360x0_resize_q75_h2_box_2.webp 360w ,https://timor.site/books/2015/git/images/book-cover_huee1407c7ce785fc9fe5462a81c599250_70216_480x0_resize_q75_h2_box_2.webp 480w ,https://timor.site/books/2015/git/images/book-cover.webp 625w" sizes="(min-width: 768px) 720px, 100vw" src=https://timor.site/books/2015/git/images/book-cover.webp alt width=625 height=893></figure><header class=entry-header><h2>GIT</h2></header><div class=entry-content><p>GITRozproszony system kontroli wersji
Author: Włodzimierz Gajda
helion.pl</p></div><footer class=entry-footer><span title='2015-02-10 00:00:00 +0000 UTC'>2015-02-10</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to GIT" href=https://timor.site/books/2015/git/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Copy GTP partiotion table between disks</h2></header><div class=entry-content><p>When configuring RAID it’s quite important to have the same partition tables on every disk. I’v done this many times on msdos partition tables like this:
sfdisk -d /dev/sda | sfdisk /dev/sdb but it’s not working any more on GPT partition tables. Hopefully it still can be done but with different toolstack 😄
Install gdisk:
apt-get install -y gdisk Then use sgdisk like this:
sgdisk -R /dev/sd_dest /dev/sd_src sgdisk -G /dev/sd_dest First command will copy partition from /dev/sd_src to /dev/sd_dest....</p></div><footer class=entry-footer><span title='2014-07-28 00:00:00 +0000 UTC'>2014-07-28</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Copy GTP partiotion table between disks" href=https://timor.site/2014/07/copy-gtp-partiotion-table-between-disks/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://timor.site/authors/timor/page/10/>«&nbsp;Prev&nbsp;</a>
<a class=next href=https://timor.site/authors/timor/page/12/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span><a href=https://timor.site/>timor's site</a> &copy; 2008-2023</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>