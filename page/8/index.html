<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tom's Blog</title><meta name=keywords content="Blog,Technical,Automation,DevOps,Cloud,Linux,Leadership"><meta name=description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/><link crossorigin=anonymous href=/assets/css/stylesheet.dd9b399756d51cbc22dd492f8bc5e6baa73d268548ef7584ed5740fe95fdcbce.css integrity="sha256-3Zs5l1bVHLwi3Ukvi8Xmuqc9JoVI73WE7VdA/pX9y84=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gagor.pro/index.xml><link rel=alternate type=application/json href=https://gagor.pro/index.json><link rel=alternate type=text/redirects href=https://gagor.pro/_redirects><link rel=alternate type=text/llms href=https://gagor.pro/llms.txt><link rel=alternate hreflang=en href=https://gagor.pro/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta name=fediverse:creator content="@tgagor@mastodon.social"><link rel=me href=https://mastodon.social/@tgagor><meta property="og:url" content="https://gagor.pro/"><meta property="og:site_name" content="Tom's Blog"><meta property="og:title" content="Tom's Blog"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tom's Blog"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Tom's Blog","url":"https://gagor.pro/","description":"Linux configuration, Automation, Security - Sysadmin/DevOps blog","logo":"https://gagor.pro/favicon.ico","sameAs":["https://github.com/tgagor","https://www.linkedin.com/in/tgagor","https://mastodon.social/@tgagor","https://bsky.app/profile/gagor.pro","https://buymeacoffee.com/tgagor","https://ko-fi.com/tgagor","index.xml"]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.avif alt="Page logo" aria-label=logo height=36 width=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-entry><figure class=entry-cover><img loading=lazy srcset='https://gagor.pro/2020/01/moving-from-linux-to-macos-first-steps/cover_hu_75a8657555aca8eb.webp 360w,https://gagor.pro/2020/01/moving-from-linux-to-macos-first-steps/cover_hu_f2c230aa52b70e2e.webp 480w,https://gagor.pro/2020/01/moving-from-linux-to-macos-first-steps/cover_hu_c3fbd42721f8eb93.webp 720w,https://gagor.pro/2020/01/moving-from-linux-to-macos-first-steps/cover.webp 720w' src=https://gagor.pro/2020/01/moving-from-linux-to-macos-first-steps/cover.webp sizes="(min-width: 768px) 720px, 100vw" width=720 height=300 alt="[Photo by Paul IJsendoorn from Pexels](https://www.pexels.com/photo/antelope-canyon-33041/)"></figure><header class=entry-header><h2 class=entry-hint-parent>Moving from Linux to MacOS â€“ first steps</h2></header><div class=entry-content><p>Learn about the initial steps and adjustments needed when transitioning from a Linux desktop to MacOS for business purposes, including tips on keyboard shortcuts, application compatibility, and system settings.</p></div><footer class=entry-footer><span title='2020-01-04 00:00:00 +0000 UTC'>2020-01-04</span>&nbsp;Â·&nbsp;8 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Moving from Linux to MacOS â€“ first steps" href=https://gagor.pro/2020/01/moving-from-linux-to-macos-first-steps/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>Debuging commands running on memcached</h2></header><div class=entry-content><p>I had strange statistics on one memcached servers. I had to look what itâ€™s doing there. I found such commands1 that may be used to sniff, extract and make statistics from running memcached server.
Debug GET commands Show only GET commands sent to memcached tcpflow -c dst port 11211 | cut -b46- | grep ^get cut command will remove 46 bytes at beginning of every string (src, dst, port). You may need to adjust numeric parameter for cut to leave commands only. Output should look like:
...</p></div><footer class=entry-footer><span title='2016-07-13 00:00:00 +0000 UTC'>2016-07-13</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Debuging commands running on memcached" href=https://gagor.pro/2016/07/debuging-commands-running-on-memcached/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>How to stole ssh session when youâ€™re root</h2></header><div class=entry-content><p>It happen to me all the time that one of developers notifies me about some kind of problem that I canâ€™t confirm from my account. Sometimes it was because of bad ssh keys configuration, other times file permissions, mostly such stuff. Itâ€™s sometimes convenient to â€œenter into someoneâ€™s shoesâ€ to see whatâ€™s going on there.
If youâ€™re root on machine you may do that like this:
Switch to developer user su developer - Easy one but thatâ€™s not enough for all cases. When you use bastion host (or similar solutions) sometimes users have connection problems and itâ€™s harder to check. When such user have ForwardAgent ssh option enabled you may stole this session to check login problems.
...</p></div><footer class=entry-footer><span title='2016-04-27 00:00:00 +0000 UTC'>2016-04-27</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to How to stole ssh session when youâ€™re root" href=https://gagor.pro/2016/04/how-to-stole-ssh-session-when-youre-root/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>pip - uninstall package with dependencies</h2></header><div class=entry-content><p>Virtualenvs in python are cheap but from time to time you will install something with pip on your system and when time comes removing all this crap could be difficult. I found this bash snippet1 that will uninstall package with all dependencies:
Recursive pip uninstall for dep in $(pip show python-neutronclient | grep Requires | sed 's/Requires: //g; s/,//g') ; do pip uninstall -y $dep ; done pip uninstall -y python-neutronclient Depending how you installed it, you might need to use sudo.
...</p></div><footer class=entry-footer><span title='2016-04-26 00:00:00 +0000 UTC'>2016-04-26</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to pip - uninstall package with dependencies" href=https://gagor.pro/2016/04/pip-uninstall-package-with-dependencies/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset='https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/images/cover_hu_7dd07101b2b71011.webp 360w,https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/images/cover_hu_c028dbbae18cc032.webp 480w,https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/images/cover_hu_42821a468f4511cd.webp 720w,https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/images/cover_hu_2d4934cfbf0ae87d.webp 1080w,https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/images/cover_hu_21ec19e92727a200.webp 1500w,https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/images/cover.webp 1500w' src=https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/images/cover.webp sizes="(min-width: 768px) 720px, 100vw" width=1500 height=625 alt="[MySQL logo](https://freebiesupply.com/logos/mysql-logo-2/)"></figure><header class=entry-header><h2 class=entry-hint-parent>Daily MySQL backups with xtrabackup</h2></header><div class=entry-content><p>Iâ€™ve been using standard MySQL dumps as backup technique on my VPS for few years. It works fine and backups were usable few times when I needed them. But in other places Iâ€™m using xtrabackup1. Itâ€™s faster when crating backups and a lot faster when restoring them - theyâ€™re binary so there is no need to reevaluate all SQL create tables/inserts/etc. Backups also include my.cnf config file so restoring on other machine should be easy.
...</p></div><footer class=entry-footer><span title='2016-04-23 00:00:00 +0000 UTC'>2016-04-23</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Daily MySQL backups with xtrabackup" href=https://gagor.pro/2016/04/daily-mysql-backups-with-xtrabackup/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>Use bastion host with Ansible</h2></header><div class=entry-content><p>When you deploy your application in cloud you donâ€™t need and donâ€™t want your hosts exposed via SSH to the world. Malware scans whole network for easy SSH access and when find something will try some brute force attacks, overloading such machines. Itâ€™s easier to have one exposed, but secured host, that doesnâ€™t host anything and is used as proxy/gateway to access our infrastructure- itâ€™s called bastion hostâ€‰ external link .
...</p></div><footer class=entry-footer><span title='2016-04-22 00:00:00 +0000 UTC'>2016-04-22</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Use bastion host with Ansible" href=https://gagor.pro/2016/04/use-bastion-host-with-ansible/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>Tweaking ASUS Zenbook UX305CA on Linux</h2></header><div class=entry-content><p>Lately I was searching for mobile notebook that I could use for remote work. I checked f ThinkPad series but they were huge bricks that have nothing in common with â€˜mobileâ€™ word. Then I saw ASUS Zenbook that I didnâ€™t take into account before and it was exactly what I was searching for.
Configuration of Skylake based notebook right now is not straightforward - there are still glitches and small bugs that are waiting to be fixed. I want to sum up what Iâ€™ve done after installation. I started with freshÂ Ubuntu 16.04 to get Debian based distro with possibly latestÂ kernel and patches.
...</p></div><footer class=entry-footer><span title='2016-04-21 00:00:00 +0000 UTC'>2016-04-21</span>&nbsp;Â·&nbsp;11 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Tweaking ASUS Zenbook UX305CA on Linux" href=https://gagor.pro/2016/04/tweaking-asus-zenbook-ux305ca-on-linux/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>Prefer IPv4 over IPv6</h2></header><div class=entry-content><p>I try to use IPv6 where itâ€™s available but itâ€™s sometimes so hardâ€¦ It happen quite often that I canâ€™t download packages from repos because they werenâ€™t configured on IPv6 vhosts even when host is available via IPv6 address. For APT you may use this trick to force IPv4 connections only:
echo 'Acquire::ForceIPv4 "true";' > /etc/apt/apt.conf.d/99force-ipv4 If you need more than that, then gai.conf will allow you to filter where you will be connecting via IPv4 and where via IPv6 - in example bellow you will prefer IPv4 whenever itâ€™s available:
...</p></div><footer class=entry-footer><span title='2016-03-29 00:00:00 +0000 UTC'>2016-03-29</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Prefer IPv4 over IPv6" href=https://gagor.pro/2016/03/prefer-ipv4-over-ipv6/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>List octal file permissions in bash</h2></header><div class=entry-content><p>Sometimes itâ€™s easier to use octal file permissions but theyâ€™re not so easy to list. I caught myself few times that I didnâ€™t remember how to list them - so this is a reason for that note.
stat -c "%a %n" * 755 bin 755 games 755 include Yes, itâ€™s that easy ğŸ˜ƒ
And here also with human readable attributes:
stat -c '%A %a %n' * drwxr-xr-x 755 bin drwxr-xr-x 755 games drwxr-xr-x 755 include</p></div><footer class=entry-footer><span title='2016-02-24 00:00:00 +0000 UTC'>2016-02-24</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to List octal file permissions in bash" href=https://gagor.pro/2016/02/list-octal-file-permissions-in-bash/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://gagor.pro/generic-cover.webp alt="[Photo by Tima Miroshnichenko](https://www.pexels.com/photo/close-up-view-of-system-hacking-in-a-monitor-5380664/)"></figure><header class=entry-header><h2 class=entry-hint-parent>WordPress with HyperDB on PHP 7.0</h2></header><div class=entry-content><p>I was configuring WordPress with HyperDBâ€‰ external link plugin on PHP 7.0 but the only I get were constant 500 errors. As I found hereâ€‰ external link PHP 7.0 is not supported by HyperDB for now - itâ€™s rely on mysql php extension but in PHP 7.0 there is only mysqli extension. But few folks fixed it and itâ€™s possible to use it.
...</p></div><footer class=entry-footer><span title='2016-02-24 00:00:00 +0000 UTC'>2016-02-24</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to WordPress with HyperDB on PHP 7.0" href=https://gagor.pro/2016/02/wordpress-with-hyperdb-on-php-7-0/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pro/page/7/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pro/page/9/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2025</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script defer src=https://analytics.ahrefs.com/analytics.js data-key=ngiuUolR4+T0MnN5eV7I/A async></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>