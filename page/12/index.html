<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tom's Blog</title><meta name=keywords content="Blog,Technical,Automation,DevOps,Cloud,Linux,Leadership"><meta name=description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/><link crossorigin=anonymous href=/assets/css/stylesheet.dd9b399756d51cbc22dd492f8bc5e6baa73d268548ef7584ed5740fe95fdcbce.css integrity="sha256-3Zs5l1bVHLwi3Ukvi8Xmuqc9JoVI73WE7VdA/pX9y84=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gagor.pro/index.xml><link rel=alternate type=application/json href=https://gagor.pro/index.json><link rel=alternate type=text/redirects href=https://gagor.pro/_redirects><link rel=alternate hreflang=en href=https://gagor.pro/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta name=fediverse:creator content="@tgagor@mastodon.social"><link rel=me hreflang=en href=https://mastodon.social/@tgagor><meta property="og:url" content="https://gagor.pro/"><meta property="og:site_name" content="Tom's Blog"><meta property="og:title" content="Tom's Blog"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tom's Blog"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Tom's Blog","url":"https://gagor.pro/","description":"Linux configuration, Automation, Security - Sysadmin/DevOps blog","logo":"https://gagor.pro/favicon.ico","sameAs":["https://www.linkedin.com/in/tgagor","https://github.com/tgagor","https://buymeacoffee.com/tgagor","https://ko-fi.com/tgagor","https://hub.docker.com/u/tgagor","https://mastodon.social/@tgagor","index.xml"]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.avif alt="Page logo" aria-label=logo height=36 width=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Checking memcached status</h2></header><div class=entry-content><p>I need to check memory usage of memcached server so I used:
echo stats | nc 127.0.0.1 11211 STAT pid 2743 STAT uptime 263 STAT time 1395438951 STAT version 1.4.13 STAT pointer_size 64 STAT rusage_user 0.482926 STAT rusage_system 2.675593 STAT curr_items 8667 STAT total_items 10742 STAT bytes 23802513 STAT curr_connections 296 STAT total_connections 399 STAT connection_structures 297 STAT cmd_flush 0 STAT cmd_get 52578 STAT cmd_set 10792 STAT get_hits 28692 STAT get_misses 23886 STAT evictions 0 STAT bytes_read 35984361 STAT bytes_written 192647437 STAT limit_maxbytes 536870912 STAT threads 2 STAT accepting_conns 1 STAT listen_disabled_num 0 STAT replication MASTER STAT repcached_qi_free 8189 STAT repcached_wdata 0 STAT repcached_wsize 1026048 END For me, bytes value was important but you could find more about all statistics hereâ€‰ external link .</p></div><footer class=entry-footer><span title='2014-03-21 00:00:00 +0000 UTC'>2014-03-21</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Checking memcached status" href=https://gagor.pro/2014/03/checking-memcached-status/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Postfix - automatically drop outbound mail</h2></header><div class=entry-content><p>I have development server with postfix - I wanted to allow outbound traffic to one domain but cut off all the rest. I definitely do not want that test mail or any debug info goes to service users.
I have to add something like that to /etc/postfix/transport:
allowed.domain.com : * discard: Then run:
postmap /etc/postfix/transport At end, add these to /etc/postfix/main.cf:
transport_maps = hash:/etc/postfix/transport Reload postfix:
postfix reload Test if it works:
...</p></div><footer class=entry-footer><span title='2014-03-18 00:00:00 +0000 UTC'>2014-03-18</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Postfix - automatically drop outbound mail" href=https://gagor.pro/2014/03/postfix-automatically-drop-outbound-mail/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Ansible - ssh pipelining</h2></header><div class=entry-content><p>In recent Ansible update to 1.5 version there is really nice feature ssh pipelining. This option is serious alternative to accelerated mode.
Just add to you config file (ex. ~/.ansible.cfg):
[ssh_connection] pipelining=True Now run any playbook - you will see the difference ðŸ˜„
Source (and extended info about):
http://blog.ansibleworks.com/2014/01/15/ssh-connection-upgrades-coming-in-ansible-1-5/â€‰ external link</p></div><footer class=entry-footer><span title='2014-03-04 00:00:00 +0000 UTC'>2014-03-04</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Ansible - ssh pipelining" href=https://gagor.pro/2014/03/ansible-ssh-pipelining/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Chrusty, faworki</h2></header><div class=entry-content><p>To najlepszy przepis na chrusty jaki znam - wychodzÄ… bardzo kruche i delikatne.
SkÅ‚adniki 4 zÃ³Å‚tka, 4 Å‚yÅ¼ki wina biaÅ‚ego lub czerwonego, 4 Å‚yÅ¼ki mÄ…ki. SposÃ³b przygotowania Wszystkie skÅ‚adniki wymieszaÄ‡ i wyrobiÄ‡. Ciasto powinno byÄ‡ mniej wiecej takie jak na pierogi. BiÄ‡ paÅ‚kÄ…/waÅ‚kiem, skÅ‚adaÄ‡ na pÃ³Å‚ i tak kilka razy przez ok 5 minut. Potem ciasto rozwaÅ‚kowaÄ‡ bardzo cieniutko i wykrawaÄ‡ chrusty, maÅ‚e bo mocno rosnÄ…. NastÄ™pnie wrzucaÄ‡ na rozgrzany olej/smalec.
...</p></div><footer class=entry-footer><span title='2014-02-26 00:00:00 +0000 UTC'>2014-02-26</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Chrusty, faworki" href=https://gagor.pro/2014/02/chrusty-faworki/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Comparing two lists in bash</h2></header><div class=entry-content><p>I had quite simple task - compare two lists of hosts and check if hosts from first one are also on the second one. I started with diff:
diff -u biglist.txt hosts_to_check.txt | grep -E "^\+" It was fine but output needs some filtering to get what I want.
Iâ€™ve found another example with grep:
grep -Fxv -f biglist.txt hosts_to_check.txt | sort -n This will search for all lines in hosts_to_check.txt which donâ€™t match any line in biglist.txt. So after this Iâ€™ve got list of hosts that I have to check. Thatâ€™s exactly what I need ðŸ˜„</p></div><footer class=entry-footer><span title='2014-02-18 00:00:00 +0000 UTC'>2014-02-18</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Comparing two lists in bash" href=https://gagor.pro/2014/02/comparing-two-lists-in-bash/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset='https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/images/cover_hu_973572389768273c.webp 360w,https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/images/cover_hu_ab136cadeac5cd5d.webp 480w,https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/images/cover_hu_760b2dce9bfc69f0.webp 720w,https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/images/cover_hu_afc9bffb0023f688.webp 1080w,https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/images/cover_hu_d87c7a1cf88bcc88.webp 1500w,https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/images/cover.webp 1500w' src=https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/images/cover.webp sizes="(min-width: 768px) 720px, 100vw" width=1500 height=625 alt=[WSUS](https://learn.microsoft.com/en-us/training/modules/windows-server-update-management/)></figure><header class=entry-header><h2 class=entry-hint-parent>Change default WSUS port from 8530 to 80 on Windows Server 2012</h2></header><div class=entry-content><p>Learn how to change the default WSUS port from 8530 to 80 on Windows Server 2012, ensuring compatibility with older configurations and resolving IPv6-only issues.</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Change default WSUS port from 8530 to 80 on Windows Server 2012" href=https://gagor.pro/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Debian - Upgrade MySQL to MariaDB</h2></header><div class=entry-content><p>After reading some good opinions about MariaDB I wanted to give it a try. Upgrade looks quite straight forward but I found some issues a little tricky.
Installation Add repo and key:
cat > /etc/apt/sources.list &lt;&lt;SRC deb http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main deb-src http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main SRC (find more repositories hereâ€‰ external link )
Now install MariaDB:
sudo apt-get update sudo apt-get install mariadb-server It could be better to install mariadb-server-5.5 and mariadb-client-5.5 package instead, because of this errorâ€‰ external link .
...</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Debian - Upgrade MySQL to MariaDB" href=https://gagor.pro/2014/01/debian-upgrade-mysql-to-mariadb/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Nginx - enabling SPDY with freeware certificate</h2></header><div class=entry-content><p>I was thinking about allowing access to my website using SPDY protocol for better performance and security (and for fun of course ðŸ˜ƒ ). But SPDY have one disadvantage - you need SSL certificate signed by known authority that will verfiy in common browsers. So you canâ€™t use self signed certificates because everyone will see a warning entering your site. Certs are quite expensive so I started searching for free one and to my surprise I found such!
...</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Nginx - enabling SPDY with freeware certificate" href=https://gagor.pro/2014/01/nginx-enabling-spdy-with-freeware-certificate/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Searching for better code editor</h2></header><div class=entry-content><p>Iâ€™ve been using different code editors for different purposes. Gedit was fine for small scripts but not for bigger projects. It lacks intelligent code completion (function/class names, etc.). I was searching for convenient editor for Python, Perl, Ruby with support for frameworks like Django, Rails, etc. I know Sublime Text - but itâ€™s paidâ€‰ external link . There is LimeTextâ€‰ external link - open source clone, but itâ€™s not ready to be used on daily basics.
...</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Searching for better code editor" href=https://gagor.pro/2014/01/searching-for-better-code-editor/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Manage Windows 8.1 and Windows Server 2012 R2 in WSUS 3.0</h2></header><div class=entry-content><p>After connecting few computers with Windows 8.1 to domain we found that these computers are not recognized or recognized as Windows 6.3 (which is true) on WSUS 3.0 running on Windows Server 2008. The bad thing was that they canâ€™t properly report to WSUS and get updates from it.
I found that there are two updates that have to be installed (but theyâ€™re not working without additional steps):
http://support.microsoft.com/kb/2720211â€‰ external link http://support.microsoft.com/kb/2734608â€‰ external link After installation of second update there are two additional steps that have to be performed to get WSUS working:
...</p></div><footer class=entry-footer><span title='2014-01-16 00:00:00 +0000 UTC'>2014-01-16</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Manage Windows 8.1 and Windows Server 2012 R2 in WSUS 3.0" href=https://gagor.pro/2014/01/manage-windows-8-1-and-windows-server-2012-r2-in-wsus-3-0/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pro/page/11/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pro/page/13/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2025</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script defer src=https://analytics.ahrefs.com/analytics.js data-key=ngiuUolR4+T0MnN5eV7I/A async></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>