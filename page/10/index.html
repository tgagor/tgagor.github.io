<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tom's Blog</title>
<meta name=keywords content="Blog,Technical,Automation,DevOps,Cloud,Linux"><meta name=description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta name=author content="timor"><link rel=canonical href=https://gagor.pl/><link crossorigin=anonymous href=/assets/css/stylesheet.93a7bb0e4037b10e2d13ecb5a064edb636bd4156dfce17bfbd5115c4fce2d166.css integrity="sha256-k6e7DkA3sQ4tE+y1oGTttja9QVbfzhe/vVEVxPzi0WY=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pl/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pl/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pl/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pl/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pl/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gagor.pl/index.xml><link rel=alternate type=application/json href=https://gagor.pl/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-4TQXK4C4W5"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4TQXK4C4W5",{anonymize_ip:!1})}</script><meta property="og:title" content="Tom's Blog"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://gagor.pl/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tom's Blog"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Tom's Blog","url":"https://gagor.pl","description":"Linux configuration, Automation, Security - Sysadmin/DevOps blog","thumbnailUrl":"https://gagor.pl/favicon.ico","sameAs":["https://www.linkedin.com/in/tgagor","https://github.com/tgagor","https://buymeacoffee.com/tgagor","https://hub.docker.com/u/tgagor","index.xml"]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pl accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pl/favicon-72x72.png alt aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pl/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pl/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pl/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pl/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pl/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Running Apache with mod_spdy and PHP-FPM</h2></header><div class=entry-content><p>SPDY is new protocol proposed by Google as an alternative for HTTP(S). Currently Chrome and Firefox browsers are using it as default if available on server. It is faster in most cases by few to several percent. The side effect of using mod_spdy is that itâ€™s working well only with thread safe Apacheâ€™s modules. PHP module for Apache is not thread safe so we need to use PHP as CGI or FastCGI service....</p></div><footer class=entry-footer><span title='2013-12-16 00:00:00 +0000 UTC'>2013-12-16</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Running Apache with mod_spdy and PHP-FPM" href=https://gagor.pl/2013/12/running-apache-with-mod_spdy-and-php-fpm/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Re-adding failed drive in mdadm</h2></header><div class=entry-content><p>Yesterday I have problem with fglrx witch cause ugly system reset. After that, one of my drives was marked as failed in RAID5 array. Hotspare was automatically used to rebuild array. But this hotspare is the oldest and slowest drive Iâ€™ve gotâ€¦
After rebuild Iâ€™ve tested failed drive and it was fine - no bad block, no any other issue - so I wanted it running back in array.
What I do:...</p></div><footer class=entry-footer><span title='2013-12-12 00:00:00 +0000 UTC'>2013-12-12</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Re-adding failed drive in mdadm" href=https://gagor.pl/2013/12/re-adding-failed-drive-in-mdadm/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Ansible - Dynamicaly update /etc/hosts files on target servers</h2></header><div class=entry-content><p>I was configuring GlusterFS on few servers using Ansible and have a need to update /etc/hosts with hostnames for easier configuration. I found this one working:
- name: Update /etc/hosts lineinfile: dest=/etc/hosts regexp='.*{{item}}$' line='{{hostvars.{{item}}.ansible_default_ipv4.address}} {{item}}' state=present with_items: '{{groups.somegroup}}' Source: http://xmeblog.blogspot.com/2013/06/ansible-dynamicaly-update-etchosts.html</p></div><footer class=entry-footer><span title='2013-12-11 00:00:00 +0000 UTC'>2013-12-11</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Ansible - Dynamicaly update /etc/hosts files on target servers" href=https://gagor.pl/2013/12/ansible-dynamicaly-update-etc-hosts-files-on-target-servers/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Reset user password in your own Ghost Blog</h2></header><div class=entry-content><p>Iâ€™ve started testing new Ghost blogging platform for a while on a virtual machine before I take decision about switching to it (or maybe wonâ€™t)â€¦ After few days, I wanted to go forward with more testing and stuck on â€œe-mail and passwordâ€ login prompt ğŸ˜ƒ
Iâ€™ve started looking into files and found ghost_dir/content/data/ghost-dev.db SQLite database. It can be opened like that:
sqlite3 content/data/ghost-dev.db Then you could see whats your mail (and other info):...</p></div><footer class=entry-footer><span title='2013-11-28 00:00:00 +0000 UTC'>2013-11-28</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Reset user password in your own Ghost Blog" href=https://gagor.pl/2013/11/reset-user-password-in-your-own-ghost-blog/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Inodes exhaustion on XFS</h2></header><div class=entry-content><p>Itâ€™s quite rare to have problems with XFS and inodes exhaustion. Mostly because XFS doesnâ€™t have inode limit in a manner known from other filesystems - itâ€™s using some percentage of whole filesystem as a limit and in most distributions itâ€™s 25%. So itâ€™s really huge amount of inodes. But some tools and distributions lowered limit ex. 5% or 10% and there you could have problems more often.
You could check what is you limit by issuing xfs_info with drive and searching for imaxpct value:...</p></div><footer class=entry-footer><span title='2013-11-27 00:00:00 +0000 UTC'>2013-11-27</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Inodes exhaustion on XFS" href=https://gagor.pl/2013/11/inodes-on-xfs/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kill with SIGSTOP and SIGCONT</h2></header><div class=entry-content><p>Iâ€™ve bought a NAS and customized it a little. But there was one thing which make my nights sleepless. NAS was seeking disks every 5~10 seconds - these was really irritating - especially when it was silent in room. I found that part of firmware was indexing or logging something so I wanted it dead! kill -9 was unsuccessful - process restarted after a whileâ€¦. wrrrâ€¦
I googled a little and found another signal I could use SIGSTOP, which will freeze process until I send SIGCONT to it - that was exactly what I need (because I normally use NFS/Samba and donâ€™t need nothing more running on this device)....</p></div><footer class=entry-footer><span title='2013-11-21 00:00:00 +0000 UTC'>2013-11-21</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Kill with SIGSTOP and SIGCONT" href=https://gagor.pl/2013/11/kill-with-sigstop-and-sigcont/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>My new toy - Iomega StorCenter ix2-200 Cloud Edition</h2></header><div class=entry-content><p>Iâ€™ve just bought new toy - Iomega StorCenter ix2-200 Cloud Edition. I have to play with few options before I could start using it. First thing - Firmware upgrade.
Firmware upgrade Iâ€™ve started searching for latest firmware for ix2-200 Cloud and found that I have to register on Lenovo site to get firmwareâ€¦ I donâ€™t like such sites where they force me to give all private data, but after few clicks on â€œRecommended articlesâ€ on that site I landed here:...</p></div><footer class=entry-footer><span title='2013-11-19 00:00:00 +0000 UTC'>2013-11-19</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to My new toy - Iomega StorCenter ix2-200 Cloud Edition" href=https://gagor.pl/2013/11/my-new-toy-iomega-storcenter-ix2-200-cloud-edition/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Reenable web interface on Polycom VBP 5300 ST from CLI</h2></header><div class=entry-content><p>After some configuration changes Iâ€™ve stuck with VBP not listening nor on HTTP, nor on SSH port. Last resort was to use CLI to reenable HTTP access. Connect with parameters:
Baud rate: 9600 Parity: none Bits: 8 Stopbits: 1 Flow control: none Then in login prompt you have to use login credentials (yes - theyâ€™re the same on every box (WTF?)):
User: - root Pass: - @#$%^&*!() Password is shift + 2345678190 - there is 1 before 9!...</p></div><footer class=entry-footer><span title='2013-11-18 00:00:00 +0000 UTC'>2013-11-18</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Reenable web interface on Polycom VBP 5300 ST from CLI" href=https://gagor.pl/2013/11/reenable-web-interface-on-polycom-vbp-5300-st-from-cli/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Changing language of articles on my blog to English</h2></header><div class=entry-content><p>Iâ€™ve crated this blog to get feedback from other IT guys about what Iâ€™m doing wrong (or not good enough). But this idea failedâ€¦
I have only few comments on my blog (and about thousand and a half spams per month) - so, no feedback in my national language at all.
Switching to English should make my audience bigger and I hope to have more attention thanks to that. This will be also a good practice of my English skill....</p></div><footer class=entry-footer><span title='2013-11-15 00:00:00 +0000 UTC'>2013-11-15</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Changing language of articles on my blog to English" href=https://gagor.pl/2013/11/changing-language-of-articles-on-my-blog-to-english/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>GearmanManager: wygodne zarzÄ…dzanie workerami</h2></header><div class=entry-content><p>Niedawno zainteresowaÅ‚em siÄ™ usÅ‚ugÄ… Gearman i jedynej rzeczy ktÃ³rej mi brakowaÅ‚o to jakiegoÅ› Å‚atwego mechanizmu zarzÄ…dzajÄ…cego workerami. Ale jak zwykle okazaÅ‚o siÄ™ Å¼e inni mieli juÅ¼ ten problem i odpowiednie narzÄ™dzie istnieje - mowa o GearmanManagerze.
Instalacja GearmanManagera Aby zainstalowaÄ‡ GeramanManagera na serwerze gdzie juÅ¼ mamy Gearmana trzeba wykonaÄ‡ kilka krokÃ³w (wczeÅ›niej powinniÅ›my teÅ¼ zainstalowaÄ‡ moduÅ‚ gearmana do phpâ€™a):
apt-get install git -y git clone https://github.com/brianlmoon/GearmanManager.git cd GearmanManager/install chmod +x install....</p></div><footer class=entry-footer><span title='2013-11-13 00:00:00 +0000 UTC'>2013-11-13</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to GearmanManager: wygodne zarzÄ…dzanie workerami" href=https://gagor.pl/2013/11/gearmanmanager-wygodne-zarzadzanie-workerami/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pl/page/9/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pl/page/11/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pl>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>