<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tom's Blog</title><meta name=keywords content="Blog,Technical,Automation,DevOps,Cloud,Linux,Leadership"><meta name=description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/><link crossorigin=anonymous href=/assets/css/stylesheet.ac508fccced5979b314e48f7f1ee40eb1e209b3d54881568d4190ae923971cff.css integrity="sha256-rFCPzM7Vl5sxTkj38e5A6x4gmz1UiBVo1BkK6SOXHP8=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gagor.pro/index.xml><link rel=alternate type=application/json href=https://gagor.pro/index.json><link rel=alternate type=text/redirects href=https://gagor.pro/_redirects><link rel=alternate hreflang=en href=https://gagor.pro/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://gagor.pro/"><meta property="og:site_name" content="Tom's Blog"><meta property="og:title" content="Tom's Blog"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tom's Blog"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Tom's Blog","url":"https://gagor.pro/","description":"Linux configuration, Automation, Security - Sysadmin/DevOps blog","logo":"https://gagor.pro/favicon.ico","sameAs":["https://www.linkedin.com/in/tgagor","https://github.com/tgagor","https://buymeacoffee.com/tgagor","https://ko-fi.com/tgagor","https://hub.docker.com/u/tgagor","index.xml"]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.avif alt="Page logo" aria-label=logo height=36 width=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kaczka pieczona z Å¼urawinÄ… i jabÅ‚kami</h2></header><div class=entry-content><p>Bardzo udany przepis - gdzieÅ› musiaÅ‚em go udokumentowaÄ‡ by nie zginÄ…Å‚ :)
SkÅ‚adniki 1 duÅ¼a kaczka (2-2,5 kg) 4 zÄ…bki czosnku 1 kg jabÅ‚ek (w zaleÅ¼noÅ›ci od kaczki mogÄ… wystarczyÄ‡ 3 wiÄ™ksze sztuki) sok z cytryny do skropienia jabÅ‚ek 200 g suszonej Å¼urawiny pÃ³Å‚ butelki czerwonego wytrawnego wina rozmaryn 4 Å‚yÅ¼ki miodu cynamon kardamon sÃ³l pieprz SposÃ³b wykonania KaczkÄ™ nacieramy solÄ…, pieprzem, rozmarynem oraz roztartym czosnkiem i pozostawiamy na min. 3-4 godziny w lodÃ³wce (moÅ¼na teÅ¼ przygotowaÄ‡ jÄ… wieczorem by byÅ‚a gotowa na nastÄ™pny dzieÅ„).
...</p></div><footer class=entry-footer><span title='2012-02-23 00:00:00 +0000 UTC'>2012-02-23</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Kaczka pieczona z Å¼urawinÄ… i jabÅ‚kami" href=https://gagor.pro/2012/02/kaczka-pieczona-z-zurawina-i-jablkami/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Xen na Squeeze - instalacja i konfiguracja hypervisorâ€™a</h2></header><div class=entry-content><p>Po co mi to? Wiele razy miaÅ‚em do czynienia z serwerami na ktÃ³rych dziaÅ‚aÅ‚o kilka/kilkanaÅ›cie usÅ‚ug rÃ³wnoczeÅ›nie, np. Apache (kilka stronek, webmail, phpmyadmin, itp), Postfix/Exim (poczta i Å¼eby byÅ‚o fajnie to na kontach systemowych), Samba (jakieÅ› zasoby dla pracownikÃ³w), MySQL (baza dla stronek), PostgreSQL (bo jedna stronka potrzebowaÅ‚a), itdâ€¦. Przy takiej konfiguracji pomijane sÄ… kwestie separacji usÅ‚ug zewnÄ™trznych/wewnÄ™trznych - no ale firma/instytucja maÅ‚a nie ma sensu kasy na 3 kolejne serwery wydawaÄ‡ skoro dziaÅ‚aâ€¦.
...</p></div><footer class=entry-footer><span title='2012-02-23 00:00:00 +0000 UTC'>2012-02-23</span>&nbsp;Â·&nbsp;5 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Xen na Squeeze - instalacja i konfiguracja hypervisorâ€™a" href=https://gagor.pro/2012/02/xen-na-squeeze-instalacja-i-konfiguracja-hypervisora/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>WstÄ™pne Å‚adowanie programÃ³w przy starcie z ureadahead</h2></header><div class=entry-content><p>JakiÅ› czas temu korzystaÅ‚em z preloadâ€™aâ€‰ external link ktÃ³ry sam uczyÅ‚ siÄ™ jakie aplikacje odpalam i te programy Å‚adowaÅ‚ juÅ¼ podczas startu - przewaÅ¼nie nieco spowalnia to start systemu ale gdy juÅ¼ siÄ™ zaÅ‚aduje to programy, ktÃ³re uruchamiam jako pierwsze startujÄ… â€œz kopaâ€. Od jakiegoÅ› czasu popularniejszy jest instalowany domyÅ›lnie w Ubuntu ureadahead - peÅ‚ni on podobnÄ… funkcjÄ™ jak preload.
...</p></div><footer class=entry-footer><span title='2012-01-24 00:00:00 +0000 UTC'>2012-01-24</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to WstÄ™pne Å‚adowanie programÃ³w przy starcie z ureadahead" href=https://gagor.pro/2012/01/wstepne-ladowanie-programow-przy-starcie-z-ureadahead/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Apache mod_expires konfiguracja</h2></header><div class=entry-content><p>Aby umoÅ¼liwiÄ‡ odwiedzajÄ…cym nasze strony cachowanie obrazkÃ³w (tak by nie musieli pobieraÄ‡ ich kaÅ¼dorazowo bo przecieÅ¼ nie zmieniajÄ… siÄ™ aÅ¼ tak czÄ™sto) konieczne jest ustawienie nagÅ‚Ã³wkÃ³w: Cache-Control, Expires dla odpowiednich typÃ³w plikÃ³w. W Apachem jest do tego dedykowany moduÅ‚ - mod_expires. W Debianie dostarczany jest on bez domyÅ›lnej globalnej konfiguracji - a ja lubiÄ™ gdy cacheuje mi siÄ™ wiÄ™kszoÅ›Ä‡ statyki. Zawsze moÅ¼na dostosowaÄ‡ czas cachowania pod siebie wzglÄ™dem okreÅ›lonego typu pliku, np. dla Java ScriptÃ³w ustawiÄ‡ na 1 dzieÅ„ gdy czÄ™sto siÄ™ zmieniajÄ…. MoÅ¼na teÅ¼ w samej aplikacji zmieniaÄ‡ Å›cieÅ¼kÄ™ do pliku by wymusiÄ‡ odÅ›wieÅ¼enie (lub podawaÄ‡ Å›cieÅ¼kÄ™ z jakimÅ› losowym identyfikatorem wycinanym przez mod_rewrite).
...</p></div><footer class=entry-footer><span title='2012-01-23 00:00:00 +0000 UTC'>2012-01-23</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Apache mod_expires konfiguracja" href=https://gagor.pro/2012/01/apache-mod_expires-konfiguracja/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>DÅ‚ugie oczekiwanie na nawiÄ…zanie poÅ‚Ä…czenia ssh</h2></header><div class=entry-content><p>Objaw przewaÅ¼nie jest taki: Å‚Ä…czysz siÄ™ po ssh podajÄ…c klucz/hasÅ‚o i czekasz nawet i 10 sekund aÅ¼ pojawi siÄ™ prompt. Po poÅ‚Ä…czeniu wszystkie polecenia dziaÅ‚ajÄ… z normalnÄ… szybkoÅ›ciÄ…. Brzmi znajomo? ğŸ˜‰
Taki objaw przewaÅ¼nie jest skutkiem problemÃ³w z dziaÅ‚aniem DNSâ€™a po stronie klienta lub serwera. Warto sprawdziÄ‡ poleceniami host/dig/nslookup po obu stronach jak duÅ¼o czasu potrzeba na rozwiÄ…zanie nazw. Najlepiej rozwiÄ…zaÄ‡ problem z DNSâ€™em ustawiajÄ…c szybkie serwery ale gdy nie mamy takiej moÅ¼liwoÅ›ci to po stronie serwera moÅ¼na ustawiÄ‡ w /etc/sshd_config opcjÄ™:
...</p></div><footer class=entry-footer><span title='2012-01-23 00:00:00 +0000 UTC'>2012-01-23</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to DÅ‚ugie oczekiwanie na nawiÄ…zanie poÅ‚Ä…czenia ssh" href=https://gagor.pro/2012/01/dlugie-oczekiwanie-na-nawiazanie-polaczenia-ssh/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Sniffowanie w FortiOS</h2></header><div class=entry-content><p>Zawsze gdy potrzebujÄ™ zesniffowaÄ‡ coÅ› na Å¼ywo na Fortigateâ€™ach muszÄ™ przeszukaÄ‡ Knowledge Baseâ€‰ external link by przypomnieÄ‡ sobie wszystkie polecenia do tego potrzebne. Tym razem robiÄ™ notatki ğŸ˜ƒ
Sniffowanie diagnose debug enable diagnose debug flow filter addrÂ ip address clearÂ clear filter daddrÂ dest ip address dportÂ destination port negateÂ inverse filter portÂ port protoÂ protocol number saddrÂ source ip address sportÂ source port vdÂ index of virtual domain # np. diagnose debug flow filter saddr 10.10.80.3 diagnose debug flow filter daddr 8.8.8.8 diagnose debug flow filter dport 53 # wyÅ›wietl wyniki na konsoli diagnose debug flow show console enable # opcjonalne: wyÅ›wietla nazwy funkcji np. odwoÅ‚ania do routingu, itp diagnose debug flow show function-name enable # uruchomienie sniffowania - warto podaÄ‡ na koÅ„cu jakaÅ› wartoÅ›Ä‡ # by sniffowanie zakoÅ„czyÅ‚o siÄ™ po takiej liczbie pakietÃ³w # w przeciwnym wypadku wyniki bÄ™dÄ… siÄ™ wypisywaÄ‡ na konsoli # aÅ¼ uda nam siÄ™ na oÅ›lep wyÅ‚Ä…czyÄ‡ sniffowanie diagnose debug flow trace start 100 # zresetowanie filtrowania flow diagnose debug reset # wyÅ‚Ä…czenie sniffowania diagnose debug disable Diagnostyka tuneli IP-Sec # tutaj jest duÅ¼o proÅ›ciej, najpierw wÅ‚Ä…czamy debuga diagnose debug enable # a potem diagnose debug application ike 2 # lub dla bardzo, bardzo szczegÃ³Å‚owych logÃ³w diagnose debug application ike -1 Niestety nie ma tutaj moÅ¼liwoÅ›ci filtrowania (albo jeszcze o tym nie wiem), wiÄ™c jeÅ›li mamy duÅ¼o aktywnych tuneli to najlepiej zbieraÄ‡ wypisywane komunikaty do pliku i dopiero przeglÄ…daÄ‡.
...</p></div><footer class=entry-footer><span title='2012-01-23 00:00:00 +0000 UTC'>2012-01-23</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Sniffowanie w FortiOS" href=https://gagor.pro/2012/01/sniffowanie-w-fortios/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Upgrade Debian Lenny do Squeeze</h2></header><div class=entry-content><p>Co jakiÅ› czas powtarza siÄ™ sytuacja, gdy muszÄ™ zaktualizowaÄ‡ jakiÅ› serwerek z Lennym do Squeezeâ€™a i za kaÅ¼dym razem muszÄ™ googlaÄ‡ za odpowiednimi ÅºrÃ³dÅ‚ami, ktÃ³re paczki najpierw, etcâ€¦ WiÄ™c sobie zebraÅ‚em wszystko w poniÅ¼szym poÅ›cie.
W razie wÄ…tpliwoÅ›ci patrz tutaj:Â http://www.debian.org/releases/squeeze/releasenotes
ZrÃ³b backup konfiguracji.
Trzeba zaktualizowaÄ‡ ÅºrÃ³dÅ‚a by wskazywaÅ‚y na squeezeâ€™a (poniÅ¼sze polecenie nadpisze Twoje obecne repozytoria):
cat > /etc/apt/sources.list &lt;&lt;SRC deb http://ftp.pl.debian.org/debian/ squeeze main non-free contrib deb-src http://ftp.pl.debian.org/debian/ squeeze main non-free contrib deb http://security.debian.org/ squeeze/updates main contrib non-free deb-src http://security.debian.org/ squeeze/updates main contrib non-free deb http://ftp.pl.debian.org/debian/ squeeze-updates main non-free contrib deb-src http://ftp.pl.debian.org/debian/ squeeze-updates main non-free contrib deb http://backports.debian.org/debian-backports squeeze-backports main contrib non-free SRC Teraz trzeba odÅ›wieÅ¼yÄ‡ repozytoria:
...</p></div><footer class=entry-footer><span title='2012-01-13 00:00:00 +0000 UTC'>2012-01-13</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Upgrade Debian Lenny do Squeeze" href=https://gagor.pro/2012/01/upgrade-debian-lenny-do-squeeze/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset='https://gagor.pro/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/cover_hu_51c947710ef9b61b.webp 360w,https://gagor.pro/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/cover_hu_f0a9bb0d7c9df3b8.webp 480w,https://gagor.pro/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/cover_hu_268513f613d61a6b.webp 720w,https://gagor.pro/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/cover.webp 720w' src=https://gagor.pro/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/cover.webp sizes="(min-width: 768px) 720px, 100vw" width=720 height=300 alt></figure><header class=entry-header><h2 class=entry-hint-parent>Skoda Fabia - Kasownie ostrzeÅ¼eÅ„ OIL i service INSP</h2></header><div class=entry-content><p>Dowiedz siÄ™, jak skasowaÄ‡ ostrzeÅ¼enia OIL i service INSP w samochodzie Skoda Fabia, wykonujÄ…c kilka prostych krokÃ³w.</p></div><footer class=entry-footer><span title='2012-01-12 00:00:00 +0000 UTC'>2012-01-12</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Skoda Fabia - Kasownie ostrzeÅ¼eÅ„ OIL i service INSP" href=https://gagor.pro/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>MÃ³j domyÅ›lny config dla SciTE</h2></header><div class=entry-content><p>Uruchamiamy SciTE i klikamy menu Options -> Open User Options File, wpisujemy dane:
# domyÅ›lne korzystanie z fontÃ³w o staÅ‚ej szerokoÅ›ci font.base=$(font.monospace) font.small=$(font.monospace) font.comment=$(font.monospace) font.text=$(font.monospace) font.text.comment=$(font.monospace) font.embedded.base=$(font.monospace) font.embedded.comment=$(font.monospace) font.vbs=$(font.monospace) # numerowanie wierszy line.margin.visible=1 line.margin.width=3+ # ikonki toolbara z tematu systemowego toolbar.usestockicons=1 # zaznaczanie blokowe rectangular.selection.modifier=8 # ustawienia wgÅ‚Ä™bieÅ„ kodu indent.size=4 use.tabs=1 indent.automatic=1 WiÄ™cej opcji tutaj:Â http://www.scintilla.org/SciTEDoc.html
Sam pewnie jeszcze nie raz zaktualizujÄ™ ten wpis ğŸ˜„</p></div><footer class=entry-footer><span title='2012-01-11 00:00:00 +0000 UTC'>2012-01-11</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to MÃ³j domyÅ›lny config dla SciTE" href=https://gagor.pro/2012/01/moj-domyslny-config-dla-scite/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Empathy - zamykanie okienka chatu przyciskiem Escape</h2></header><div class=entry-content><p>W Gajimâ€™ie od dawna brakowaÅ‚o mi wygodnego przeszukiwania po liÅ›cie kontaktÃ³w (takiego jakie ma siÄ™ pojawiÄ‡ juÅ¼ niebawem w wersji 0.15 - z pÃ³Å‚tora roku juÅ¼ na to czekamâ€¦). W miÄ™dzy czasie znalazÅ‚em chwilÄ™ by pobawiÄ‡ siÄ™ Empathy - brzydki, nie ma przeglÄ…darki usÅ‚ug XMPP, ale wyszukiwanie na rosterze jest dokÅ‚adnie takie jakiego szukaÅ‚em (w miarÄ™ wpisywania znakÃ³w zawÄ™Å¼a listÄ™ kontaktÃ³w by pasowaÅ‚y do wpisywanego wzorca).
Tyle Å¼e skrÃ³ty klawiaturowe w tym programie zwyczajnie mnie rozwalajÄ… - przez lata przyzwyczaiÅ‚em siÄ™ Å¼e okienka czatu moÅ¼na zamknÄ…Ä‡ Escapeâ€™m - a tutaj nawet nie ma opcji, ktÃ³ra pozwalaÅ‚a by na takÄ… zmianÄ™ zachowania.
...</p></div><footer class=entry-footer><span title='2011-12-30 00:00:00 +0000 UTC'>2011-12-30</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Empathy - zamykanie okienka chatu przyciskiem Escape" href=https://gagor.pro/2011/12/empathy-zamykanie-okienka-chatu-przyciskiem-escape/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pro/page/20/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pro/page/22/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2025</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script defer src=https://analytics.ahrefs.com/analytics.js data-key=ngiuUolR4+T0MnN5eV7I/A async></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>