<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache | timor's site</title><meta name=keywords content="Apache,APC,eAccelerator,PHP,XCache"><meta name=description content="Przez pewien czas korzystałem z eAcceleratora do przyspieszenia działania stron pisanych w PHP’ie ale czasem bywał niestabilny. Aktualizacje pojawiały się rzad"><meta name=author content="timor"><link rel=canonical href=https://gagor.pl/2011/11/porownanie-optymalizatorow-php-eaccelerator-php-apc-xcache/><link crossorigin=anonymous href=/assets/css/stylesheet.93a7bb0e4037b10e2d13ecb5a064edb636bd4156dfce17bfbd5115c4fce2d166.css integrity="sha256-k6e7DkA3sQ4tE+y1oGTttja9QVbfzhe/vVEVxPzi0WY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://gagor.pl/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pl/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pl/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pl/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pl/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache"><meta property="og:description" content="Przez pewien czas korzystałem z eAcceleratora do przyspieszenia działania stron pisanych w PHP&rsquo;ie ale czasem bywał niestabilny. Aktualizacje pojawiały się rzadko a od czasu do czasu miewałem problemy ze stabilnością tej wtyczki na kilku bardziej skomplikowanych aplikacjach. Zdarzało się że pomimo zmiany kodu w skrypcie php, eAccelerator serwował wciąż stary plik - konieczny był restart Apache&rsquo;go by wszystko działało jak trzeba.
Zacząłem szukać alternatywy i trafiłem na dwa moduły:
APC (czyli Alternative PHP Cache), który ma być nawet domyślnie wbudowany w PHP od wersji 5."><meta property="og:type" content="article"><meta property="og:url" content="https://gagor.pl/2011/11/porownanie-optymalizatorow-php-eaccelerator-php-apc-xcache/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-11-02T00:00:00+00:00"><meta property="article:modified_time" content="2011-11-02T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache"><meta name=twitter:description content="Przez pewien czas korzystałem z eAcceleratora do przyspieszenia działania stron pisanych w PHP&rsquo;ie ale czasem bywał niestabilny. Aktualizacje pojawiały się rzadko a od czasu do czasu miewałem problemy ze stabilnością tej wtyczki na kilku bardziej skomplikowanych aplikacjach. Zdarzało się że pomimo zmiany kodu w skrypcie php, eAccelerator serwował wciąż stary plik - konieczny był restart Apache&rsquo;go by wszystko działało jak trzeba.
Zacząłem szukać alternatywy i trafiłem na dwa moduły:
APC (czyli Alternative PHP Cache), który ma być nawet domyślnie wbudowany w PHP od wersji 5."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://gagor.pl/posts/"},{"@type":"ListItem","position":3,"name":"Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache","item":"https://gagor.pl/2011/11/porownanie-optymalizatorow-php-eaccelerator-php-apc-xcache/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache","name":"Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache","description":"Przez pewien czas korzystałem z eAcceleratora do przyspieszenia działania stron pisanych w PHP\u0026rsquo;ie ale czasem bywał niestabilny. Aktualizacje pojawiały się rzadko a od czasu do czasu miewałem problemy ze stabilnością tej wtyczki na kilku bardziej skomplikowanych aplikacjach. Zdarzało się że pomimo zmiany kodu w skrypcie php, eAccelerator serwował wciąż stary plik - konieczny był restart Apache\u0026rsquo;go by wszystko działało jak trzeba.\nZacząłem szukać alternatywy i trafiłem na dwa moduły:\nAPC (czyli Alternative PHP Cache), który ma być nawet domyślnie wbudowany w PHP od wersji 5.","keywords":["Apache","APC","eAccelerator","PHP","XCache"],"articleBody":"Przez pewien czas korzystałem z eAcceleratora do przyspieszenia działania stron pisanych w PHP’ie ale czasem bywał niestabilny. Aktualizacje pojawiały się rzadko a od czasu do czasu miewałem problemy ze stabilnością tej wtyczki na kilku bardziej skomplikowanych aplikacjach. Zdarzało się że pomimo zmiany kodu w skrypcie php, eAccelerator serwował wciąż stary plik - konieczny był restart Apache’go by wszystko działało jak trzeba.\nZacząłem szukać alternatywy i trafiłem na dwa moduły:\nAPC (czyli Alternative PHP Cache), który ma być nawet domyślnie wbudowany w PHP od wersji 5.4, XCache - projekt rozwijany przez jednego z programistów lighttpd. Byłem ciekaw wydajności poszczególnych rozwiązań względem siebie, więc przygotowałem małe środowisko testowe składające się z 4 maszyn wirtualnych (działających pod kontrolą VirtualBox’a):\nApache 2.2 + PHP 5.3 Apache 2.2 + PHP 5.3 + eAccelerator 0.9.6.1 (instrukcja instalacji tutaj) Apache 2.2 + PHP 5.3 + APC 3.1.3p1 (pod Debianem paczka php-apc) Apache 2.2 + PHP 5.3 + XCache 1.3.0 (pod Debianem paczka php5-xcache) Najpierw przygotowałem pierwszą maszynę wraz z konfiguracją MySQL’a i domyślną instalacją WordPress’a 3.2 by test był w miarę miarodajny. Kolejne maszynki to klony tej pierwszej, plus zainstalowane i domyślnie skonfigurowane kolejne rozszerzenia. Każdemu z rozszerzeń przyznałem 32 MB pamięci na cache.\nMetodyka testu Do automatyzacji testu posłużył mi skrypt w bash’u uruchamiający ab dla 1000 zapytań z kolejno rosnącą liczbą równoległych połączeń. Pozwoli to na porównanie wydajności optymalizatorów przy mniejszym i większym obciążeniu. Uruchomienie testu dla czystej instalacji bez dodatku pokaże jak duży przyrost wydajności daje się uzyskać.\nJako systemy testowe posłużyły mi wirtualki uruchomione pod kontrolą VirtualBOX’a z zainstalowanym aktualnym Debianem Squeeze. Przydzieliłem im po 1 GB RAM’u i 2 rdzenie CPU. Wirtualki te raczej nie są highend’em ale do ogólnego porównania optymalizatorów będą w zupełności wystarczające.\nWyniki Już na pierwszy rzut oka widać że opłaca się zainstalować dowolny optymalizator bo ich wydajność jest zbliżona a w stosunku do czystej instalacji pozwalają obsłużyć prawie czterokrotnie większy ruch. Przy czym system bez opcode cacher’a nie pokonał granicy 70 zapytań na sekundę - zaczął swapować i nie ukończył kolejnych testów.\nPoniżej wykres przedstawiający ilość obsługiwanych żądań w zależności od ilości równoczesnych połączeń: I jeszcze jeden wykres, na którym porównałem wydajność poszczególnych optymalizatorów względem czystego PHP’a Wychodzi na to że przez większość testu eAccelerator był najszybszy, gdzieniegdzie przeplatając się z APC. XCache nieznacznie ale na całej długości poniżej dwóch wcześniejszych. Całościowe różnice pomiędzy optymalizatorami przeważnie nie przekraczały 3 zapytań/sekundę - więc różnice pomiędzy nimi są rzędu 1~2%. Można na tej podstawie wywnioskować że wydajność jest tak zbliżona iż nie powinna być jedynym kryterium wyboru optymalizatora dla naszego systemu.\nPoniżej postaram się zebrać subiektywne oceny poszczególnych rozwiązań by dostarczyć dodatkowych argumentów.\neAccelerator eAccelerator był najszybszy w teście ale miewałem z nim problemy (kilka razy ale…) stąd nie jest moim faworytem.\nZalety:\nzdecydowanie najszybszy, jest stosunkowo aktywnie rozwijany, dość stabilny, wbudowany encoder i dekoder skryptów (do dystrybucji kodu bez źródeł w postaci skompilowanej). Wady:\nbrak paczek w repozytoriach Debiana - ręczna kompilacja nie jest ciężka ale gdy trzeba go utrzymać na 30 serwerach to przestaje być zabawnie, pomimo że pojawiają się nowe wersje to ostatnio miałem problemy z pobraniem ich ze strony projektu - szukanie paczek “gdzieś” na sieci nie wydaje mi się bezpieczne, miałem problem z pewną dużą aplikacją, nie działała stabilnie pod eAcceleratorem, eAccelerator powstał na bazie kodu Turck MMCache (ten nie jest już rozwijany) -istnieją pewne wątpliwości licencyjne co do jego kodu… PHP APC APC pod względem wydajności nieznacznie ustępuje eAcceleratorowi. Ciekawą funkcją udostępnianą przez APC jest obsługa RFC1867 (File Upload Progress hook handler). Jest też pewna potwierdzona plotka mówiąca o włączeniu kodu APC do PHP’a 6. Teoretycznie jeżeli przesiądziemy się już teraz na APC to później powinno pójść łatwiej…\nZalety:\ndość szybki, aktywnie rozwijany, bardzo stabilny, dostępna paczka w repozytoriach Debiana (i z tego co wiem na wielu innych systemach też przeważnie wystarczają domyślne repozytoria) obsługa RFC1867 (upload progress), zostanie włączony do PHP od wersji 5.4, APC udostępnia API umożliwiające tworzenie własnych obiektów w pamięci cache współdzielonych pomiędzy zapytaniami np. by nie pobierać za każdym razem właściwości profilu z bazy, listy użytkowników, itp (coś w stylu memcached). dostępny jest ze skryptem apc.php, który pozwala zarządzać obiektami w cache, czyścić itp. Wady:\npodobno bywa problematyczny w konfiguracji z fast-cgi (choć u mnie działa), przy mocno zapchanym cache’u czyszczenie go potrafiło się zwiesić. XCache Ostatni projekt rozwijany jest przez jednego z programistów lighttpd. W chwili obecnej wydaje się być dość dojrzałym i wystarczająco stabilnym do produkcyjnego użycia. Choć gdy próbowałem z niego korzystać jakiś rok/dwa temu to miałem sporo losowych padów - niezależnych od obciążenia serwera.\nZalety:\nstabilny, aktywnie rozwijany z kilkoma gałęziami (stable/unstable/devel) - możemy wybrać czy potrzebujemy funkcji czy stabilności. Wady:\nnieznacznie, ale jednak najniższa wydajność, miałem z nim mało styczności a szybko zraziłem się do kiepskiej stabilności - obecnie wydaje się że nie stanowi to problemu. Podsumowanie i mój wybór Do testu celowo wybrałem WordPress’a jako dość duży i wystarczająco skomplikowany projekt - jeśli on będzie działać stabilnie to większość mniejszych też powinna… Ku mojemu zaskoczeniu żaden z optymalizatorów nie sypnął błędami. Dziwiło mnie to bo jeszcze jakiś czas temu eAccelerator czasami losowo mi się sypał - działał przez tydzień i nagle zgon w sobotę po południu… Później próbowałem XCache i było podobnie… tylko gorzej bo problemy występowały częściej. APC testowałem jako ostatnie ale w wykorzystywanych przeze mnie aplikacjach zachowywał się bardzo stabilnie i przewidywalni. Jedyny problem z wieszaniem się podczas czyszczenia/usuwania elementu z cache’u można obejść stosunkowo szybkim restartem Apachego - skuteczne i efekt ten sam 😃 Na jednym z serwerów testuję APC w trybie fast-cgi od około dwóch miesięcy i jak na razie nie mogę narzekać (może w wolnej chwili uzupełnię to zestawienie o testy w trybie fast-cgi).\nObecnie w większości administrowanych przeze mnie serwerów z PHP’em standardowo instaluję APC. Wybór jest dla mnie tym bardziej oczywisty że paczka ta jest dostępna w standardowych repozytoriach (łatwość aktualizacji itd) - nie ma zatem potrzeby jak w przypadku eAcceleratora instalowania wielu paczek z zależnościami by móc skompilować 1 moduł.\nDodatkową zaletą jest fakt że APC ma być standardowo wbudowany w kolejne wersje PHP’a - jeżeli w rozwijanych aplikacjach już teraz zwróci się uwagę na integrację z tym rozwiązaniem to w przyszłości migracja nie powinna przysporzyć problemów.\nJeżeli się wahasz - wybierz APC. Jeżeli w Twoim środowisku okaże się niestabilne zawsze możesz spróbować dwóch pozostałych rozwiązań.\nPrzydatne linki (część potwierdza moje obserwacje, są też testy z drupalem):\nhttp://php.net/manual/en/book.apc.php http://xcache.lighttpd.net/ http://eaccelerator.net/ (w chwili pisanie strona nie działała 😃)\nhttp://www.ducea.com/2006/10/30/php-accelerators/ http://2bits.com/articles/benchmarking-drupal-with-php-op-code-caches-apc-eaccelerator-and-xcache-compared.html http://2bits.com/articles/benchmarking-apc-vs-eaccelerator-using-drupal.html http://hostingfu.com/article/increasing-php-application-performance-xcache\n","wordCount":"1067","inLanguage":"en","datePublished":"2011-11-02T00:00:00Z","dateModified":"2011-11-02T00:00:00Z","author":{"@type":"Person","name":"timor"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gagor.pl/2011/11/porownanie-optymalizatorow-php-eaccelerator-php-apc-xcache/"},"publisher":{"@type":"Organization","name":"timor's site","logo":{"@type":"ImageObject","url":"https://gagor.pl/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pl accesskey=h title="timor's site (Alt + H)"><img src=https://gagor.pl/favicon-72x72.png alt aria-label=logo height=36>timor's site</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pl/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pl/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pl/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pl/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pl/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://gagor.pl/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gagor.pl>Home</a>&nbsp;»&nbsp;<a href=https://gagor.pl/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache</h1><div class=post-meta><span title='2011-11-02 00:00:00 +0000 UTC'>2011-11-02</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;timor</div></header><div class=post-content><p>Przez pewien czas korzystałem z eAcceleratora do przyspieszenia działania stron pisanych w PHP&rsquo;ie ale czasem bywał niestabilny. Aktualizacje pojawiały się rzadko a od czasu do czasu miewałem problemy ze stabilnością tej wtyczki na kilku bardziej skomplikowanych aplikacjach. Zdarzało się że pomimo zmiany kodu w skrypcie php, eAccelerator serwował wciąż stary plik - konieczny był restart Apache&rsquo;go by wszystko działało jak trzeba.</p><p>Zacząłem szukać alternatywy i trafiłem na dwa moduły:</p><ul><li><a href=http://php.net/manual/en/book.apc.php>APC</a> (czyli Alternative PHP Cache), który ma być nawet domyślnie wbudowany w PHP od wersji 5.4,</li><li><a href=http://xcache.lighttpd.net/>XCache</a> - projekt rozwijany przez jednego z programistów lighttpd.</li></ul><p>Byłem ciekaw wydajności poszczególnych rozwiązań względem siebie, więc przygotowałem małe środowisko testowe składające się z 4 maszyn wirtualnych (działających pod kontrolą VirtualBox&rsquo;a):</p><ol><li>Apache 2.2 + PHP 5.3</li><li>Apache 2.2 + PHP 5.3 + eAccelerator 0.9.6.1 (instrukcja instalacji <a href=https://gagor.pl/2011/08/optymalizacja-php-z-eacceleratorem/>tutaj</a>)</li><li>Apache 2.2 + PHP 5.3 + APC 3.1.3p1 (pod Debianem paczka php-apc)</li><li>Apache 2.2 + PHP 5.3 + XCache 1.3.0 (pod Debianem paczka php5-xcache)</li></ol><p>Najpierw przygotowałem pierwszą maszynę wraz z konfiguracją MySQL&rsquo;a i domyślną instalacją WordPress&rsquo;a 3.2 by test był w miarę miarodajny. Kolejne maszynki to klony tej pierwszej, plus zainstalowane i domyślnie skonfigurowane kolejne rozszerzenia. Każdemu z rozszerzeń przyznałem 32 MB pamięci na cache.</p><h2 id=metodyka-testu>Metodyka testu<a hidden class=anchor aria-hidden=true href=#metodyka-testu>#</a></h2><p>Do automatyzacji testu posłużył mi skrypt w bash&rsquo;u uruchamiający <em>ab</em> dla 1000 zapytań z kolejno rosnącą liczbą równoległych połączeń. Pozwoli to na porównanie wydajności optymalizatorów przy mniejszym i większym obciążeniu. Uruchomienie testu dla czystej instalacji bez dodatku pokaże jak duży przyrost wydajności daje się uzyskać.</p><p>Jako systemy testowe posłużyły mi wirtualki uruchomione pod kontrolą VirtualBOX&rsquo;a z zainstalowanym aktualnym Debianem Squeeze. Przydzieliłem im po 1 GB RAM&rsquo;u i 2 rdzenie CPU. Wirtualki te raczej nie są highend&rsquo;em ale do ogólnego porównania optymalizatorów będą w zupełności wystarczające.</p><h2 id=wyniki>Wyniki<a hidden class=anchor aria-hidden=true href=#wyniki>#</a></h2><p>Już na pierwszy rzut oka widać że opłaca się zainstalować dowolny optymalizator bo ich wydajność jest zbliżona a w stosunku do czystej instalacji pozwalają obsłużyć prawie czterokrotnie większy ruch. Przy czym system bez opcode cacher&rsquo;a nie pokonał granicy 70 zapytań na sekundę - zaczął swapować i nie ukończył kolejnych testów.</p><p>Poniżej wykres przedstawiający ilość obsługiwanych żądań w zależności od ilości równoczesnych połączeń:
<img loading=lazy src=/2011/10/stat1.png alt="Benchmark optymalizatorów PHP - wydajność w zapytaniach/sekundę"></p><p>I jeszcze jeden wykres, na którym porównałem wydajność poszczególnych optymalizatorów względem czystego PHP&rsquo;a
<img loading=lazy src=/2011/10/stat2.png alt="Benchmark optymalizatorów PHP - wydajność względem czystego PHP"></p><p>Wychodzi na to że przez większość testu eAccelerator był najszybszy, gdzieniegdzie przeplatając się z APC. XCache nieznacznie ale na całej długości poniżej dwóch wcześniejszych. Całościowe różnice pomiędzy optymalizatorami przeważnie nie przekraczały 3 zapytań/sekundę - więc różnice pomiędzy nimi są rzędu 1~2%. Można na tej podstawie wywnioskować że wydajność jest tak zbliżona iż nie powinna być jedynym kryterium wyboru optymalizatora dla naszego systemu.</p><p>Poniżej postaram się zebrać subiektywne oceny poszczególnych rozwiązań by dostarczyć dodatkowych argumentów.</p><h2 id=eaccelerator>eAccelerator<a hidden class=anchor aria-hidden=true href=#eaccelerator>#</a></h2><p>eAccelerator był najszybszy w teście ale miewałem z nim problemy (kilka razy ale&mldr;) stąd nie jest moim faworytem.</p><p>Zalety:</p><ul><li>zdecydowanie najszybszy,</li><li>jest stosunkowo aktywnie rozwijany,</li><li>dość stabilny,</li><li>wbudowany encoder i dekoder skryptów (do dystrybucji kodu bez źródeł w postaci skompilowanej).</li></ul><p>Wady:</p><ul><li>brak paczek w repozytoriach Debiana - ręczna kompilacja nie jest ciężka ale gdy trzeba go utrzymać na 30 serwerach to przestaje być zabawnie,</li><li>pomimo że pojawiają się nowe wersje to ostatnio miałem problemy z pobraniem ich ze strony projektu - szukanie paczek &ldquo;gdzieś&rdquo; na sieci nie wydaje mi się bezpieczne,</li><li>miałem problem z pewną dużą aplikacją, nie działała stabilnie pod eAcceleratorem,</li><li>eAccelerator powstał na bazie kodu Turck MMCache (ten nie jest już rozwijany) -istnieją pewne wątpliwości licencyjne co do jego kodu&mldr;</li></ul><h2 id=php-apc>PHP APC<a hidden class=anchor aria-hidden=true href=#php-apc>#</a></h2><p>APC pod względem wydajności nieznacznie ustępuje eAcceleratorowi. Ciekawą funkcją udostępnianą przez APC jest obsługa RFC1867 (File Upload Progress hook handler). Jest też pewna potwierdzona plotka mówiąca o włączeniu kodu APC do PHP&rsquo;a 6. Teoretycznie jeżeli przesiądziemy się już teraz na APC to później powinno pójść łatwiej&mldr;</p><p>Zalety:</p><ul><li>dość szybki,</li><li>aktywnie rozwijany,</li><li>bardzo stabilny,</li><li>dostępna paczka w repozytoriach Debiana (i z tego co wiem na wielu innych systemach też przeważnie wystarczają domyślne repozytoria)</li><li>obsługa RFC1867 (upload progress),</li><li>zostanie włączony do PHP od wersji 5.4,</li><li>APC udostępnia API umożliwiające tworzenie własnych obiektów w pamięci cache współdzielonych pomiędzy zapytaniami np. by nie pobierać za każdym razem właściwości profilu z bazy, listy użytkowników, itp (coś w stylu memcached).</li><li>dostępny jest ze skryptem apc.php, który pozwala zarządzać obiektami w cache, czyścić itp.</li></ul><p>Wady:</p><ul><li>podobno bywa problematyczny w konfiguracji z fast-cgi (choć u mnie działa),</li><li>przy mocno zapchanym cache&rsquo;u czyszczenie go potrafiło się zwiesić.</li></ul><h2 id=xcache>XCache<a hidden class=anchor aria-hidden=true href=#xcache>#</a></h2><p>Ostatni projekt rozwijany jest przez jednego z programistów lighttpd.  W chwili obecnej wydaje się być dość dojrzałym i wystarczająco stabilnym do produkcyjnego użycia. Choć gdy próbowałem z niego korzystać jakiś rok/dwa temu to miałem sporo losowych padów - niezależnych od obciążenia serwera.</p><p>Zalety:</p><ul><li>stabilny,</li><li>aktywnie rozwijany z kilkoma gałęziami (stable/unstable/devel) - możemy wybrać czy potrzebujemy funkcji czy stabilności.</li></ul><p>Wady:</p><ul><li>nieznacznie, ale jednak najniższa wydajność,</li><li>miałem z nim mało styczności a szybko zraziłem się do kiepskiej stabilności - obecnie wydaje się że nie stanowi to problemu.</li></ul><h2 id=podsumowanie-i-mój-wybór>Podsumowanie i mój wybór<a hidden class=anchor aria-hidden=true href=#podsumowanie-i-mój-wybór>#</a></h2><p>Do testu celowo wybrałem WordPress&rsquo;a jako dość duży i wystarczająco skomplikowany projekt - jeśli on będzie działać stabilnie to większość mniejszych też powinna&mldr; Ku mojemu zaskoczeniu żaden z optymalizatorów nie sypnął błędami. Dziwiło mnie to bo jeszcze jakiś czas temu eAccelerator czasami losowo mi się sypał - działał przez tydzień i nagle zgon w sobotę po południu&mldr; Później próbowałem XCache i było podobnie&mldr; tylko gorzej bo problemy występowały częściej. APC testowałem jako ostatnie ale w wykorzystywanych przeze mnie aplikacjach zachowywał się bardzo stabilnie i przewidywalni. Jedyny problem z wieszaniem się podczas czyszczenia/usuwania elementu z cache&rsquo;u można obejść stosunkowo szybkim restartem Apachego - skuteczne i efekt ten sam 😃 Na jednym z serwerów testuję APC w trybie fast-cgi od około dwóch miesięcy i jak na razie nie mogę narzekać (może w wolnej chwili uzupełnię to zestawienie o testy w trybie fast-cgi).</p><p>Obecnie w większości administrowanych przeze mnie serwerów z PHP&rsquo;em standardowo instaluję <strong>APC</strong>. Wybór jest dla mnie tym bardziej oczywisty że paczka ta jest dostępna w standardowych repozytoriach (łatwość aktualizacji itd) - nie ma zatem potrzeby jak w przypadku eAcceleratora instalowania wielu paczek z zależnościami by móc skompilować 1 moduł.</p><p>Dodatkową zaletą jest fakt że APC ma być standardowo wbudowany w kolejne wersje PHP&rsquo;a - jeżeli w rozwijanych aplikacjach już teraz zwróci się uwagę na integrację z tym rozwiązaniem to w przyszłości migracja nie powinna przysporzyć problemów.</p><p>Jeżeli się wahasz - wybierz APC. Jeżeli w Twoim środowisku okaże się niestabilne zawsze możesz spróbować dwóch pozostałych rozwiązań.</p><p>Przydatne linki (część potwierdza moje obserwacje, są też testy z drupalem):<br><a href=http://php.net/manual/en/book.apc.php>http://php.net/manual/en/book.apc.php</a><br><a href=http://xcache.lighttpd.net/>http://xcache.lighttpd.net/</a><br><a href=http://eaccelerator.net/>http://eaccelerator.net/</a> (w chwili pisanie strona nie działała 😃)<br><a href=http://www.ducea.com/2006/10/30/php-accelerators/>http://www.ducea.com/2006/10/30/php-accelerators/</a><br><a href=http://2bits.com/articles/benchmarking-drupal-with-php-op-code-caches-apc-eaccelerator-and-xcache-compared.html>http://2bits.com/articles/benchmarking-drupal-with-php-op-code-caches-apc-eaccelerator-and-xcache-compared.html</a><br><a href=http://2bits.com/articles/benchmarking-apc-vs-eaccelerator-using-drupal.html>http://2bits.com/articles/benchmarking-apc-vs-eaccelerator-using-drupal.html</a><br><a href=http://hostingfu.com/article/increasing-php-application-performance-xcache>http://hostingfu.com/article/increasing-php-application-performance-xcache</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://gagor.pl/tags/apache/>Apache</a></li><li><a href=https://gagor.pl/tags/apc/>APC</a></li><li><a href=https://gagor.pl/tags/eaccelerator/>eAccelerator</a></li><li><a href=https://gagor.pl/tags/php/>PHP</a></li><li><a href=https://gagor.pl/tags/xcache/>XCache</a></li></ul><nav class=paginav><a class=prev href=https://gagor.pl/2011/11/x-forwarded-for-mod_rpaf-logowanie-rzeczywistych-adresow-ip-na-apache-za-reverse-proxy/><span class=title>« Prev</span><br><span>X-Forwarded-For + mod_rpaf - logowanie rzeczywistych adresów IP na Apache za reverse proxy</span></a>
<a class=next href=https://gagor.pl/2011/10/sles-11-instalacja-service-packa/><span class=title>Next »</span><br><span>SLES 11 - instalacja Service Pack’a</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache on x" href="https://x.com/intent/tweet/?text=Por%c3%b3wnanie%20optymalizator%c3%b3w%20PHP%20-%20eAccelerator%2c%20PHP%20APC%2c%20XCache&amp;url=https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f&amp;hashtags=Apache%2cAPC%2ceAccelerator%2cPHP%2cXCache"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f&amp;title=Por%c3%b3wnanie%20optymalizator%c3%b3w%20PHP%20-%20eAccelerator%2c%20PHP%20APC%2c%20XCache&amp;summary=Por%c3%b3wnanie%20optymalizator%c3%b3w%20PHP%20-%20eAccelerator%2c%20PHP%20APC%2c%20XCache&amp;source=https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f&title=Por%c3%b3wnanie%20optymalizator%c3%b3w%20PHP%20-%20eAccelerator%2c%20PHP%20APC%2c%20XCache"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache on whatsapp" href="https://api.whatsapp.com/send?text=Por%c3%b3wnanie%20optymalizator%c3%b3w%20PHP%20-%20eAccelerator%2c%20PHP%20APC%2c%20XCache%20-%20https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache on telegram" href="https://telegram.me/share/url?text=Por%c3%b3wnanie%20optymalizator%c3%b3w%20PHP%20-%20eAccelerator%2c%20PHP%20APC%2c%20XCache&amp;url=https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Porównanie optymalizatorów PHP - eAccelerator, PHP APC, XCache on ycombinator" href="https://news.ycombinator.com/submitlink?t=Por%c3%b3wnanie%20optymalizator%c3%b3w%20PHP%20-%20eAccelerator%2c%20PHP%20APC%2c%20XCache&u=https%3a%2f%2fgagor.pl%2f2011%2f11%2fporownanie-optymalizatorow-php-eaccelerator-php-apc-xcache%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=tgagor/tgagor.github.io issue-term=pathname theme=photon-dark crossorigin=anonymous async></script></article></main><footer class=footer><span><a href=https://gagor.pl>timor's site</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>