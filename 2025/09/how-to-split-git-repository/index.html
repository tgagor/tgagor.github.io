<!doctype html><html lang=en dir=auto data-theme=dark><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to split Git repository | Tom's Blog</title><meta name=keywords content="git,mono-repo,repository split,git-filter-repo,version control,DevOps,migration,history preservation,best practices,how-to,tutorial,automation,open source,software engineering,workflow"><meta name=description content="This guide explains how to split a mono-repo into smaller repositories, keeping the git history for selected files."><meta name=author content="Tom"><link rel=canonical href=https://gagor.pro/2025/09/how-to-split-git-repository/><link crossorigin=anonymous href=/assets/css/stylesheet.445a292061a10229202a91596acfedd8353a3b060fc3c0cbe20647e786d5ca7e.css integrity="sha256-RFopIGGhAikgKpFZas/t2DU6OwYPw8DL4gZH54bVyn4=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gagor.pro/2025/09/how-to-split-git-repository/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="light"&&(document.querySelector("html").dataset.theme="light")</script><meta name=fediverse:creator content="@tgagor@mastodon.social"><link rel=me href=https://mastodon.social/@tgagor><meta property="og:url" content="https://gagor.pro/2025/09/how-to-split-git-repository/"><meta property="og:site_name" content="Tom's Blog"><meta property="og:title" content="How to split Git repository"><meta property="og:description" content="This guide explains how to split a mono-repo into smaller repositories, keeping the git history for selected files."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-02T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-05T20:24:09+01:00"><meta property="article:tag" content="Bash"><meta property="article:tag" content="Git"><meta property="article:tag" content="DevOps"><meta property="og:image" content="https://gagor.pro/2025/09/how-to-split-git-repository/images/cover.webp"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://gagor.pro/2025/09/how-to-split-git-repository/images/cover.webp"><meta name=twitter:title content="How to split Git repository"><meta name=twitter:description content="This guide explains how to split a mono-repo into smaller repositories, keeping the git history for selected files."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://gagor.pro/posts/"},{"@type":"ListItem","position":2,"name":"How to split Git repository","item":"https://gagor.pro/2025/09/how-to-split-git-repository/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to split Git repository","name":"How to split Git repository","description":"This guide explains how to split a mono-repo into smaller repositories, keeping the git history for selected files.","keywords":["git","mono-repo","repository split","git-filter-repo","version control","DevOps","migration","history preservation","best practices","how-to","tutorial","automation","open source","software engineering","workflow"],"articleBody":"Splitting a large Git mono-repository into several smaller repositories is a bit like the old saying about cake: you want to have your cake and eat it too. As repositories grow, they become harder to manage-builds take longer, pipelines get more complex, and you may find yourself fixing issues in parts of the codebase unrelated to your work just to get your build to pass.\nIf this sounds familiar, you’re not alone. Eventually, the need arises to split a mono-repo. Having several smaller, focused repositories can simplify workflows and help teams take ownership of their code. But how do you do this without losing years of valuable history? Simply starting a new repo and ignoring the past isn’t ideal, and forking then deleting unrelated files leaves too much baggage. Is there a better way?\nLet’s walk through the process. Git is a powerful tool, and with the help of some scripts, you can split a mono-repo while preserving the history of specific files.\nRequirements You’ll need the git-filter-repo1 Python script. Install it with:\nInstall git-filter-repo brew install git-filter-repo # or pip3 install git-filter-repo Clone the original repository Start by cloning your original repository under a new name:\nClone your repository git clone ssh://git@github.com/my/repo.git new-beginning Disconnect from the old origin Switch to your new clone and remove the old remote:\nRemove old remote cd new-beginning git switch -c feature/separate-xyz git remote remove origin Filter history to keep only what You need List the files in your new repo:\nList files in repo ls -1 Decide which files you want to keep, then filter the history:\nFilter history and keep only selected files git filter-repo \\ --force \\ --path .gitattributes \\ --path .gitignore \\ --path .pre-commit-config.yaml \\ --path CHANGELOG.md \\ --path CONTRIBUTING.md \\ --path Makefile \\ # add other paths as needed Clean up unreferenced files and commits Run garbage collection to clean up:\nRun garbage collection git gc --aggressive Set Up a New Origin Create a new repository (if you haven’t already) and point your filtered repo to it:\nAdd new remote and switch to main git remote add origin ssh://git@github.com/my/new-beginning.git git switch -c main Warning\nDepending on your automation and pipelines, pushing changes may trigger jobs or require updates to paths and names. Double-check everything before pushing.\nIf you need, modify any pipelines or automation to prevent unintended builds or release.\nPush Your changes Push your changes to the new repository:\nPush changes to new repository git push -u origin HEAD:main git push --tags # If you need to overwrite history (be very careful!): git push --force Final Steps Commit any remaining changes, push, and verify that everything works as expected.\nFollowing this tutorial, you will end up with a new repo, with full history of changes in files that you listed and only those. It’s the cleanest way to achieve it, that I found.\n“The real takeaway: You don’t have to lose your project’s history or clutter your new repo with old baggage. With the right tools and a careful approach, you can split a mono-repo cleanly and keep your workflow efficient.”\nEnjoyed this post? https://github.com/newren/git-filter-repo external link ↩︎\n","wordCount":"520","inLanguage":"en","image":"https://gagor.pro/2025/09/how-to-split-git-repository/images/cover.webp","datePublished":"2025-09-02T00:00:00Z","dateModified":"2026-01-05T20:24:09+01:00","author":{"@type":"Person","name":"Tom"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gagor.pro/2025/09/how-to-split-git-repository/"},"publisher":{"@type":"Organization","name":"Tom's Blog","logo":{"@type":"ImageObject","url":"https://gagor.pro/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.avif alt="Page logo" aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gagor.pro/>Home</a>&nbsp;»&nbsp;<a href=https://gagor.pro/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">How to split Git repository</h1><div class=post-meta><span title='2025-09-02 00:00:00 +0000 UTC'>2025-09-02</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;·&nbsp;<span>Tom</span></div></header><figure class=entry-cover><img loading=eager srcset='https://gagor.pro/2025/09/how-to-split-git-repository/images/cover_hu_674eca3e1c82987f.webp 360w,https://gagor.pro/2025/09/how-to-split-git-repository/images/cover_hu_c817f7a99114f997.webp 480w,https://gagor.pro/2025/09/how-to-split-git-repository/images/cover_hu_738dec908ba57b38.webp 720w,https://gagor.pro/2025/09/how-to-split-git-repository/images/cover_hu_a07d24bf0b781611.webp 1080w,https://gagor.pro/2025/09/how-to-split-git-repository/images/cover_hu_ba0df670c33fbbc1.webp 1500w,https://gagor.pro/2025/09/how-to-split-git-repository/images/cover.webp 1500w' src=https://gagor.pro/2025/09/how-to-split-git-repository/images/cover.webp sizes="(min-width: 768px) 720px, 100vw" width=1500 height=625 alt="Photo with a sliced cake"><figcaption><a href=https://www.pexels.com/photo/person-slicing-a-cake-5426044/ target=_blank>Photo by Nataliya Vaitkevich<span style=white-space:nowrap>&#8201;<svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" class="svg-inline--fa fa-external-link-alt fa-w-16" role="img" viewBox="0 0 512 512"><title>external link</title><path fill="currentColor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"/></svg></span></a></figcaption></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#requirements aria-label=Requirements>Requirements</a></li><li><a href=#clone-the-original-repository aria-label="Clone the original repository">Clone the original repository</a></li><li><a href=#disconnect-from-the-old-origin aria-label="Disconnect from the old origin">Disconnect from the old origin</a></li><li><a href=#filter-history-to-keep-only-what-you-need aria-label="Filter history to keep only what You need">Filter history to keep only what You need</a></li><li><a href=#clean-up-unreferenced-files-and-commits aria-label="Clean up unreferenced files and commits">Clean up unreferenced files and commits</a></li><li><a href=#set-up-a-new-origin aria-label="Set Up a New Origin">Set Up a New Origin</a></li><li><a href=#push-your-changes aria-label="Push Your changes">Push Your changes</a></li><li><a href=#final-steps aria-label="Final Steps">Final Steps</a></li></ul></div></details></div><div class=post-content><p>Splitting a large Git mono-repository into several smaller repositories is a bit like the old saying about cake: you want to have your cake and eat it too. As repositories grow, they become harder to manage-builds take longer, pipelines get more complex, and you may find yourself fixing issues in parts of the codebase unrelated to your work just to get your build to pass.</p><p>If this sounds familiar, you’re not alone. Eventually, the need arises to split a mono-repo. Having several smaller, focused repositories can simplify workflows and help teams take ownership of their code. But how do you do this without losing years of valuable history? Simply starting a new repo and ignoring the past isn’t ideal, and forking then deleting unrelated files leaves too much baggage. Is there a better way?</p><p>Let’s walk through the process. Git is a powerful tool, and with the help of some scripts, you can split a mono-repo while preserving the history of specific files.</p><h2 id=requirements>Requirements<a hidden class=anchor aria-hidden=true href=#requirements>#</a></h2><p>You’ll need the <code>git-filter-repo</code><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> Python script. Install it with:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>Install git-filter-repo</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install git-filter-repo
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>pip3 install git-filter-repo
</span></span></code></pre></div></div></div><br><h2 id=clone-the-original-repository>Clone the original repository<a hidden class=anchor aria-hidden=true href=#clone-the-original-repository>#</a></h2><p>Start by cloning your original repository under a new name:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>Clone your repository</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone ssh://git@github.com/my/repo.git new-beginning
</span></span></code></pre></div></div></div><br><h2 id=disconnect-from-the-old-origin>Disconnect from the old origin<a hidden class=anchor aria-hidden=true href=#disconnect-from-the-old-origin>#</a></h2><p>Switch to your new clone and remove the old remote:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>Remove old remote</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd new-beginning
</span></span><span style=display:flex><span>git switch -c feature/separate-xyz
</span></span><span style=display:flex><span>git remote remove origin
</span></span></code></pre></div></div></div><br><h2 id=filter-history-to-keep-only-what-you-need>Filter history to keep only what You need<a hidden class=anchor aria-hidden=true href=#filter-history-to-keep-only-what-you-need>#</a></h2><p>List the files in your new repo:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>List files in repo</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -1
</span></span></code></pre></div></div></div><br><p>Decide which files you want to keep, then filter the history:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>Filter history and keep only selected files</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git filter-repo <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    --force <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    --path .gitattributes <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    --path .gitignore <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    --path .pre-commit-config.yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    --path CHANGELOG.md <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    --path CONTRIBUTING.md <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    --path Makefile <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span>    <span style=color:#75715e># add other paths as needed</span>
</span></span></code></pre></div></div></div><br><h2 id=clean-up-unreferenced-files-and-commits>Clean up unreferenced files and commits<a hidden class=anchor aria-hidden=true href=#clean-up-unreferenced-files-and-commits>#</a></h2><p>Run garbage collection to clean up:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>Run garbage collection</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git gc --aggressive
</span></span></code></pre></div></div></div><br><h2 id=set-up-a-new-origin>Set Up a New Origin<a hidden class=anchor aria-hidden=true href=#set-up-a-new-origin>#</a></h2><p>Create a new repository (if you haven’t already) and point your filtered repo to it:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>Add new remote and switch to main</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote add origin ssh://git@github.com/my/new-beginning.git
</span></span><span style=display:flex><span>git switch -c main
</span></span></code></pre></div></div></div><br><style type=text/css>.notice{--root-color:#444;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#c33;--warning-content:#fee;--info-title:#fb7;--info-content:#fec;--note-title:#6be;--note-content:#e7f2fa;--tip-title:#5a5;--tip-content:#efe}@media(prefers-color-scheme:dark){.notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}}body.dark .notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--root-color);background:var(--root-background)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background)}.notice.warning .notice-title{background:var(--warning-title)}.notice.warning{background:var(--warning-content)}.notice.info .notice-title{background:var(--info-title)}.notice.info{background:var(--info-content)}.notice.note .notice-title{background:var(--note-title)}.notice.note{background:var(--note-content)}.notice.tip .notice-title{background:var(--tip-title)}.notice.tip{background:var(--tip-content)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><div><svg width="0" height="0" display="none"><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379.0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628.0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628.0l-22.627 22.627c-6.248 6.248-6.248 16.379.0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196.0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627.0 12 5.373 12 12v1e2h12c6.627.0 12 5.373 12 12v24z"/></symbol></svg></div><div class="notice warning" id="Be extra careful!"><p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#warning-notice"/></svg></span>Warning</p><p>Depending on your automation and pipelines, pushing changes may trigger jobs or require updates to paths and names. Double-check everything before pushing.</p></div><p>If you need, modify any pipelines or automation to prevent unintended builds or release.</p><h2 id=push-your-changes>Push Your changes<a hidden class=anchor aria-hidden=true href=#push-your-changes>#</a></h2><p>Push your changes to the new repository:</p><div class="terminal space shadow"><div class=top><div class=btns><span class="circle red"></span>
<span class="circle yellow"></span>
<span class="circle green"></span></div><div class=title>Push changes to new repository</div></div><div class=terminalbody><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push -u origin HEAD:main
</span></span><span style=display:flex><span>git push --tags
</span></span><span style=display:flex><span><span style=color:#75715e># If you need to overwrite history (be very careful!):</span>
</span></span><span style=display:flex><span>git push --force
</span></span></code></pre></div></div></div><br><h2 id=final-steps>Final Steps<a hidden class=anchor aria-hidden=true href=#final-steps>#</a></h2><p>Commit any remaining changes, push, and verify that everything works as expected.</p><p>Following this tutorial, you will end up with a new repo, with full history of changes in files that you listed and only those. It&rsquo;s the cleanest way to achieve it, that I found.</p><blockquote><p>&ldquo;The real takeaway: You don’t have to lose your project’s history or clutter your new repo with old baggage. With the right tools and a careful approach, you can split a mono-repo cleanly and keep your workflow efficient.&rdquo;</p></blockquote><hr><p>Enjoyed this post?
<a class=kofi href=https://ko-fi.com/tgagor target=_blank><img height=36 style=border:0;height:36px src='https://storage.ko-fi.com/cdn/kofi5.png?v=3' border=0 alt='Buy Me a Coffee at ko-fi.com'></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://github.com/newren/git-filter-repo target=_blank>https://github.com/newren/git-filter-repo<span style=white-space:nowrap>&#8201;<svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" class="svg-inline--fa fa-external-link-alt fa-w-16" role="img" viewBox="0 0 512 512"><title>external link</title><path fill="currentColor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"/></svg></span> </a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://gagor.pro/tag/bash/>Bash</a></li><li><a href=https://gagor.pro/tag/git/>Git</a></li><li><a href=https://gagor.pro/tag/devops/>DevOps</a></li></ul><nav class=paginav><a class=prev href=https://gagor.pro/2025/09/crosspost-your-blog-articles-to-social-media/><span class=title>« Prev</span><br><span>Crosspost Your Blog articles to Social Media</span>
</a><a class=next href=https://gagor.pro/2025/08/benchmarking-docker-image-registries/><span class=title>Next »</span><br><span>Benchmarking Docker image registries</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share How to split Git repository on x" href="https://x.com/intent/tweet/?text=How%20to%20split%20Git%20repository&amp;url=https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f&amp;hashtags=Bash%2cGit%2cDevOps"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share How to split Git repository on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f&amp;title=How%20to%20split%20Git%20repository&amp;summary=How%20to%20split%20Git%20repository&amp;source=https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share How to split Git repository on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f&title=How%20to%20split%20Git%20repository"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share How to split Git repository on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share How to split Git repository on whatsapp" href="https://api.whatsapp.com/send?text=How%20to%20split%20Git%20repository%20-%20https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share How to split Git repository on telegram" href="https://telegram.me/share/url?text=How%20to%20split%20Git%20repository&amp;url=https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share How to split Git repository on ycombinator" href="https://news.ycombinator.com/submitlink?t=How%20to%20split%20Git%20repository&u=https%3a%2f%2fgagor.pro%2f2025%2f09%2fhow-to-split-git-repository%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=tgagor/tgagor.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkzOTg4MDg1Mw==" data-category=Announcements data-category-id=DIC_kwDOAmCIlc4CcAtN data-mapping=pathname data-strict=1 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=transparent_dark data-lang=en data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2026</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script defer src=https://analytics.ahrefs.com/analytics.js data-key=ngiuUolR4+T0MnN5eV7I/A async></script><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>