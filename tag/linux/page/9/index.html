<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux | Tom's Blog</title><meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: linux"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/tag/linux/><link crossorigin=anonymous href=/assets/css/stylesheet.ac508fccced5979b314e48f7f1ee40eb1e209b3d54881568d4190ae923971cff.css integrity="sha256-rFCPzM7Vl5sxTkj38e5A6x4gmz1UiBVo1BkK6SOXHP8=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gagor.pro/tag/linux/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://gagor.pro/tag/linux/"><meta property="og:site_name" content="Tom's Blog"><meta property="og:title" content="Linux"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.avif alt="Page logo" aria-label=logo height=36 width=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pro/>Home</a>&nbsp;Â»&nbsp;<a href=https://gagor.pro/tags/>Tags</a></div><h1>Linux</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Automatically compact CouchDB databases in version 0.11.x</h2></header><div class=entry-content><p>CouchDB databases on version 0.11.x swell very fast. They should be compacted daily for best performance and space usage. Here is my script that could be run in cron and will compact all databases:
#!/bin/bash IP="10.0.0.121" DBS=`curl -sS -X GET http://$IP:5984/_all_dbs | sed -r "s/([,\"[])|(\])+/ /g"` for d in $DBS; do curl -H "Content-Type: application/json" -X POST http://$IP:5984/$d/_compact done More informations about compacting could be found hereâ€‰ external link (also for version 1.2.x).
...</p></div><footer class=entry-footer><span title='2012-11-08 00:00:00 +0000 UTC'>2012-11-08</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Automatically compact CouchDB databases in version 0.11.x" href=https://gagor.pro/2012/11/automatically-compact-couchdb-databases-in-0-11-x/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>LVM na RAID5 i dysku z sektorami 4KB</h2></header><div class=entry-content><p>Po zakupie nowych dyskÃ³w zamierzam utworzyÄ‡ zdegradowanÄ… macierz RAID5 z dwÃ³ch dyskÃ³w (na trzecim na razie znajdujÄ… siÄ™ dane), potem utworzyÄ‡ wolumen LVM, sformatowaÄ‡ go, przekopiowaÄ‡ dane z pojedynczego dysku na macierz i doÅ‚Ä…czyÄ‡ trzeci dysk do macierzy odbudowujÄ…cÂ parzystoÅ›Ä‡. Zadanie bÄ™dzie o tyle ciekawe Å¼e dysk ma 4KB sektory i trzeb bÄ™dzie dbaÄ‡ o wyrÃ³wnanie zasobu do rozmiaru sektora, a w przypadku LVMâ€™a wyrÃ³wnanie do chunkâ€™a z macierzy.
PrawidÅ‚owe wyrÃ³wnanie partycji KupujÄ…c nowy dysk (o pojemnoÅ›ci od 500GB w gÃ³rÄ™), mamy spore szanse Å¼e trafimy na sztukÄ™, ktÃ³ra wykorzystuje 4KB sektory do alokacji danych. PoniewaÅ¼ statystyczny rozmiar przechowywanych plikÃ³w roÅ›nie i nawet proste zdjÄ™cie ma powyÅ¼ej 1MB to wykorzystanie blokÃ³w o tym rozmiarze wiÄ™kszym niÅ¼ 512 bajtÃ³w jest jak najbardziej uzasadnione - zresztÄ… wiÄ™kszoÅ›Ä‡ systemÃ³w plikÃ³w i tak wykorzystuje bloki 48KB. Jest tylko jedno ALE: jeÅ¼eli nie uwzglÄ™dnimy tego podczas partycjonowania dysku to sektory 4KB systemu plikÃ³w zamiast znajdowaÄ‡ siÄ™ w rÃ³wno w odpowiadajÄ…cych im fizycznych 4KB sektorach dysku - mogÄ… zachodziÄ‡ na 2 sektory fizyczne - w takiej sytuacji kaÅ¼de odwoÅ‚anie to takiego sektora w systemie plikÃ³w wymaga odczytania/zapisanie dwÃ³ch sektorÃ³w fizycznych. Co prawda w dyskach stosuje siÄ™ mechanizmy, ktÃ³re powinny zoptymalizowaÄ‡ takie sytuacje ale jak potwierdzajÄ… benchmarki Åºle wyrÃ³wnane partycja mogÄ… znacznie obniÅ¼yÄ‡ wydajnoÅ›Ä‡ dysku. A jeszcze zabawniej jest jeÅ›li kupimy dysk SSD bo w nich bardzo czÄ™sto fizyczne bloki sÄ… 128512KB i Å¼eby byÅ‚o zabawniej to bardzo czÄ™sto dyski SSD deklarujÄ… (choÄ‡by przez SMARTâ€™a) Å¼e majÄ… bloki 512B - SIC!
...</p></div><footer class=entry-footer><span title='2012-11-07 00:00:00 +0000 UTC'>2012-11-07</span>&nbsp;Â·&nbsp;15 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to LVM na RAID5 i dysku z sektorami 4KB" href=https://gagor.pro/2012/11/lvm-na-raid5-i-dysku-z-sektorami-4kb/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Instalacja drukarki i skanera Brother DCP-130C na Ubuntu 12.04</h2></header><div class=entry-content><p>Po kaÅ¼dej aktualizacji Ubuntu mam trochÄ™ zabawy by pozbieraÄ‡ do kupy skaner i drukarkÄ™ z mojego urzÄ…dzenia wielofunkcyjnego Brother DCP-130C. WybraÅ‚em je bo byÅ‚ to jedyny producent, ktÃ³ry deklarowaÅ‚ wsparcie dla Linuxâ€™aâ€¦ choÄ‡ z perspektywy czasu nie jestem pewien czy otrzymaÅ‚em to czego siÄ™ spodziewaÅ‚emâ€¦ Co prawda zamieszczajÄ… instrukcje i aktualizujÄ… drivery ale jeszcze ani raz nie zdarzyÅ‚o mi siÄ™ by po aktualizacji systemu postÄ™powanie wedÅ‚ug tych instrukcji zadziaÅ‚aÅ‚o bezÂ dodatkowejÂ pomocy.. OlaÄ‡!
...</p></div><footer class=entry-footer><span title='2012-11-04 00:00:00 +0000 UTC'>2012-11-04</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Instalacja drukarki i skanera Brother DCP-130C na Ubuntu 12.04" href=https://gagor.pro/2012/11/instalacja-drukarki-i-skanera-brother-dcp-130c-na-ubuntu-12-04/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Prosty MTA z heirloom-mailx i ssmtp</h2></header><div class=entry-content><p>Czasami potrzebny jest nam serwer pocztowy, ktÃ³ry przyÅ›le informacje dla rootâ€™a (np. monity smartd, mdadm, sypniÄ™te crony itp) ale rÃ³wnoczeÅ›nie nie chcemy stawiaÄ‡ peÅ‚nego serwera typu postfix/exim. Warto w tym celu wykorzystaÄ‡ zestaw heirloom-mailx + ssmtp. hairloom-mailx jest prostym shellowym klientem SMTP - przy okazji linkuje polecenie mail (przydatne w skryptach). ssmtp peÅ‚ni funkcjÄ™ serwera SMTP ale nie dziaÅ‚a jako demon - proces uruchamia siÄ™ gdy jest potrzebny i znika po wysÅ‚aniu maili. Dodatkowo ssmtp moÅ¼e zostaÄ‡ skonfigurowany by wysyÅ‚aÄ‡ maile nie tylko przez relayâ€™a ale rÃ³wnieÅ¼ autoryzujÄ…c siÄ™ na zewnÄ™trznym serwerze pocztowym, np. gmailâ€™u czy gdziekolwiek indziej.
...</p></div><footer class=entry-footer><span title='2012-10-31 00:00:00 +0000 UTC'>2012-10-31</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Prosty MTA z heirloom-mailx i ssmtp" href=https://gagor.pro/2012/11/prosty-mta-z-heirloom-mailx-i-ssmtp/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>mod_rewrite - wymuszenie maÅ‚ych liter w adresie URL</h2></header><div class=entry-content><p>Co prawda adresy URL pozwalajÄ… na stosowanie zarÃ³wno duÅ¼ych jak i maÅ‚ych liter ale rÃ³Å¼ne systemy mogÄ… je rÃ³Å¼nie obsÅ‚ugiwaÄ‡ i moÅ¼e siÄ™ trafiÄ‡ sytuacja, w ktÃ³rej nie zechcemy by np. duÅ¼e litery w ogÃ³le pojawiaÅ‚y siÄ™ w adresach URL. DoskonaÅ‚y przykÅ‚ad to mÃ³j niedawny wpis: Apache: ograniczenie dostÄ™pu dla zalogowanych uÅ¼ytkownikÃ³w z mod_rewrite i mod_auth_basic .
Zachodzi tam sytuacja, w ktÃ³rej katalog uÅ¼ytkownika jest jego loginem maÅ‚ymi literami (bÄ…dÅº duÅ¼ymi - jak kto woli), a uÅ¼ytkownik wpisujÄ…c login moÅ¼e uÅ¼yÄ‡ zarÃ³wno maÅ‚ych jak i duÅ¼ych liter i tutaj zaczyna siÄ™ jazda. MoÅ¼na uÅ¼yÄ‡ modyfikatora NC (no case), ale to wpÅ‚ynie tylko na porÃ³wnania - przepisanie Å›cieÅ¼ki na nazwÄ™ podanÄ… przez usera (z duÅ¼ymi i maÅ‚ymi literami) przekieruje do katalogu, ktÃ³rego nie ma (bo jest katalog tylko maÅ‚ymi/duÅ¼ymi).
...</p></div><footer class=entry-footer><span title='2012-09-25 00:00:00 +0000 UTC'>2012-09-25</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to mod_rewrite - wymuszenie maÅ‚ych liter w adresie URL" href=https://gagor.pro/2012/09/mod_rewrite-wymuszenie-malych-liter-w-adresie-url/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Aktualizacja Debian Squeeze do Wheezy</h2></header><div class=entry-content><p>Obecnie dostÄ™pna jest juÅ¼ beta 2 Debiana Wheezy i utrzymywane sÄ… aktualizacje bezpieczeÅ„stwa wiÄ™c powolutku moÅ¼na na testowych maszynach sprawdzaÄ‡ co i jak siÄ™ zmieniÅ‚o.
PoniewaÅ¼ do finalnej wersji pewnie sporo siÄ™ jeszcze zmieni to postaram siÄ™ z czasem aktualizowaÄ‡ ten post by zawieraÅ‚ bieÅ¼Ä…ce informacje.
W razie wÄ…tpliwoÅ›ci patrz tutaj:Â http://wiki.debian.org/DebianTesting
Robimy backup Aktualizujemy ÅºrÃ³dÅ‚a wskazywaÅ‚y na paczki gaÅ‚Ä™zi testing (poniÅ¼sze polecenie nadpisze Twoje obecne repozytoria): cat > /etc/apt/sources.list &lt;&lt;SRC deb http://ftp.pl.debian.org/debian/ wheezy main non-free contrib deb-src http://ftp.pl.debian.org/debian/ wheezy main non-free contrib deb http://security.debian.org/ wheezy/updates main contrib non-free deb-src http://security.debian.org/ wheezy/updates main contrib non-free deb http://ftp.pl.debian.org/debian/ wheezy-updates main non-free contrib deb-src http://ftp.pl.debian.org/debian/ wheezy-updates main non-free contrib SRC Teraz odÅ›wieÅ¼amy repozytoria:
...</p></div><footer class=entry-footer><span title='2012-09-24 00:00:00 +0000 UTC'>2012-09-24</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Aktualizacja Debian Squeeze do Wheezy" href=https://gagor.pro/2012/09/aktualizacja-debian-squeeze-do-wheezy/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Sprawdzanie nieaktywnych linkÃ³w na stronie</h2></header><div class=entry-content><p>Gdy administruje siÄ™ duÅ¼ymi stronami internetowymi raz na czas np. po wiÄ™kszych zmianach w konfiguracji zachodzi potrzeba sprawdzenia czy na stronie nie ma stron prowadzÄ…cych donikÄ…d. O ile w maÅ‚ych serwisach moÅ¼na samemu szybko przeklikaÄ‡ siÄ™ przez stronkÄ™ to dla starych rozroÅ›niÄ™tych serwisÃ³w nie jest to takie proste.
Jest kilka narzÄ™dzi ktÃ³rych moÅ¼na uÅ¼yÄ‡ do testowania linkÃ³w na stronach - kaÅ¼de z nich ma swoje zalety i wady, postaram siÄ™ je przybliÅ¼yÄ‡.
...</p></div><footer class=entry-footer><span title='2012-09-18 00:00:00 +0000 UTC'>2012-09-18</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Sprawdzanie nieaktywnych linkÃ³w na stronie" href=https://gagor.pro/2012/09/sprawdzanie-nieaktywnych-linkow-na-stronie/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Listowanie zasobÃ³w NFS</h2></header><div class=entry-content><p>Szkoda Å¼e polecenia do obsÅ‚ugi NFSâ€™a nie zaczynajÄ… siÄ™ od nfs* - Å‚atwiej byÅ‚oby mi je zapamiÄ™taÄ‡. A jednym z takich, zapominanych najczÄ™Å›ciej jest listowanie zasobÃ³w, szczegÃ³lnie przydatne gdy korzysta siÄ™ z NFSâ€™a na jakimÅ› NASâ€™ie (ktÃ³rego magiczny soft nie pokazuje gdzie i co eksportuje):
showmount -e 192.168.1.10 Export list for 192.168.1.10: /mnt/pools/A/A0/Music * /mnt/pools/A/A0/Movies * /mnt/pools/A/A0/Backups * /mnt/pools/A/A0/Pictures * /mnt/pools/A/A0/Documents * Teraz moÅ¼emy zamontowaÄ‡ zasÃ³b:
mount 192.168.1.10:/mnt/pools/A/A0/Music /mnt/music</p></div><footer class=entry-footer><span title='2012-09-10 00:00:00 +0000 UTC'>2012-09-10</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Listowanie zasobÃ³w NFS" href=https://gagor.pro/2012/09/listowanie-zasobow-nfs/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Apache: ograniczenie dostÄ™pu dla zalogowanych uÅ¼ytkownikÃ³w z mod_rewrite i mod_auth_basic</h2></header><div class=entry-content><p>Niedawno trafiÅ‚em na ciekawy problem w mod_rewrite - by przekierowywaÄ‡ uÅ¼ytkownikÃ³w logujÄ…cych siÄ™ jednym z moduÅ‚Ã³w mod_auth_basic do dedykowanych im katalogÃ³w, rÃ³wnoczeÅ›nie blokujÄ…c dostÄ™p do katalogÃ³w innych uÅ¼ytkownikÃ³w. Nie brzmi to jakoÅ› strasznie ale problem okazaÅ‚ siÄ™ byÄ‡ caÅ‚kiem nietrywialnym. Teoretyczne rozwiÄ…zanie sprowadzaÅ‚o siÄ™ do wyszukania loginu uÅ¼ytkownika ze Å›cieÅ¼ki URI i porÃ³wnania z nazwÄ… uÅ¼ytkownika ze zmiennej %{REMOTE_USER} - jeÅ›li wartoÅ›ci siÄ™ rÃ³Å¼niÄ… to Forbidden. Ale szybko okazaÅ‚o siÄ™ Å¼e w RewriteCond zmienne z dopasowaÅ„ moÅ¼na podstawiaÄ‡ tylko w pierwszym parametrze i Å¼e o ile moÅ¼na RewriteCondâ€™y poÅ‚Ä…czyÄ‡ wyraÅ¼eniami logicznymi typu AND/OR to nie ma moÅ¼liwoÅ›ci porÃ³wnania czy dopasowania z kolejnych RewriteCondâ€™Ã³w sÄ… identyczne. Po kilku dniach szperania w dokumentacji i rÃ³Å¼nych tutorialach udaÅ‚o mi siÄ™ trafiÄ‡ na jednÄ… wartoÅ›ciowÄ… wskazÃ³wkÄ™ ale tej stronki juÅ¼ nie ma, wiÄ™c opiszÄ™ problem dla potomnych.
...</p></div><footer class=entry-footer><span title='2012-09-09 00:00:00 +0000 UTC'>2012-09-09</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Apache: ograniczenie dostÄ™pu dla zalogowanych uÅ¼ytkownikÃ³w z mod_rewrite i mod_auth_basic" href=https://gagor.pro/2012/09/apache-ograniczenie-dostepu-dla-zalogowanych-uzytkownikow-z-mod_rewrite-i-mod_auth_basic/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>unicode-rxvt - moje ustawienia</h2></header><div class=entry-content><p>WybÃ³r dobrego X-terminala to w Å¼yciu admina prawie jak wybÃ³r Å¼onyâ€¦ spÄ™dza siÄ™ wspÃ³lnie duÅ¼o czasu i miÅ‚o gdy estetycznie wyglÄ…da, robi to co chcemy, itdâ€¦ ğŸ˜‰
Nie lubiÄ™ gnome-terminal'a bo domyÅ›lnie binduje F10 co wnerwia mnie w midnight commanderze, stÄ…d szukaÅ‚em i szukaÅ‚em i jak dotychczas najbardziej podpasowaÅ‚ mi unicode-rxvt. MoÅ¼na uruchamiaÄ‡ go po prostu jako urxvt lub uruchomiÄ‡ demona urxvtd po zalogowaniu i potem odpalaÄ‡ tylko klienta urxvtc. Druga metoda skutkuje natychmiastowym startem terminala, wiec gdy podbindujÄ™ go sobie pod F12 mam terminal zawsze pod rÄ™kÄ… w mniej niÅ¼ sekundÄ™. Dodatkowo fajnie wyglÄ…da z pÃ³Å‚przezroczystoÅ›ciÄ… i nie ma Å¼adnych dodatkowych menu/gadÅ¼etÃ³w.
...</p></div><footer class=entry-footer><span title='2012-09-09 00:00:00 +0000 UTC'>2012-09-09</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to unicode-rxvt - moje ustawienia" href=https://gagor.pro/2012/09/unicode-rxvt-moje-ustawienia/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pro/tag/linux/page/8/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pro/tag/linux/page/10/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2025</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script defer src=https://analytics.ahrefs.com/analytics.js data-key=ngiuUolR4+T0MnN5eV7I/A async></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>