<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker | Tom's Blog</title>
<meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: docker"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/tags/docker/><link crossorigin=anonymous href=/assets/css/stylesheet.b75f2a8f35519547db38b55fa84baf47177f24f8e88f96c8d73a55d12ab8bcec.css integrity="sha256-t18qjzVRlUfbOLVfqEuvRxd/JPjoj5bI1zpV0Sq4vOw=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-4F5HJ7RNKM"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4F5HJ7RNKM",{anonymize_ip:!1})}</script><meta property="og:title" content="Docker"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://gagor.pro/tags/docker/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-72x72.png alt aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pro/>Home</a>&nbsp;»&nbsp;<a href=https://gagor.pro/tags/>Tags</a></div><h1>Docker</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/images/cover_hu5cb19a438bc2b3ef411e41f3eb15e00b_51334_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/images/cover_hu5cb19a438bc2b3ef411e41f3eb15e00b_51334_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/images/cover_hu5cb19a438bc2b3ef411e41f3eb15e00b_51334_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/images/cover_hu5cb19a438bc2b3ef411e41f3eb15e00b_51334_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/images/cover_hu5cb19a438bc2b3ef411e41f3eb15e00b_51334_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/images/cover.webp alt="[Photo by Harrison Haines](https://www.pexels.com/photo/rusty-ships-on-rippling-water-6292339/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>How old are Official Docker images in 2024?</h2></header><div class=entry-content><p>Around 3 years ago I’ve checked the age of various base images available on Docker Hub. Curiosity recently got the better of me, prompting another investigation into the current state of affairs.
Since then, there have been significant changes:
CentOS 8 has reached its end of life  external link , prompting a shift to CentOS 8 Stream  external link , which is also nearing its demise 🤣 OpenJDK images have been deprecated  external link and no longer receiving updates....</p></div><footer class=entry-footer><span title='2024-03-24 00:00:00 +0000 UTC'>2024-03-24</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How old are Official Docker images in 2024?" href=https://gagor.pro/2024/03/how-old-are-official-docker-images-in-2024/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/images/cover_huc79e41f60f8a458f8a45096aa88c819e_46302_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/images/cover_huc79e41f60f8a458f8a45096aa88c819e_46302_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/images/cover_huc79e41f60f8a458f8a45096aa88c819e_46302_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/images/cover_huc79e41f60f8a458f8a45096aa88c819e_46302_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/images/cover_huc79e41f60f8a458f8a45096aa88c819e_46302_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/images/cover.webp alt="[Generated by AI](https://www.bing.com/images/create/a-nice-logo-for-a-blog-post-about-file-system-in-c/1-65ef5d10460f428181c3ff8bcc359936?id=goqww%2bR2QLJoCYN4XjxV2w%3d%3d&amp;view=detailv2&amp;idpp=genimg&amp;idpclose=1&amp;thId=OIG2.yF78KU7PXi.xzuZrKVJa&amp;FORM=SYDBIC)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Best practices for writing Dockerfiles - Follow "Filesystem Hierarchy Standard"</h2></header><div class=entry-content><p>When it comes to building Docker images, adhering to the “Filesystem Hierarchy Standard”12 can greatly enhance the organization and maintainability of your containers. Unfortunately, it’s not uncommon to encounter Docker images where files are haphazardly scattered across directories, leading to confusion and unnecessary complications. Let’s delve into some best practices to ensure your Dockerfiles follow the FHS guidelines, thus avoiding common pitfalls and streamlining your container development process.
Below you can find the most important directories, from the perspective of Docker images....</p></div><footer class=entry-footer><span title='2024-03-11 00:00:00 +0000 UTC'>2024-03-11</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label='post link to Best practices for writing Dockerfiles - Follow "Filesystem Hierarchy Standard"' href=https://gagor.pro/2024/03/best-practices-for-writing-dockerfiles-follow-filesystem-hierarchy-standard/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/images/cover_huc58d03272cf779bc58c238b03fe707aa_15484_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/images/cover_huc58d03272cf779bc58c238b03fe707aa_15484_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/images/cover_huc58d03272cf779bc58c238b03fe707aa_15484_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/images/cover_huc58d03272cf779bc58c238b03fe707aa_15484_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/images/cover_huc58d03272cf779bc58c238b03fe707aa_15484_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/images/cover.webp alt="[Renovate Bot](https://github.com/renovatebot/renovate)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Automatic updates of Docker images with Renovate Bot</h2></header><div class=entry-content><p>I’ve been writing recently about best practices for patching and deprecating Docker images , but today I want to show how to automate a huge part of this process.
You might already hear about Dependabot1, it’s a Github’s way to notify developers about security vulnerabilities in their projects. Renovate2 is similar tool3, but doesn’t require Github. For my professional work I use Bitbucket, so Renovate feels more universal as can be used anywhere....</p></div><footer class=entry-footer><span title='2024-03-01 00:00:00 +0000 UTC'>2024-03-01</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Automatic updates of Docker images with Renovate Bot" href=https://gagor.pro/2024/03/automatic-updates-of-docker-images-with-renovate-bot/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/images/cover_hu69aebd002bc452ddc8aea3f0f665ff2b_26156_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/images/cover_hu69aebd002bc452ddc8aea3f0f665ff2b_26156_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/images/cover_hu69aebd002bc452ddc8aea3f0f665ff2b_26156_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/images/cover_hu69aebd002bc452ddc8aea3f0f665ff2b_26156_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/images/cover_hu69aebd002bc452ddc8aea3f0f665ff2b_26156_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/images/cover.webp alt=[xkcd.com](https://xkcd.com/349/) width=1500 height=554></figure><header class=entry-header><h2 class=entry-hint-parent>Keeping Docker afloat - Best practices for patching and deprecating images</h2></header><div class=entry-content><p>Intro One of the biggest benefits of Docker images is their immutability. Once they’re built, they don’t change. Built once, would work forever… That’s how nightmares of security guys starts 🤣 We have then two contradictory concepts: flowchart LR id1(Keep it stable) &lt;---> id2(Keep is up to date and secure) For day to day work, usually first concept wins. You want your builds stable and try to avoid tempting distractions of upgrading log4j to latest version… Who knows what might break....</p></div><footer class=entry-footer><span title='2024-02-09 00:00:00 +0000 UTC'>2024-02-09</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Keeping Docker afloat - Best practices for patching and deprecating images" href=https://gagor.pro/2024/02/keeping-docker-afloat-best-practices-for-patching-and-deprecating-images/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/images/cover_huadc35690a46ceacfed45de830a71f805_39506_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/images/cover_huadc35690a46ceacfed45de830a71f805_39506_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/images/cover_huadc35690a46ceacfed45de830a71f805_39506_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/images/cover_huadc35690a46ceacfed45de830a71f805_39506_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/images/cover_huadc35690a46ceacfed45de830a71f805_39506_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/images/cover.webp alt="AI generated" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>How to run x86-64 Docker images on Apple's MacBook with M1/M2/M3 CPU</h2></header><div class=entry-content><p>Working with Docker environments amid diverse architectures, like Apple’s arm64 and x86-64/AMD64, presents challenges. I’ve encountered the clash between my Mac’s M1 arm64 architecture and my x86-centric server workloads. The solution? Just use DOCKER_DEFAULT_PLATFORM 1 2.
Just run in the terminal:
Enforce platform for all commands export DOCKER_DEFAULT_PLATFORM=linux/amd64 With this command, Docker enforces x86 architecture by default on commands supporting --platform parameter, streamlining workflows and sparing the need for repetitive --platform specifications....</p></div><footer class=entry-footer><span title='2024-02-06 00:00:00 +0000 UTC'>2024-02-06</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How to run x86-64 Docker images on Apple's MacBook with M1/M2/M3 CPU" href=https://gagor.pro/2024/02/how-to-run-x86-64-docker-images-on-apples-macbook-with-m1/m2/m3-cpu/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/images/cover_hube26e7dfcafb199a812b97d96a3a9449_56966_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/images/cover_hube26e7dfcafb199a812b97d96a3a9449_56966_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/images/cover_hube26e7dfcafb199a812b97d96a3a9449_56966_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/images/cover_hube26e7dfcafb199a812b97d96a3a9449_56966_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/images/cover_hube26e7dfcafb199a812b97d96a3a9449_56966_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/images/cover.webp alt="[Photo by Ann H](https://www.pexels.com/photo/blue-tape-measure-on-yellow-surface-10894941/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Checking compressed size of Docker image</h2></header><div class=entry-content><p>One day, I was looking for some gains to improve the startup time for Jenkins agents. We run them as containers and because images are quite big, I was thinking about cutting the size, by cutting less frequently used features. I was looking for the metrics I could use to decide which changes are most valuable. I could think about two: download time and startup time. Together they combine to the gap between the request to start agent and the moment you can start to use it....</p></div><footer class=entry-footer><span title='2024-01-24 00:00:00 +0000 UTC'>2024-01-24</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Checking compressed size of Docker image" href=https://gagor.pro/2024/01/checking-compressed-size-of-docker-image/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu4783fba00928fbd56839c4ba099272d7_16502_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu4783fba00928fbd56839c4ba099272d7_16502_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu4783fba00928fbd56839c4ba099272d7_16502_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu4783fba00928fbd56839c4ba099272d7_16502_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu4783fba00928fbd56839c4ba099272d7_16502_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover.webp alt="[Photo by RealToughCandy.com from Pexels](https://www.pexels.com/photo/a-person-holing-a-sticker-in-close-up-photography-11035380/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>The best way to get NVM working in CI/CD systems</h2></header><div class=entry-content><p>TL;DR While reasoning is important, readers may not be interested in all the frustrations I experienced while figuring out how to get things done. If you’re looking for a quick solution, skip to the “What eventually worked?” section. However, if you’re interested in the thought process behind the solution, keep reading.
Why? Some might bother why the hell I’d like to make my life so hard? 🤣
We used to use nodeenv  external link for that purpose....</p></div><footer class=entry-footer><span title='2023-04-25 00:00:00 +0000 UTC'>2023-04-25</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to The best way to get NVM working in CI/CD systems" href=https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu8e27d600b6f0e24739de1ab9dcd60130_102180_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu8e27d600b6f0e24739de1ab9dcd60130_102180_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu8e27d600b6f0e24739de1ab9dcd60130_102180_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu8e27d600b6f0e24739de1ab9dcd60130_102180_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu8e27d600b6f0e24739de1ab9dcd60130_102180_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover.webp alt="[Photo by Lu Li from Pexels](https://www.pexels.com/photo/men-in-horses-raising-cattles-8916937/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Change configuration of Docker daemon in Rancher Desktop</h2></header><div class=entry-content><p>I switched recently from Docker Desktop  external link on my MacBook to Rancher Desktop  external link . The most important reason for me to do it, was possibility to gently switch between docker and containerd runtimes.
There’s still one feature that I miss on Rancher Desktop - possibility to change Docker daemon configuration. I used to enable experimental features1 and BuildKit2. Sadly, there’s no easy way to do it on Rancher… But there’s a magical way3....</p></div><footer class=entry-footer><span title='2023-03-23 00:00:00 +0000 UTC'>2023-03-23</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Change configuration of Docker daemon in Rancher Desktop" href=https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu0ab69187c094124bb263f017ad4aaa40_161004_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu0ab69187c094124bb263f017ad4aaa40_161004_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu0ab69187c094124bb263f017ad4aaa40_161004_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu0ab69187c094124bb263f017ad4aaa40_161004_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu0ab69187c094124bb263f017ad4aaa40_161004_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover.webp alt="[Photo by Ghasiq Anjum from Pexels](https://www.pexels.com/photo/metal-trash-bin-on-the-side-of-the-street-12841982/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Best practices for writing Dockerfiles - Use VOLUME for all mutable, temporary file locations</h2></header><div class=entry-content><p>IMO people don’t understand how VOLUME1 works so they don’t use it. It’s generally used far too rarely!
In short VOLUME means two things:
Whatever is left in directory marked as VOLUME, stays there and can’t be changed in later layers (actually it can be changed but changes won’t be persistent). Volumes are not part of layered image FS. They’re mounted as anonymous volumes located on standard file system. This means they’re working much faster....</p></div><footer class=entry-footer><span title='2022-09-12 00:00:00 +0000 UTC'>2022-09-12</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Best practices for writing Dockerfiles - Use VOLUME for all mutable, temporary file locations" href=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu18d61db5c523e8359100d3d76cd9f53e_206460_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu18d61db5c523e8359100d3d76cd9f53e_206460_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu18d61db5c523e8359100d3d76cd9f53e_206460_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu18d61db5c523e8359100d3d76cd9f53e_206460_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu18d61db5c523e8359100d3d76cd9f53e_206460_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover.webp alt="[Photo by Tom Fisk from Pexels](https://www.pexels.com/photo/birds-eye-view-photo-of-freight-containers-2226458/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Best practices for writing Dockerfiles - Use .dockerignore</h2></header><div class=entry-content><p>People often complain, that building Docker image takes a long time. “I just added a single jar package” they say… Really?
They often don’t remember that whole “build context”1 is uploaded to Docker daemon during build, which often means they’re not only adding “single jar”, but also all sources, test results and whatever they have in working directory.
Solution is simple - to use .dockerignore file2. Syntax is similar to ....</p></div><footer class=entry-footer><span title='2022-09-11 00:00:00 +0000 UTC'>2022-09-11</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Best practices for writing Dockerfiles - Use .dockerignore" href=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://gagor.pro/tags/docker/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>