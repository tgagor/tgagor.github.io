<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux | Tom's Blog</title>
<meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: linux"><meta name=author content="timor"><link rel=canonical href=https://gagor.pl/tags/linux/><link crossorigin=anonymous href=/assets/css/stylesheet.54d9f8673f7336b5aaf6aed1f553f58f41d018b0cf41d3fd49e352ff367f9312.css integrity="sha256-VNn4Zz9zNrWq9q7R9VP1j0HQGLDPQdP9SeNS/zZ/kxI=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pl/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pl/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pl/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pl/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pl/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gagor.pl/tags/linux/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-4TQXK4C4W5"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4TQXK4C4W5",{anonymize_ip:!1})}</script><meta property="og:title" content="Linux"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://gagor.pl/tags/linux/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pl accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pl/favicon-72x72.png alt aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pl/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pl/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pl/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pl/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pl/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pl>Home</a>&nbsp;Â»&nbsp;<a href=https://gagor.pl/tags/>Tags</a></div><h1>Linux</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Ansible - ssh pipelining</h2></header><div class=entry-content><p>In recent Ansible update to 1.5 version there is really nice feature ssh pipelining. This option is serious alternative to accelerated mode.
Just add to you config file (ex. ~/.ansible.cfg):
[ssh_connection] pipelining=True Now run any playbook - you will see the difference ðŸ˜„
Source (and extended info about):
http://blog.ansibleworks.com/2014/01/15/ssh-connection-upgrades-coming-in-ansible-1-5/</p></div><footer class=entry-footer><span title='2014-03-04 00:00:00 +0000 UTC'>2014-03-04</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Ansible - ssh pipelining" href=https://gagor.pl/2014/03/ansible-ssh-pipelining/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Comparing two lists in bash</h2></header><div class=entry-content><p>I had quite simple task - compare two lists of hosts and check if hosts from first one are also on the second one. I started with diff:
diff -u biglist.txt hosts_to_check.txt | grep -E "^\+" It was fine but output needs some filtering to get what I want.
Iâ€™ve found another example with grep:
grep -Fxv -f biglist.txt hosts_to_check.txt | sort -n This will search for all lines in hosts_to_check....</p></div><footer class=entry-footer><span title='2014-02-18 00:00:00 +0000 UTC'>2014-02-18</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Comparing two lists in bash" href=https://gagor.pl/2014/02/comparing-two-lists-in-bash/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Debian - Upgrade MySQL to MariaDB</h2></header><div class=entry-content><p>After reading some good opinions about MariaDB I wanted to give it a try. Upgrade looks quite straight forward but I found some issues a little tricky.
Installation Add repo and key:
cat > /etc/apt/sources.list &lt;&lt;SRC deb http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main deb-src http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main SRC (find more repositories here)
Now install MariaDB:
sudo apt-get update sudo apt-get install mariadb-server It could be better to install mariadb-server-5.5 and mariadb-client-5.5 package instead, because of this error....</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Debian - Upgrade MySQL to MariaDB" href=https://gagor.pl/2014/01/debian-upgrade-mysql-to-mariadb/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Nginx - enabling SPDY with freeware certificate</h2></header><div class=entry-content><p>I was thinking about allowing access to my website using SPDY protocol for better performance and security (and for fun of course ðŸ˜ƒ ). But SPDY have one disadvantage - you need SSL certificate signed by known authority that will verfiy in common browsers. So you canâ€™t use self signed certificates because everyone will see a warning entering your site. Certs are quite expensive so I started searching for free one and to my surprise I found such!...</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Nginx - enabling SPDY with freeware certificate" href=https://gagor.pl/2014/01/nginx-enabling-spdy-with-freeware-certificate/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Regenerate thumbnails in Shotwell 0.15 (for last month)</h2></header><div class=entry-content><p>I love Shotwell for itâ€™s simplicity and easy export to Piwigo. After Christmas I added new photos to my library but after that I made some modifications to them (red eye reduction, etcâ€¦). Because Shotwell generate thumbnails only on import, all my modifications were not visible on preview.
Iâ€™ve started searching how to regenerate thumbs and found this info. There were two issues with this method:
this howto was for old version (with old paths) and only for 128px thumbs I definitely donâ€™t want to regenerate thumbnails for 40k photos!...</p></div><footer class=entry-footer><span title='2014-01-08 00:00:00 +0000 UTC'>2014-01-08</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Regenerate thumbnails in Shotwell 0.15 (for last month)" href=https://gagor.pl/2014/01/regenerate-thumbnails-in-shotwell-for-last-month/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Apache - precompressing static files with gzip</h2></header><div class=entry-content><p>Some time ago Iâ€™ve show how to precompress js and css file with gzip to be available for Nginxâ€™s mod_gzip. In default configuration Apache donâ€™t have such module but similar functionality could be achieved with few custom rewirtes.
Basically we will start with these rewrites to serve gzipped CSS/JS files if they exist and the client accepts gzip compression:
RewriteEngine on RewriteCond %{HTTP:Accept-encoding} gzip RewriteCond %{REQUEST_FILENAME}\.gz -s RewriteRule ^(.*)\.(js|css)$ $1\.$2\.gz [QSA] Then we need to setup proper content types for such compressed files - I know how to do this in two ways:...</p></div><footer class=entry-footer><span title='2013-12-27 00:00:00 +0000 UTC'>2013-12-27</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Apache - precompressing static files with gzip" href=https://gagor.pl/2013/12/apache-precompressing-static-files-with-gzip/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Generate ECDSA key with OpenSSL</h2></header><div class=entry-content><p>After the last NSA scandal Iâ€™ve found some time to read some texts about PFS and ECDSA keys lately. I always used RSA keys but wanted to give a try to ECDSA so I wanted to give it a try (test performance, etc). Here is how Iâ€™ve done it.
Firstly find your favorite curve. A short tip about bit length and complexity could be found here. From it you will now that using 256 bit ECDSA key should be enough for next 10-20 years....</p></div><footer class=entry-footer><span title='2013-12-17 00:00:00 +0000 UTC'>2013-12-17</span>&nbsp;Â·&nbsp;5 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Generate ECDSA key with OpenSSL" href=https://gagor.pl/2013/12/generate-ecdsa-key-with-openssl/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Delete audio track from mkv file</h2></header><div class=entry-content><p>Lately I tried to remove some streams from MKV file - I wanted: video, audio in my language and no subtitles. I achieved it with mkvtoolnix utils.
Firstly I have to identify streams in file:
$ mkvmerge -i input_file.mkv File 'test.mkv': container: Matroska Track ID 0: video (V_MPEG4/ISO/AVC) Track ID 1: audio (A_DTS) Track ID 2: audio (A_AC3) Track ID 3: audio (A_DTS) Track ID 4: audio (A_AC3) Track ID 5: subtitles (S_TEXT/UTF8) Track ID 6: subtitles (S_TEXT/UTF8) Chapters: 16 entries You could use more verbose tool mkvinfo for that purpose too....</p></div><footer class=entry-footer><span title='2013-12-16 00:00:00 +0000 UTC'>2013-12-16</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Delete audio track from mkv file" href=https://gagor.pl/2013/12/delete-audio-track-from-mkv-file/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Preparing video files for streaming on website in MP4 and WEBM format</h2></header><div class=entry-content><p>Some time ago I prepared a PC that was responsible for batch encoding of movies to formats suitable for web players (such as. Video.js, JW Player, Flowplayer, etc.)
I used HandBrake for conversion to MP4 format (becase this soft was the fastest one) and ffmpeg (aka avconv in new version) for two pass encoding to WEBM.
Below are commands used by me for that conversion:
MP4 HandBrakeCLI -e x264 -q 20....</p></div><footer class=entry-footer><span title='2013-12-16 00:00:00 +0000 UTC'>2013-12-16</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Preparing video files for streaming on website in MP4 and WEBM format" href=https://gagor.pl/2013/12/preparing-video-files-for-streaming-on-website-in-mp4-and-webm-format/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Re-adding failed drive in mdadm</h2></header><div class=entry-content><p>Yesterday I have problem with fglrx witch cause ugly system reset. After that, one of my drives was marked as failed in RAID5 array. Hotspare was automatically used to rebuild array. But this hotspare is the oldest and slowest drive Iâ€™ve gotâ€¦
After rebuild Iâ€™ve tested failed drive and it was fine - no bad block, no any other issue - so I wanted it running back in array.
What I do:...</p></div><footer class=entry-footer><span title='2013-12-12 00:00:00 +0000 UTC'>2013-12-12</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;timor</footer><a class=entry-link aria-label="post link to Re-adding failed drive in mdadm" href=https://gagor.pl/2013/12/re-adding-failed-drive-in-mdadm/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pl/tags/linux/page/4/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pl/tags/linux/page/6/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pl>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>