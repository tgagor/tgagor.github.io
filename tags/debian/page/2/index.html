<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Debian | timor's site</title><meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: debian"><meta name=author content><link rel=canonical href=https://timor.site/tags/debian/><link crossorigin=anonymous href=/assets/css/stylesheet.be84a2f064c7e93ecbe786e77620b732b98cf3f8ea42d8b36e32b9e585266d79.css integrity="sha256-voSi8GTH6T7L54bndiC3MrmM8/jqQtizbjK55YUmbXk=" rel="preload stylesheet" as=style><link rel=icon href=https://timor.site/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://timor.site/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://timor.site/favicon-32x32.png><link rel=apple-touch-icon href=https://timor.site/apple-touch-icon.png><link rel=mask-icon href=https://timor.site/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://timor.site/tags/debian/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-88996819-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Debian"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://timor.site/tags/debian/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Debian"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://timor.site/ accesskey=h title="timor's site (Alt + H)"><img src=https://timor.site/favicon-72x72.png alt aria-label=logo height=36>timor's site</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://timor.site/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://timor.site/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://timor.site/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://timor.site/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://timor.site/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://timor.site/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://timor.site/>Home</a>&nbsp;»&nbsp;<a href=https://timor.site/tags/>Tags</a></div><h1>Debian</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>Debian - Upgrade MySQL to MariaDB</h2></header><div class=entry-content><p>After reading some good opinions about MariaDB I wanted to give it a try. Upgrade looks quite straight forward but I found some issues a little tricky.
Installation Add repo and key:
cat > /etc/apt/sources.list &lt;&lt;SRC deb http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main deb-src http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main SRC (find more repositories here)
Now install MariaDB:
sudo apt-get update sudo apt-get install mariadb-server It could be better to install mariadb-server-5.5 and mariadb-client-5.5 package instead, because of this error....</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Debian - Upgrade MySQL to MariaDB" href=https://timor.site/2014/01/debian-upgrade-mysql-to-mariadb/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>GearmanManager: wygodne zarządzanie workerami</h2></header><div class=entry-content><p>Niedawno zainteresowałem się usługą Gearman i jedynej rzeczy której mi brakowało to jakiegoś łatwego mechanizmu zarządzającego workerami. Ale jak zwykle okazało się że inni mieli już ten problem i odpowiednie narzędzie istnieje - mowa o GearmanManagerze.
Instalacja GearmanManagera Aby zainstalować GeramanManagera na serwerze gdzie już mamy Gearmana trzeba wykonać kilka kroków (wcześniej powinniśmy też zainstalować moduł gearmana do php’a):
apt-get install git -y git clone https://github.com/brianlmoon/GearmanManager.git cd GearmanManager/install chmod +x install....</p></div><footer class=entry-footer><span title='2013-11-13 00:00:00 +0000 UTC'>2013-11-13</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to GearmanManager: wygodne zarządzanie workerami" href=https://timor.site/2013/11/gearmanmanager-wygodne-zarzadzanie-workerami/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Debian - zablokowanie aktualizacji pakietu</h2></header><div class=entry-content><p>W teorii nie powinno się blokować aktualizacji pakietów bo łatają dziury itd…. Ale! Zdarzyły mi się ostatnio dwie sytuacje, które do tego mnie zmusiły:
aktualizacja hudsona kończyła się błędem przy starcie usługi, aktualizacja domU Xen skończyła się problemem z kompatybilnością mechanizmu udev w systemie i jądrze (hypervisor miał starsze jądro niż spodziewało się DomU). W takich sytuacjach bardzo przydaje się możliwość zablokowania aktualizacji jednej “psującej” paczki na pewien okres czasu by nie opóźniać innych aktualizacji a sobie dać czas na rozpracowanie problemu....</p></div><footer class=entry-footer><span title='2013-11-05 00:00:00 +0000 UTC'>2013-11-05</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Debian - zablokowanie aktualizacji pakietu" href=https://timor.site/2013/11/debian-zablokowanie-aktualizacji-pakietu/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Instalacja gearman-job-server 1.0.6 na Debianie Wheezy</h2></header><div class=entry-content><p>Ostatnio trafiłem na ciekawą usługę, która pozwala oddelegować długo trwające zadania z usługi webowej. Mowa o Gearman’ie. Usługa jest o tyle ciekawa że nie narzuca ani języka dla klienta (większość popularnych ma gotowe biblioteki), ani język dla skryptów w tej usłudze nie jest narzucany. Można tę usługę wykorzystać jako most pomiędzy PHP a np. Javą/Pythonem lub do zlecenia zadań z serwera na Linux’ie do wykonania na serwerze Windowsowym (bo np. narzędzia dostępne są tylko dla Windowsa)....</p></div><footer class=entry-footer><span title='2013-10-29 00:00:00 +0000 UTC'>2013-10-29</span>&nbsp;·&nbsp;2 min</footer><a class=entry-link aria-label="post link to Instalacja gearman-job-server 1.0.6 na Debianie Wheezy" href=https://timor.site/2013/10/instalacja-gearman-job-server-1-0-6-na-debianie-wheezy/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Debian - Instalacja Bittorrent Sync (btsync)</h2></header><div class=entry-content><p>Bardzo spodobała mi się nowa aplikacja do zdalnej synchronizacji folderów z wykorzystaniem P2P. Ja wykorzystałem ją do automatycznych backupów archiwum zdjęć - zebrało mi się tego już prawie 130GB! Każde narzędzie, które chce np. je kompresować i raz na czas robić FULL backup jest skazane na porażkę - a fotek przybywa.
Na początek pobieramy interesującą nas wersję:
wget http://btsync.s3-website-us-east-1.amazonaws.com/btsync_i386.tar.gz wget http://btsync.s3-website-us-east-1.amazonaws.com/btsync_x64.tar.gz Oraz paczkę ze skryptami dla Debiana:
wget http://www.yeasoft.com/downloads/various/btsync-linux-deploy.tar.gz Ja wyciągam z niej skrypt /etc/init....</p></div><footer class=entry-footer><span title='2013-07-16 00:00:00 +0000 UTC'>2013-07-16</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Debian - Instalacja Bittorrent Sync (btsync)" href=https://timor.site/2013/07/debian-instalacja-bittorrent-sync-btsync/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Aktualizacja Debian Squeeze do Wheezy</h2></header><div class=entry-content><p>Obecnie dostępna jest już beta 2 Debiana Wheezy i utrzymywane są aktualizacje bezpieczeństwa więc powolutku można na testowych maszynach sprawdzać co i jak się zmieniło.
Ponieważ do finalnej wersji pewnie sporo się jeszcze zmieni to postaram się z czasem aktualizować ten post by zawierał bieżące informacje.
W razie wątpliwości patrz tutaj: http://wiki.debian.org/DebianTesting
Robimy backup Aktualizujemy źródła wskazywały na paczki gałęzi testing (poniższe polecenie nadpisze Twoje obecne repozytoria): cat > /etc/apt/sources.list &lt;&lt;SRC deb http://ftp....</p></div><footer class=entry-footer><span title='2012-09-24 00:00:00 +0000 UTC'>2012-09-24</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Aktualizacja Debian Squeeze do Wheezy" href=https://timor.site/2012/09/aktualizacja-debian-squeeze-do-wheezy/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Apache: ograniczenie dostępu dla zalogowanych użytkowników z mod_rewrite i mod_auth_basic</h2></header><div class=entry-content><p>Niedawno trafiłem na ciekawy problem w mod_rewrite - by przekierowywać użytkowników logujących się jednym z modułów mod_auth_basic do dedykowanych im katalogów, równocześnie blokując dostęp do katalogów innych użytkowników. Nie brzmi to jakoś strasznie ale problem okazał się być całkiem nietrywialnym. Teoretyczne rozwiązanie sprowadzało się do wyszukania loginu użytkownika ze ścieżki URI i porównania z nazwą użytkownika ze zmiennej %{REMOTE_USER} - jeśli wartości się różnią to Forbidden. Ale szybko okazało się że w RewriteCond zmienne z dopasowań można podstawiać tylko w pierwszym parametrze i że o ile można RewriteCond’y połączyć wyrażeniami logicznymi typu AND/OR to nie ma możliwości porównania czy dopasowania z kolejnych RewriteCond’ów są identyczne....</p></div><footer class=entry-footer><span title='2012-09-09 00:00:00 +0000 UTC'>2012-09-09</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to Apache: ograniczenie dostępu dla zalogowanych użytkowników z mod_rewrite i mod_auth_basic" href=https://timor.site/2012/09/apache-ograniczenie-dostepu-dla-zalogowanych-uzytkownikow-z-mod_rewrite-i-mod_auth_basic/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Wymuszenie fsck po restarcie</h2></header><div class=entry-content><p>Jeżeli chcemy by po ponownym uruchomieniu w czasie startu zostały sprawdzone wszystkie dyski narzędziem to można to osiągnąć na dwa sposoby. Zawsze gdy tego potrzebuję zastanawiam się tylko jaki plik trzeba było utworzyć… forcefsck, fsck, fsckforce… więc notuję 😉
Utworzenie pliku /forcefsck Pierwsza metoda polega na utworzeniu pliku forcefsck w głównym katalog, robimy to poniższym poleceniem:
sudo touch /forcefsck Polecenie shutdown Druga metoda wykorzystuje parametr -F polecenia shutdown ale nie działa na wszystkich dystrybucjach (w takiej sytuacji patrz pierwsza metoda):...</p></div><footer class=entry-footer><span title='2012-09-08 00:00:00 +0000 UTC'>2012-09-08</span>&nbsp;·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Wymuszenie fsck po restarcie" href=https://timor.site/2012/09/wymuszenie-fsck-po-restarcie/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>Xen - Konfiguracja interfejsu sieciowego Dom0 jako brdige’a dla VLAN’ów</h2></header><div class=entry-content><p>VLAN’y są prostą metodą na separację sieci. Gdy mamy wiele sieci może zajść potrzeba by poszczególne DomU miały dostęp do różnych VLAN’ów (czasem nawet wielu równocześnie). Jeżeli serwer z Dom0 posiada minimum giga-bitową kartę sieciową (a najlepiej kilka) to powinniśmy być w stanie z godziwą jakością udostępnić systemom DomU różne VLAN’y z interfejsów gospodarza.
Zaprezentowane poniżej skrypty zapożyczyłem z tej strony: http://renial.net/weblog/2007/02/27/xen-vlan
Na początek musimy zainstalować pakiet vlan:
apt-get install vlan Później w pliku /etc/xen/xend-config....</p></div><footer class=entry-footer><span title='2012-06-18 00:00:00 +0000 UTC'>2012-06-18</span>&nbsp;·&nbsp;2 min</footer><a class=entry-link aria-label="post link to Xen - Konfiguracja interfejsu sieciowego Dom0 jako brdige’a dla VLAN’ów" href=https://timor.site/2012/06/xen-konfiguracja-interfejsu-sieciowego-dom0-jako-brdigea-dla-roznych-vlanow/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>CouchDB - Instalacja i wstępna konfiguracja</h2></header><div class=entry-content><p>Gdy tworzymy pierwszą aplikację webową, która umożliwia upload plików przeważnie lądują one lokalnie w pewniej lokalizacji. Gdy druga aplikacja potrzebuje dostępu do tych plików wystarczy podać ścieżkę. Problemy zaczynają się gdy aplikacji jest kilka i rozmieszczonych na kilku serwerach. Można korzystać z sieciowych systemów plików ale to często nie jest zbyt wygodne - ciężko odpowiednio ustawić uprawnienia by pewne aplikacje miały dostęp do zapisu plików a inne nie, trzeba skonfigurować dany katalog w kilku miejscach w konfiguracji serwera WWW aby serwować pliki itp…...</p></div><footer class=entry-footer><span title='2012-06-08 00:00:00 +0000 UTC'>2012-06-08</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to CouchDB - Instalacja i wstępna konfiguracja" href=https://timor.site/2012/06/couchdb-instalacja-i-wstepna-konfiguracja/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://timor.site/tags/debian/>«&nbsp;Prev&nbsp;</a>
<a class=next href=https://timor.site/tags/debian/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span><a href=https://timor.site/>timor's site</a> &copy; 2008-2023</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>