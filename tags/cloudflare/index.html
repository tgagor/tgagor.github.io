<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Cloudflare | Tom's Blog</title>
<meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: cloudflare"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/tags/cloudflare/><link crossorigin=anonymous href=/assets/css/stylesheet.985a7641e69c6b20f34bf2fd88dce5a50d271007390e15128242aada21b132f4.css integrity="sha256-mFp2QeacayDzS/L9iNzlpQ0nEAc5DhUSgkKq2iGxMvQ=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gagor.pro/tags/cloudflare/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://gagor.pro/tags/cloudflare/"><meta property="og:site_name" content="Tom's Blog"><meta property="og:title" content="Cloudflare"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Cloudflare"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.avif alt="Page logo" aria-label=logo height=36 width=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pro/>Home</a>&nbsp;»&nbsp;<a href=https://gagor.pro/tags/>Tags</a></div><h1>Cloudflare</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu11473704880519145317.webp 360w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu2951790326520170972.webp 480w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu12688575159287244040.webp 720w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu12389548986036253458.webp 1080w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu16225992643314099152.webp 1500w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover.webp alt=[Hugo](https://gohugo.io) width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Automatically setting 'lastmod' in Hugo pages with Git modification date</h2></header><div class=entry-content><p>Following my recent SEO issues , I’m actively exploring ways to bolster my website’s ranking. One aspect I’m keen to address is expediting Search Engine indexing for pages that have been altered or updated. This is precisely the purpose of Sitemaps, a feature fully supported by Hugo1. However, there’s a limitation in how Hugo handles this by default. It sets the lastmod parameter to either the page’s creation time or the last build time. What I aim to achieve is a clear separation between creation and modification dates. This would signal to Search Engines to focus on scrutinizing only the “changed” posts, expediting their reevaluation—an approach commonplace in the Wordpress realm but more intricate with Hugo.
...</p></div><footer class=entry-footer><span title='2024-03-24 00:00:00 +0000 UTC'>2024-03-24</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Automatically setting 'lastmod' in Hugo pages with Git modification date" href=https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu8735449488134317382.webp 360w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu2654276675843619378.webp 480w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu2855041135000334979.webp 720w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu9376915707713510931.webp 1080w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu9888161518695089637.webp 1500w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover.webp alt="[Cloudflare Pages](https://pages.cloudflare.com) and [Hugo](https://gohugo.io)" width=1500 height=563></figure><header class=entry-header><h2 class=entry-hint-parent>Optimizing Hugo static site redirects with Cloudflare Pages</h2></header><div class=entry-content><p>I used to utilize GitHub Pages to serve static content for my blog. I secured it behind Cloudflare to employ a custom domain and automate HTTPS certificate management. Additionally, I utilized a few Page Rules to implement redirects:
From www.* to non-www, From HTTP to HTTPS, And for some SEO renaming. Unfortunately, in the Free plan from Cloudflare, you are limited to:
3 Page Rules (with simple glob matching), 10 Transformation Rules (no regex rules), 10 Redirect Rules (no regex). I made use of a combination of these rules, but due to these limitations, I couldn’t meet all of my requirements. I have few hundreds of broken URLs reported by Google Web Console. Google still remembers that I migrated from Wordpress and attempts to index some paths I no longer host. Although I attempted to utilize Hugo’s aliases 1, it only facilitates 1-to-1 matching. I’m unable to address this issue within these constraints.
...</p></div><footer class=entry-footer><span title='2024-03-04 00:00:00 +0000 UTC'>2024-03-04</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Optimizing Hugo static site redirects with Cloudflare Pages" href=https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu17784745191805667145.webp 360w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu2711937146327803142.webp 480w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu12129980004428764961.webp 720w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu16648289562281686962.webp 1080w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu2313474489309279651.webp 1500w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover.webp alt=[Cloudflare](https://www.cloudflare.com) width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Maximizing page performance and security with Cloudflare tuning</h2></header><div class=entry-content><p>Info
...</p></div><footer class=entry-footer><span title='2024-01-11 00:00:00 +0000 UTC'>2024-01-11</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Maximizing page performance and security with Cloudflare tuning" href=https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Prepare for DoS like Cloudflare do</h2></header><div class=entry-content><p>I watched nice presentation about how Cloudflare protects itself against DoS. Most of us are not able to do that exactly like them but some of tips were general enough to be used on typical web front server.
I took notes from this presentation and presented here. Thanks to Marek agreement I also reposted all examples (in easier to copy paste way).
Howto prepare against ACK/FIN/RST/X-mas flood Use conntrack rule:
...</p></div><footer class=entry-footer><span title='2016-02-05 00:00:00 +0000 UTC'>2016-02-05</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Prepare for DoS like Cloudflare do" href=https://gagor.pro/2016/02/prepare-for-dos-like-cloudflare-do/></a></article></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>