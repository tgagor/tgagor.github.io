<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Cloudflare | Tom's Blog</title>
<meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: cloudflare"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/tags/cloudflare/><link crossorigin=anonymous href=/assets/css/stylesheet.b75f2a8f35519547db38b55fa84baf47177f24f8e88f96c8d73a55d12ab8bcec.css integrity="sha256-t18qjzVRlUfbOLVfqEuvRxd/JPjoj5bI1zpV0Sq4vOw=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gagor.pro/tags/cloudflare/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Cloudflare"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://gagor.pro/tags/cloudflare/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Cloudflare"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.png alt aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pro/>Home</a>&nbsp;»&nbsp;<a href=https://gagor.pro/tags/>Tags</a></div><h1>Cloudflare</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=eager srcset="https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu872d0110277e3756f7cded4fb957b5e8_27250_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu872d0110277e3756f7cded4fb957b5e8_27250_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu872d0110277e3756f7cded4fb957b5e8_27250_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu872d0110277e3756f7cded4fb957b5e8_27250_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover_hu872d0110277e3756f7cded4fb957b5e8_27250_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/images/cover.webp alt=[Hugo](https://gohugo.io) width=1500 height=625><p><a href=https://gohugo.io target=_blank>Hugo<span style=white-space:nowrap>&#8201;<svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" class="svg-inline--fa fa-external-link-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"/></svg></span></a></p></figure><header class=entry-header><h2 class=entry-hint-parent>Automatically setting 'lastmod' in Hugo pages with Git modification date</h2></header><div class=entry-content><p>Following my recent SEO issues , I’m actively exploring ways to bolster my website’s ranking. One aspect I’m keen to address is expediting Search Engine indexing for pages that have been altered or updated. This is precisely the purpose of Sitemaps, a feature fully supported by Hugo1. However, there’s a limitation in how Hugo handles this by default. It sets the lastmod parameter to either the page’s creation time or the last build time....</p></div><footer class=entry-footer><span title='2024-03-24 00:00:00 +0000 UTC'>2024-03-24</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Automatically setting 'lastmod' in Hugo pages with Git modification date" href=https://gagor.pro/2024/03/automatically-setting-lastmod-in-hugo-pages-with-git-modification-date/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu50e667d81aa6ef7e077fa6526dc3d950_12776_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu50e667d81aa6ef7e077fa6526dc3d950_12776_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu50e667d81aa6ef7e077fa6526dc3d950_12776_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu50e667d81aa6ef7e077fa6526dc3d950_12776_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover_hu50e667d81aa6ef7e077fa6526dc3d950_12776_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/images/cover.webp alt="[Cloudflare Pages](https://pages.cloudflare.com) and [Hugo](https://gohugo.io)" width=1500 height=563></figure><header class=entry-header><h2 class=entry-hint-parent>Optimizing Hugo static site redirects with Cloudflare Pages</h2></header><div class=entry-content><p>I used to utilize GitHub Pages to serve static content for my blog. I secured it behind Cloudflare to employ a custom domain and automate HTTPS certificate management. Additionally, I utilized a few Page Rules to implement redirects:
From www.* to non-www, From HTTP to HTTPS, And for some SEO renaming. Unfortunately, in the Free plan from Cloudflare, you are limited to:
3 Page Rules (with simple glob matching), 10 Transformation Rules (no regex rules), 10 Redirect Rules (no regex)....</p></div><footer class=entry-footer><span title='2024-03-04 00:00:00 +0000 UTC'>2024-03-04</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Optimizing Hugo static site redirects with Cloudflare Pages" href=https://gagor.pro/2024/03/optimizing-hugo-static-site-redirects-with-cloudflare-pages/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu35c3b4bdc77b70a75d068105e77f0082_104810_360x0_resize_q75_h2_box_2.webp 360w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu35c3b4bdc77b70a75d068105e77f0082_104810_480x0_resize_q75_h2_box_2.webp 480w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu35c3b4bdc77b70a75d068105e77f0082_104810_720x0_resize_q75_h2_box_2.webp 720w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu35c3b4bdc77b70a75d068105e77f0082_104810_1080x0_resize_q75_h2_box_2.webp 1080w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu35c3b4bdc77b70a75d068105e77f0082_104810_1500x0_resize_q75_h2_box_2.webp 1500w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover.webp alt=[Cloudflare](https://www.cloudflare.com) width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Maximizing page performance and security with Cloudflare tuning</h2></header><div class=entry-content><p>Info
I use free tier of Cloudflare and all recommendations assume only those are available.
Why to cache statically generated blog? My Blog is statically generated website served from Github Pages  external link . As Github don’t allow to easily set my own domain (at least in free version), I needed some kind of proxy that:
can serve page from my domain, will provide valid certificate for HTTPS. Info...</p></div><footer class=entry-footer><span title='2024-01-11 00:00:00 +0000 UTC'>2024-01-11</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Maximizing page performance and security with Cloudflare tuning" href=https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Prepare for DoS like Cloudflare do</h2></header><div class=entry-content><p>I watched nice presentation about how Cloudflare protects itself against DoS. Most of us are not able to do that exactly like them but some of tips were general enough to be used on typical web front server.
I took notes from this presentation and presented here. Thanks to Marek agreement I also reposted all examples (in easier to copy paste way).
Howto prepare against ACK/FIN/RST/X-mas flood Use conntrack rule:...</p></div><footer class=entry-footer><span title='2016-02-05 00:00:00 +0000 UTC'>2016-02-05</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Prepare for DoS like Cloudflare do" href=https://gagor.pro/2016/02/prepare-for-dos-like-cloudflare-do/></a></article></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>