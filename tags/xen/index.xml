<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Xen on Tom&#39;s Blog</title>
    <link>https://gagor.pl/tags/xen/</link>
    <description>Recent content in Xen on Tom&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>Content licensed under &lt;a rel=&#34;license noopener noreferrer&#34; target=&#34;_blank&#34; href=&#34;http://creativecommons.org/licenses/by-sa/4.0/&#34;&gt;(CC BY-SA 4.0)&lt;/a&gt;
</copyright>
    <lastBuildDate>Tue, 12 Jan 2016 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://gagor.pl/tags/xen/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>XenServer - export VM to file</title>
      <link>https://gagor.pl/2016/01/xenserver-export-vm-to-file/</link>
      <pubDate>Tue, 12 Jan 2016 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2016/01/xenserver-export-vm-to-file/</guid>
      <description>Sometime you need to make quick and dirty image backup of VM running on XenServer and this post is about such case &amp;#x1f603;
List machines:
xl list Name ID Mem VCPUs State Time(s) Domain-0 0 4066 8 r----- 3526567.3 webfront1.example.com 1 4096 4 r----- 3186487.2 webfront2.example.com 2 2048 2 -b---- 920408.2 Now you may export one:
xe vm-export vm=webfront1.example.com filename=/srv/backup/webfront.xva Export succeeded You may also use uuid for that - list machines with xe vm-list (best with less) and then:</description>
    </item>
    <item>
      <title>Kopiowanie wolumenów LVM z dd i netcat</title>
      <link>https://gagor.pl/2013/09/kopiowanie-wolumenow-lvm-z-dd-i-netcat/</link>
      <pubDate>Mon, 02 Sep 2013 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2013/09/kopiowanie-wolumenow-lvm-z-dd-i-netcat/</guid>
      <description>Niedawno chciałem skopiować maszynę wirtualną z jednego hypervisora na innego. Były to 3 wolumeny LVM o rozmiarach od 50 do 100GB. Dawno temu zrobiłem sobie skrypty do backupu - jeden kompresuje wolumeny LVM - a drugi pozwala odtworzyć z dekompresja na drugim serwerze. Tyle że przy tak dużej maszynce będzie to trwało masakrycznie długo - fajnie byłoby móc równocześnie kopiować i odtwarzać (live)&amp;hellip;
I wtedy przypomniało mi się narzędzie netcat - zrobiłem snapshoty wolumenów i mogłem zaczynać.</description>
    </item>
    <item>
      <title>Montowanie partycji z obrazu dysku</title>
      <link>https://gagor.pl/2012/09/montowanie-partycji-z-obrazu-dysku/</link>
      <pubDate>Thu, 06 Sep 2012 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2012/09/montowanie-partycji-z-obrazu-dysku/</guid>
      <description>Jedną z rzeczy, które podobają mi się w maszynach wirtualnych Xen jest możliwość zrobienia backupu całego obrazu i szybkie odzyskanie już w trakcie ciężkiej awarii. Gdy dodatkowo korzysta się z LVM&amp;rsquo;a to można na chwilę wyłączyć DomU, utworzyć snapshot jego dysków, uruchomić DomU i w trakcie działania robić spójny backup ze snapshot&amp;rsquo;a. Dzięki takiemu mechanizmowi serwer jest niedostępny przez kilkanaście sekund, a backup spójny jakby został wykonany przy całkowicie wyłączonej maszynie.</description>
    </item>
    <item>
      <title>Xen - Podstawowe polecenia</title>
      <link>https://gagor.pl/2012/06/xen-podstawowe-polecenia/</link>
      <pubDate>Tue, 19 Jun 2012 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2012/06/xen-podstawowe-polecenia/</guid>
      <description>Pisałem już HOWTO o konfiguracji Xen&amp;rsquo;a ale nie opisałem jak się bawić wirtualkami gdy Xen&amp;rsquo;a już mamy. To nadrabiam.
Tworzenie i usuwanie maszyn wirtualnych Do tworzenia/niszczenia DomU wykorzystuję pakiet xen-tools dostarczający m.in. dwa narzędzia:
xen-create - dla którego przygotowałem dość skomplikowaną konfigurację przy okazji wcześniejszego posta: Instalacja i konfiguracja DomU&amp;thinsp; external link . Przykład użycia: xen-create --hostname example-domu --ip 10.0.0.77 \ --gateway 10.0.0.1 --broadcast 10.0.0.255 --netmask 255.255.255.0 \ --bridge br10 --vcpus 2 --memory=2G xen-delete-image - narzędzie do kasowania wirtualnych maszyn.</description>
    </item>
    <item>
      <title>Xen - Konfiguracja interfejsu sieciowego Dom0 jako brdige’a dla VLAN’ów</title>
      <link>https://gagor.pl/2012/06/xen-konfiguracja-interfejsu-sieciowego-dom0-jako-brdigea-dla-roznych-vlanow/</link>
      <pubDate>Mon, 18 Jun 2012 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2012/06/xen-konfiguracja-interfejsu-sieciowego-dom0-jako-brdigea-dla-roznych-vlanow/</guid>
      <description>VLAN&amp;rsquo;y są prostą metodą na separację sieci. Gdy mamy wiele sieci może zajść potrzeba by poszczególne DomU miały dostęp do różnych VLAN&amp;rsquo;ów (czasem nawet wielu równocześnie). Jeżeli serwer z Dom0 posiada minimum giga-bitową kartę sieciową (a najlepiej kilka) to powinniśmy być w stanie z godziwą jakością udostępnić systemom DomU różne VLAN&amp;rsquo;y z interfejsów gospodarza.
Zaprezentowane poniżej skrypty zapożyczyłem z tej strony: http://renial.net/weblog/2007/02/27/xen-vlan&amp;thinsp; external link Na początek musimy zainstalować pakiet vlan:</description>
    </item>
    <item>
      <title>Xen - ustawienie autostartu DomU</title>
      <link>https://gagor.pl/2012/02/xen-ustawienie-autostartu-domu/</link>
      <pubDate>Mon, 27 Feb 2012 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2012/02/xen-ustawienie-autostartu-domu/</guid>
      <description>Aby wybrane systemy DomU startowały automatycznie po restarcie hypervisora należy podlinkować ich pliki konfiguracyjne w katalogu /etc/xen/auto po uprzednim jego utworzeniu. Przykładowo:
mkdir /etc/xen/auto ln -s /etc/xen/example.cfg /etc/xen/auto/example.cfg Od teraz DomU example będzie startować automatycznie.</description>
    </item>
    <item>
      <title>Xen - Włączenie Live Migration</title>
      <link>https://gagor.pl/2012/02/xen-wlaczenie-live-migration/</link>
      <pubDate>Sat, 25 Feb 2012 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2012/02/xen-wlaczenie-live-migration/</guid>
      <description>Jeżeli zdecydowaliśmy się na systemu DomU w obrazach to możemy korzystać z live migration. By uruchomić jej obsługę, trzeba w pliku /etc/xen/xend-config.sxp odkomentować odpowiednie linie i ustawić adres IP:
(xend-relocation-server yes) (xend-relocation-port 8002) (xend-relocation-address &amp;#39;10.0.10.91&amp;#39;) Wykonywanie migracji xm migrate --live nazwa-domu nazwa.lub.ip.zdalnego.hosta </description>
    </item>
    <item>
      <title>Xen na Squeeze - Instalowanie i konfiguracja hostów gości (DomU)</title>
      <link>https://gagor.pl/2012/02/xen-na-squeeze-instalowanie-i-konfiguracja-hostow-gosci-domu/</link>
      <pubDate>Fri, 24 Feb 2012 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2012/02/xen-na-squeeze-instalowanie-i-konfiguracja-hostow-gosci-domu/</guid>
      <description>Ostatnio pisałem o konfiguracji Dom0&amp;thinsp; external link - dzisiaj napiszę o uruchamianiu DomU.
Do instalacji DomU wykorzystuję skrypty z pakietu xen-tools, można go zainstalować poleceniem:
apt-get install xen-tools Oczywiście aby wszystko działało fajnie musimy ustawić kilka domyślnych opcji, robimy to edytując plik /etc/xen-tools/xen-tools.conf. Lecimy po kolei:
# Virtual machine disks are created as logical volumes in # volume group &amp;#39;universe&amp;#39; (hint: LVM storage is much faster # than file) lvm = universe Osobiście korzystam z LVM&amp;rsquo;a który zgodnie z hint&amp;rsquo;em jest znacznie szybszy od plików obrazów.</description>
    </item>
    <item>
      <title>Xen na Squeeze - instalacja i konfiguracja hypervisor’a</title>
      <link>https://gagor.pl/2012/02/xen-na-squeeze-instalacja-i-konfiguracja-hypervisora/</link>
      <pubDate>Thu, 23 Feb 2012 00:00:00 +0000</pubDate>
      <guid>https://gagor.pl/2012/02/xen-na-squeeze-instalacja-i-konfiguracja-hypervisora/</guid>
      <description>Po co mi to? Wiele razy miałem do czynienia z serwerami na których działało kilka/kilkanaście usług równocześnie, np. Apache (kilka stronek, webmail, phpmyadmin, itp), Postfix/Exim (poczta i żeby było fajnie to na kontach systemowych), Samba (jakieś zasoby dla pracowników), MySQL (baza dla stronek), PostgreSQL (bo jedna stronka potrzebowała), itd&amp;hellip;. Przy takiej konfiguracji pomijane są kwestie separacji usług zewnętrznych/wewnętrznych - no ale firma/instytucja mała nie ma sensu kasy na 3 kolejne serwery wydawać skoro działa&amp;hellip;.</description>
    </item>
  </channel>
</rss>
