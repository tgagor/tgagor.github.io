<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>timor&#39;s site</title>
    <link>https://timor.site/</link>
    <description>Recent content on timor&#39;s site</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Content licensed under &lt;a rel=&#34;license noopener noreferrer&#34; target=&#34;_blank&#34; href=&#34;http://creativecommons.org/licenses/by-sa/4.0/&#34;&gt;(CC BY-SA 4.0)&lt;/a&gt;
</copyright>
    <lastBuildDate>Sun, 11 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://timor.site/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Best practices for writing Dockerfiles - Use .dockerignore</title>
      <link>https://timor.site/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/</link>
      <pubDate>Sun, 11 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/</guid>
      <description>People often complain, that building Docker image takes a long time but they&amp;rsquo;re just adding single jar package. Really?
They often don&amp;rsquo;t remember that whole &amp;ldquo;build context&amp;rdquo;1 is uploaded to Docker daemon during build, which often means they&amp;rsquo;re not only adding &amp;ldquo;single jar&amp;rdquo;, but also all sources, test results and whatever you have in your context directory.
Solution is simple - use .dockerignore file2 dropped in the directory where you build the image.</description>
    </item>
    
    <item>
      <title>Best practices for writing Dockerfiles - Use VOLUME for all mutable, temporary file locations</title>
      <link>https://timor.site/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/</link>
      <pubDate>Sun, 11 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/</guid>
      <description>IMO people don&amp;rsquo;t understand how VOLUME1 works so they don&amp;rsquo;t use it. It&amp;rsquo;s generally used far too rarely!
In short VOLUME means two things:
Whatever is left in directory marked as VOLUME, stays there and can&amp;rsquo;t be changed in later layers (actually it can be changed but changes won&amp;rsquo;t be persistent). Volumes are not part of layered image FS. They&amp;rsquo;re mounted as anonymous volumes located on standard file system. This means they&amp;rsquo;re working much faster.</description>
    </item>
    
    <item>
      <title>Dockerfile writing best practices</title>
      <link>https://timor.site/2022/09/dockerfile-writing-best-practices/</link>
      <pubDate>Sat, 10 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2022/09/dockerfile-writing-best-practices/</guid>
      <description>I&amp;rsquo;ve been thinking for a long time about writing set of articles on the topic of: &amp;ldquo;Dockerfile writing best practices&amp;rdquo;.
As it&amp;rsquo;s often my daily job to prepare best in class containers, that are later used by thousands of company&amp;rsquo;s applications, I have quite good insights on the topic. Some experience and knowledge gathered is often against intuition and building it took me a while. I want to share it, with a hope that feedback I get will allow me to excel on the topic even further.</description>
    </item>
    
    <item>
      <title>Ford S-MAX - kasowanie ostrzeÅ¼enia wymiany oleju</title>
      <link>https://timor.site/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/</link>
      <pubDate>Sat, 03 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/</guid>
      <description>Auta siÄ™ zmieniajÄ… a problemy z nimi pozostajÄ… te same :)
Kasowanie ostrzeÅ¼enia wymiany oleju 1 PrzekrÄ™ciÄ‡ kluczyk w stacyjce do drugiej pozycji, gdy zapalajÄ… siÄ™ wszystkie kontrolki (nie uruchamiamy silnika). Wciskamy rÃ³wnoczeÅ›nie pedaÅ‚y hamulca i gazu do oporu, trzymamy do zakoÅ„czenia procesu. Pojawi komunikat o rozpoczÄ™ciu resetowania inspekcji. MoÅ¼emy zatwierdziÄ‡ OK. Czekamy aÅ¼ pojawi siÄ™ komunikat: Zatwierdzamy OK. Dopiero teraz zwalniamy pedaÅ‚y. https://forum.fordclubpolska.org/showthread.php?t=108532&amp;#160;&amp;#x21a9;&amp;#xfe0e;</description>
    </item>
    
    <item>
      <title>Back on the big stage!</title>
      <link>https://timor.site/2022/06/back-on-the-big-stage/</link>
      <pubDate>Mon, 13 Jun 2022 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2022/06/back-on-the-big-stage/</guid>
      <description>I&amp;rsquo;m back on the big stage!
I haven&amp;rsquo;t attend any big conferences as presenter for some time, but this year will change it. I&amp;rsquo;m starting big, with a talk: Docker base images - Ideas how to manage them on scale on Devoxx conference in KrakÃ³w, that will take place on 22-24th June 2022.
Want to meet? Meet there ðŸ˜„
Update I uploaded slides from presentation to my Github account.</description>
    </item>
    
    <item>
      <title>Creating fully encrypted ZFS pool</title>
      <link>https://timor.site/2021/11/creating-fully-encrypted-zfs-pool/</link>
      <pubDate>Mon, 22 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/11/creating-fully-encrypted-zfs-pool/</guid>
      <description>What I want to do? I use my pool to securely store backups, archive my old documents and keep huge family&amp;rsquo;s photo library.
I have new disks. They were tortured with badblocks, so they&amp;rsquo;re ready to create ZFS pool.
I&amp;rsquo;ve read few documents about different approaches 1 2 3. I wanted to be sure if anything changed during past years. One of articles recommends mirroring over RAIDZ. Resilvering is faster, at the same time putting IO less stress on whole pool.</description>
    </item>
    
    <item>
      <title>Shucking WD Elements 14TB</title>
      <link>https://timor.site/2021/11/shucking-wd-elements-14tb/</link>
      <pubDate>Fri, 12 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/11/shucking-wd-elements-14tb/</guid>
      <description>I used to have RAID (or at least some variation of it) for my main storage. For redundancy, in case of disk failure. I started with some crazy LVM mirrors done on two disks of different size. Sync job was starting on every boot ðŸ˜„
Then came time for RAID5 on mdadm + LVM for volume management. It was working nice until the moment when disks became bigger. Long array rebuilds or checks, required my PC to stay turned on overnight just to validate if stuff works still.</description>
    </item>
    
    <item>
      <title>Automatically add ticket ID to every commit message in Git</title>
      <link>https://timor.site/2021/11/automatically-add-ticket-id-to-every-commit-message-in-git/</link>
      <pubDate>Tue, 09 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/11/automatically-add-ticket-id-to-every-commit-message-in-git/</guid>
      <description>I don&amp;rsquo;t know how it is in your company, but in mine it&amp;rsquo;s considered a good practice to add ticket numbers to commit messages. It allows to easily determine why something was changed, etc. Makes sense, but this also means, that I should be adding this ticket to every message&amp;hellip; And this doesn&amp;rsquo;t make sense for me. I will accidentally avoid it from time to time or make a lot of typos.</description>
    </item>
    
    <item>
      <title>Resize images from command line on MacOS</title>
      <link>https://timor.site/2021/11/resize-images-from-command-line-on-macos/</link>
      <pubDate>Sun, 07 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/11/resize-images-from-command-line-on-macos/</guid>
      <description>I was updating my blog and needed to generate few variants of images, in different resolution.
Option 1 - sips There&amp;rsquo;s simple, builtin tool sips, that can be used for simple resizing 1:
Resize single image sips -Z 36 orig.png --out static/favicon36x36.png -Z - maintain image aspect ratio 36 - maximum height and width It can be also used for batch image processing:
Warning
Beware, without &amp;ndash;out param, it will overwrite images in place!</description>
    </item>
    
    <item>
      <title>Homebrew - uninstall formula with dependencies</title>
      <link>https://timor.site/2021/11/homebrew-uninstall-formula-with-dependencies/</link>
      <pubDate>Fri, 05 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/11/homebrew-uninstall-formula-with-dependencies/</guid>
      <description>I use brew extensively on MacOS. It&amp;rsquo;s just as convenient as many Linux package managers. What I don&amp;rsquo;t like, it leaves dependencies after removal of formula. There&amp;rsquo;s simple way to clean it up by running one command 1.
Uninstall with dependencies brew uninstall FORMULA brew autoremove Info
In my case running brew autoremove actually removed few packages I really wanted to have. Check the output carefully!
https://stackoverflow.com/questions/7323261/uninstall-remove-a-homebrew-package-including-all-its-dependencies&amp;#160;&amp;#x21a9;&amp;#xfe0e;</description>
    </item>
    
    <item>
      <title>Asus ROG STRIX Z590-E GAMING WIFI - my UEFI BIOS settings</title>
      <link>https://timor.site/2021/10/asus-rog-strix-z590-e-gaming-wifi-my-uefi-bios-settings/</link>
      <pubDate>Sat, 30 Oct 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/10/asus-rog-strix-z590-e-gaming-wifi-my-uefi-bios-settings/</guid>
      <description>I&amp;rsquo;ve build new PC - it&amp;rsquo;s based on Asus ROG STRIX Z590-E GAMING WIFI motherboard. Generally, I&amp;rsquo;m quite satisfied, but it have one irritating downside - after each UEFI BIOS upgrade, it&amp;rsquo;s silently resetting some of settings.
Let me note, what I want to have there:
Ai Tweaker (use my RAM capabilities) AI Overcloack Tuner -&amp;gt; [XMP I] DRAM Frequency -&amp;gt; [DDR4-3600MHz] DRAM CAS# Latency -&amp;gt; [16] DRAM RAS# to CAS# Delay -&amp;gt; [19] DRAM RAS# ACT Time -&amp;gt; [39] DRAM Voltage -&amp;gt; [1.</description>
    </item>
    
    <item>
      <title>Official CentOS 8 Stream Docker image finally available!</title>
      <link>https://timor.site/2021/07/official-centos-8-stream-docker-image-finally-available/</link>
      <pubDate>Sun, 25 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/07/official-centos-8-stream-docker-image-finally-available/</guid>
      <description>Finally, they&amp;rsquo;re available! Wait a moment.. Actually they&amp;rsquo;re available for few months, just nobody published information about moving them to quay.io and dropped poor guys using hub.docker.com without any updates! Yes, that how they did!
I found new place accidentally, reading some news about CentOS Stream 9 on their blog. There was reference to CentOS 9 Stream dev builds of Docker images and I found &amp;ldquo;missing&amp;rdquo; stream and stream8 tags too.</description>
    </item>
    
    <item>
      <title>My projects</title>
      <link>https://timor.site/projects/</link>
      <pubDate>Fri, 09 Apr 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/projects/</guid>
      <description>Github repositories tgagor/ansible-role-docker - Installs Docker service on Ubuntu/Debian/RHEL tgagor/ansible-role-docker-compose - Simple Ansible role that will install Docker Compose tgagor/ansible-role-spotify tgagor/ansible-role-template-with-molecule-tests - Template for Ansible role with Molecule and Testinfra for testing tgagor/conferences - Presentations and materials from conferences where I attended as a speaker tgagor/docker-centos - CentOS docker images, build weekly with latest security updates tgagor/docker-clamav - Simple Docker image that might be used in CI/CD tgagor/docker-grype - Docker image with anchore/grype tgagor/docker-jpegtran - Simple Docker image with jpegtran executable.</description>
    </item>
    
    <item>
      <title>How to remove geo-localization/EXIF data from photos</title>
      <link>https://timor.site/2021/03/how-to-remove-geo-localization/exif-data-from-photos/</link>
      <pubDate>Fri, 05 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/03/how-to-remove-geo-localization/exif-data-from-photos/</guid>
      <description>I wanted to share publicly some photos, but I performed them with navigation enabled so they contained accurate localisation of my house. I wanted to remove EXIF data GPS tags, my phone type and other irrelevant stuff.
TL;DR You will need imagemagick installed (use apt/yum/dnf of whatever you have there):
Install imagemagick sudo apt install -y imagemagick To remove them just use: Strip EXIF data mogrify -strip image.jpg How to check if it&amp;rsquo;s working?</description>
    </item>
    
    <item>
      <title>How to run JMX monitoring in Docker image?</title>
      <link>https://timor.site/2021/02/how-to-run-jmx-monitoring-in-docker-image/</link>
      <pubDate>Fri, 19 Feb 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/02/how-to-run-jmx-monitoring-in-docker-image/</guid>
      <description>It&amp;rsquo;s sometimes useful to quickly connect to JMX console, to checkout what&amp;rsquo;s going on in your application, but the whole thing get&amp;rsquo;s tricky if you&amp;rsquo;re running your app in a container. I need it from time to time and I keep myself few times searching for set of params below:
~/2021/02/how-to-run-jmx-monitoring-in-docker-image/ java \ ... -Dcom.sun.management.jmxremote \ -Dcom.sun.management.jmxremote.rmi.port=${PORT1} \ -Dcom.sun.management.jmxremote.port=${PORT1} \ -Dcom.sun.management.jmxremote.local.only=false \ -Dcom.sun.management.jmxremote.authenticate=false \ -Dcom.sun.management.jmxremote.ssl=false \ -Djava.rmi.server.hostname=${HOST} The whole magic here is that PORT1 in container is app&amp;rsquo;s second port.</description>
    </item>
    
    <item>
      <title>CentOS 8 Stream Docker image</title>
      <link>https://timor.site/2021/02/centos-8-stream-docker-image/</link>
      <pubDate>Thu, 11 Feb 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/02/centos-8-stream-docker-image/</guid>
      <description>We&amp;rsquo;re all divided with recent decision to focus on CentOS Stream, which essentially means that stable, professional distro will turn into rolling release now. Also CentOS board members don&amp;rsquo;t gave us more confidence for the future.
I don&amp;rsquo;t want to be totally sceptic, I would like to test it on my own and only then, decide if it&amp;rsquo;s stable enough. But I work mostly with Docker containers and there are no official Docker images with Stream variant.</description>
    </item>
    
    <item>
      <title>How old are Official Docker images?</title>
      <link>https://timor.site/2021/01/how-old-are-official-docker-images/</link>
      <pubDate>Thu, 28 Jan 2021 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2021/01/how-old-are-official-docker-images/</guid>
      <description>TL;DR
CentOS base images sucks! They&amp;rsquo;re old, not updated for months!
As a professional DevOps I concern about a lot of things&amp;hellip; but security is always close to the top of the list. With Docker build environments and deployments became much more stable, which often is a result of just being stale ;/
I&amp;rsquo;ve been talking about this for long time but it&amp;rsquo;s still hard for people to believe it.</description>
    </item>
    
    <item>
      <title>Bye Bye Wordpress!</title>
      <link>https://timor.site/2020/10/bye-bye-wordpress/</link>
      <pubDate>Sat, 24 Oct 2020 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2020/10/bye-bye-wordpress/</guid>
      <description>I started my blog on custom (written by my) engine, but as I didn&amp;rsquo;t had enough time to enhance it I switched to Wordpress. I&amp;rsquo;ve been using Wordpress as an engine of my blog for past 8~9 years. I have small VPS with PHP + Nginx and you can find a lot of configuration examples from my config on this site ðŸ˜„
There was a time, when I was really satisfied by what it provides.</description>
    </item>
    
    <item>
      <title>Moving from Linux to MacOS â€“ first steps</title>
      <link>https://timor.site/2020/01/moving-from-linux-to-macos-first-steps/</link>
      <pubDate>Sat, 04 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2020/01/moving-from-linux-to-macos-first-steps/</guid>
      <description>Few years ago I moved from Linux desktop to MacOS for my business, day to day work. There were 2 main reasons for that:
Corporations don&amp;rsquo;t like Linux - they can&amp;rsquo;t manage it, they can&amp;rsquo;t support it, so they blocked it with &amp;ldquo;Security policy&amp;rdquo;, ISO20001, or other nonsense. Actually they&amp;rsquo;re partially right but in different place - many business collaboration applications don&amp;rsquo;t work well on LInux (or they don&amp;rsquo;t work at all) Skype for Business - there&amp;rsquo;s open source alternative but to get full support you have to pay for additional codecs (as far as I remember) - it&amp;rsquo;s not working stable even in paid version Outlook and calendar support - I love Thunderbird and I use it for years, but calendar invitations didn&amp;rsquo;t work nice (honestly, they didn&amp;rsquo;t work nice even between different Outlook versions&amp;hellip;) Corporate VPN apps - Christ, I always was able to get it working eventually, but&amp;hellip; why bother I&amp;rsquo;m older, maybe lazier, maybe smarter - I don&amp;rsquo;t like to spend my time resolving problems that don&amp;rsquo;t give me any value.</description>
    </item>
    
    <item>
      <title>Debuging commands running on memcached</title>
      <link>https://timor.site/2016/07/debuging-commands-running-on-memcached/</link>
      <pubDate>Wed, 13 Jul 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/07/debuging-commands-running-on-memcached/</guid>
      <description>I had stragne statistics on one memcached servers. I had to look what it&amp;rsquo;s doing there. I found such commands that may be used to sniff, extract and make statistics from running memcached server.
Debug GET commands tcpflow -c dst port 11211 | cut -b46- | grep ^get cut command will remove 46 bytes at beginning of every string (src, dst, port). You may need to adjust numeric parameter for cut to leave commands only.</description>
    </item>
    
    <item>
      <title>How to stole ssh session when youâ€™re root</title>
      <link>https://timor.site/2016/04/how-to-stole-ssh-session-when-youre-root/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/04/how-to-stole-ssh-session-when-youre-root/</guid>
      <description>It happen to me all the time that one of developers notifies me about some kind of problem that I can&amp;rsquo;t confirm from my account. Sometimes it was because of bad ssh keys configuration, other times file permissions, mostly such stuff. It&amp;rsquo;s sometimes convenient to &amp;ldquo;enter into someone&amp;rsquo;s shoes&amp;rdquo; to see what&amp;rsquo;s going on there.
If you&amp;rsquo;re root on machine you may do that like this:
su developer - Easy one but that&amp;rsquo;s not enough for all cases.</description>
    </item>
    
    <item>
      <title>pip - uninstall package with dependencies</title>
      <link>https://timor.site/2016/04/pip-uninstall-package-with-dependencies/</link>
      <pubDate>Tue, 26 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/04/pip-uninstall-package-with-dependencies/</guid>
      <description>Virtualenvs in python are cheap but from time to time you will install something with pip on your system and when time comes removing all this crap could be difficult. I found this bash snippet that will uninstall package with all dependencies:
for dep in $(pip show python-neutronclient | grep Requires | sed &amp;#39;s/Requires: //g; s/,//g&amp;#39;) ; do sudo pip uninstall -y $dep ; done pip uninstall -y python-neutronclient Source: http://stackoverflow.</description>
    </item>
    
    <item>
      <title>Daily MySQL backups with xtrabackup</title>
      <link>https://timor.site/2016/04/daily-mysql-backups-with-xtrabackup/</link>
      <pubDate>Sat, 23 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/04/daily-mysql-backups-with-xtrabackup/</guid>
      <description>I&amp;rsquo;ve been using standard MySQL dumps as backup technique on my VPS for few years. It works fine and backups were usable few times when I needed them. But in other places I&amp;rsquo;m using xtrabackup. It&amp;rsquo;s faster when crating backups and a lot faster when restoring them - they&amp;rsquo;re binary so there is no need to reevaluate all SQL create tables/inserts/etc. Backups also include my.cnf config file so restoring on other machine should be easy.</description>
    </item>
    
    <item>
      <title>Use bastion host with Ansible</title>
      <link>https://timor.site/2016/04/use-bastion-host-with-ansible/</link>
      <pubDate>Fri, 22 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/04/use-bastion-host-with-ansible/</guid>
      <description>When you deploy your application in cloud you don&amp;rsquo;t need and don&amp;rsquo;t want your hosts exposed via SSH to the world. Malware scans whole network for easy SSH access and when find something will try some brute force attacks, overloading such machines. It&amp;rsquo;s easier to have one exposed, but secured host, that doesn&amp;rsquo;t host anything and is used as proxy/gateway to access our infrastructure- it&amp;rsquo;s called bastion host.
Ansible is quite easy to integrate with bastion host configuration.</description>
    </item>
    
    <item>
      <title>Tweaking ASUS Zenbook UX305CA on Linux</title>
      <link>https://timor.site/2016/04/tweaking-asus-zenbook-ux305ca-on-linux/</link>
      <pubDate>Thu, 21 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/04/tweaking-asus-zenbook-ux305ca-on-linux/</guid>
      <description>Lately I was searching for mobile notebook that I could use for remote work. I checked f ThinkPad series but they were huge bricks that have nothing in common with &amp;lsquo;mobile&amp;rsquo; word. Then I saw ASUS Zenbook that I didn&amp;rsquo;t take into account before and it was exactly what I was searching for.
Configuration of Skylake based notebook right now is not straightforward - there are still glitches and small bugs that are waiting to be fixed.</description>
    </item>
    
    <item>
      <title>Prefer IPv4 over IPv6</title>
      <link>https://timor.site/2016/03/prefer-ipv4-over-ipv6/</link>
      <pubDate>Tue, 29 Mar 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/03/prefer-ipv4-over-ipv6/</guid>
      <description>I try to use IPv6 where it&amp;rsquo;s available but it&amp;rsquo;s sometimes so hard&amp;hellip; It happen quite often that I can&amp;rsquo;t download packages from repos because they weren&amp;rsquo;t configured on IPv6 vhosts even when host is available via IPv6 address. For APT you may use this trick to force IPv4 connections only:
echo &amp;#39;Acquire::ForceIPv4 &amp;#34;true&amp;#34;;&amp;#39; &amp;gt; /etc/apt/apt.conf.d/99force-ipv4 If you need more than that, then gai.conf will allow you to filter where you will be connecting via IPv4 and where via IPv6 - in example bellow you will prefer IPv4 whenever it&amp;rsquo;s available:</description>
    </item>
    
    <item>
      <title>List octal file permissions in bash</title>
      <link>https://timor.site/2016/02/list-octal-file-permissions-in-bash/</link>
      <pubDate>Wed, 24 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/list-octal-file-permissions-in-bash/</guid>
      <description>Sometimes it&amp;rsquo;s easier to use octal file permissions but they&amp;rsquo;re not so easy to list. I caught myself few times that I didn&amp;rsquo;t remember how to list them - so this is a reason for that note.
stat -c &amp;#34;%a %n&amp;#34; * 755 bin 755 games 755 include Yes, it&amp;rsquo;s that easy ðŸ˜ƒ
And here also with human readable attributes:
stat -c &amp;#39;%A %a %n&amp;#39; * drwxr-xr-x 755 bin drwxr-xr-x 755 games drwxr-xr-x 755 include </description>
    </item>
    
    <item>
      <title>WordPress with HyperDB on PHP 7.0</title>
      <link>https://timor.site/2016/02/wordpress-with-hyperdb-on-php-7-0/</link>
      <pubDate>Wed, 24 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/wordpress-with-hyperdb-on-php-7-0/</guid>
      <description>I was configuring WordPress with HyperDB plugin on PHP 7.0 but the only I get were constant 500 errors. As I found here PHP 7.0 is not supported by HyperDB for now - it&amp;rsquo;s rely on mysql php extension but in PHP 7.0 there is only mysqli extension. But few folks fixed it and it&amp;rsquo;s possible to use it.
curl -O https://raw.githubusercontent.com/soulseekah/hyperdb-mysqli/master/db.php mv db.php /var/www/wordpress/wp-content/ And configure it ex. like this:</description>
    </item>
    
    <item>
      <title>Automatically build after file change</title>
      <link>https://timor.site/2016/02/automatically-build-after-file-change/</link>
      <pubDate>Tue, 23 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/automatically-build-after-file-change/</guid>
      <description>I&amp;rsquo;m playing a lot with Docker lately. Building images, and then rebuilding, and then building again&amp;hellip; It&amp;rsquo;s pretty boring. To automate this task a little I used inotify to build automatically after I changed any file. This trick could be used in many different situations.
You will need inotify-tools package:
sudo apt-get install -y inotify-tools Then run something like this:
while inotifywait -e modify -r .; do docker-compose build; done This commands will rebuild my Docker images after any file change in current directory.</description>
    </item>
    
    <item>
      <title>Install WordPress from command-line</title>
      <link>https://timor.site/2016/02/install-wordpress-from-command-line/</link>
      <pubDate>Mon, 15 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/install-wordpress-from-command-line/</guid>
      <description>I never tried it before but today I needed to install WordPress&amp;hellip; From command line only. And there is a way to do this with wp-cli.
WP-CLI installation First some requirements (as root):
apt-get install php5-cli php5-mysql mysql-client curl And now installation of wp-cli (as root too):
curl -O https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar chmod +x wp-cli.phar mv wp-cli.phar /usr/local/bin/wp Check if it&amp;rsquo;s working:
$ wp --version WP-CLI 0.22.0 WordPress installation Now you should switch to user of your web application, ex.</description>
    </item>
    
    <item>
      <title>Install Docker Compose</title>
      <link>https://timor.site/2016/02/install-docker-compose/</link>
      <pubDate>Fri, 12 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/install-docker-compose/</guid>
      <description>When I started playing with Docker I was running a lot of commands to build image, delete containers running on old image, run containers based on new image, etc&amp;hellip; A lot of log commands with links, volumes, etc&amp;hellip;
Then I started searching for something to automate this task and here I get to docker-compse command, this is how you may install it:
pip install docker-compose And install additional bash completions (run as root):</description>
    </item>
    
    <item>
      <title>Manual installation of Docker on Debian/Ubuntu</title>
      <link>https://timor.site/2016/02/manual-installation-of-docker-on-debian-ubuntu/</link>
      <pubDate>Thu, 11 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/manual-installation-of-docker-on-debian-ubuntu/</guid>
      <description>I&amp;rsquo;ve played with Docker a little in it early days but didn&amp;rsquo;t stick for longer with it. It&amp;rsquo;s stable now so I wanted to check how it&amp;rsquo;s running now.
I really can&amp;rsquo;t accept this method of installation:
curl -fsSL https://get.docker.com/ | sh I think that world is going to it&amp;rsquo;s end when I see such scritps&amp;hellip; I prefer to do this manually, knowing exactly what I have to do.
Install prerequisites:</description>
    </item>
    
    <item>
      <title>Some useful commands in Docker</title>
      <link>https://timor.site/2016/02/some-useful-commands-in-docker/</link>
      <pubDate>Thu, 11 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/some-useful-commands-in-docker/</guid>
      <description>I started playing with Docker and here I will write some commands that where not so obvious at beginning ðŸ˜ƒ
List running containers:
docker ps List also not running containers:
docker ps -a Remove all containers (be careful with that):
docker rm $(docker ps -a -q) Remove all images:
docker rmi $(docker images -q) Docker won&amp;rsquo;t remove any old volumes used by containers, so after some time you may be interested in deleting them all:</description>
    </item>
    
    <item>
      <title>Mass replace in WordPress posts via MySQL query</title>
      <link>https://timor.site/2016/02/mass-replace-in-wordpress-posts-via-mysql-query/</link>
      <pubDate>Tue, 09 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/mass-replace-in-wordpress-posts-via-mysql-query/</guid>
      <description>&lt;p&gt;I was doing a lot of changes to my old posts, switched to HTTPS, etc. Sometimes it was useful to change some particular text in all my old posts at a time, but there is no such feature in WordPress. But WordPress runs on MySQL and I could use SQL query to update such posts.&lt;/p&gt;
&lt;p&gt;Make backup - it&amp;rsquo;s not required but strongly advised ðŸ˜ƒ&lt;/p&gt;
&lt;p&gt;Now use this query as template to replace in place whatever you need:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;</description>
    </item>
    
    <item>
      <title>Use www.horizon.tv with Pipelight/Silverlight on Linux/Ubuntu</title>
      <link>https://timor.site/2016/02/use-www-horizon-tv-with-pipelight-silverlight-on-linux-ubuntu/</link>
      <pubDate>Tue, 09 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/use-www-horizon-tv-with-pipelight-silverlight-on-linux-ubuntu/</guid>
      <description>From few days I have access to UPC&amp;rsquo;s www.horizon.tv platform - until now it was useless on Linux. But there is Pipelight that will use Wine to emulate Silverlight on Linux and it&amp;rsquo;s working pretty well - you&amp;rsquo;re just few commands away from achieving that:
# stop browser killall firefox # remove old version if you have it sudo apt-get remove pipelight Now configure repos and install packages:
sudo apt-add-repository ppa:pipelight/stable sudo apt-get update sudo apt-get install --install-recommends pipelight-multi sudo pipelight-plugin --update Enable plugin (run it with sudo for system wide installation):</description>
    </item>
    
    <item>
      <title>Intel Dual Band Wireless-AC 7260 for Desktop on Linux</title>
      <link>https://timor.site/2016/02/intel-dual-band-wireless-ac-7260-for-desktop-on-linux/</link>
      <pubDate>Sat, 06 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/intel-dual-band-wireless-ac-7260-for-desktop-on-linux/</guid>
      <description>I just bought new wifi card for my desktop computer. Like in topic, it&amp;rsquo;s Intel Dual Band Wireless-AC 7260 for Desktop.
I was searching for card that:
support AC standard have 5GHz network support (2,4GHz channels are cluttered heavily in my neighborhood have PCI/PCIx or USB3 connector is Linux friendly (no modules compilation by hand, support for aircrack-ng, kismet) This one is the only I found that comply my expectations.</description>
    </item>
    
    <item>
      <title>Prepare for DoS like Cloudflare do</title>
      <link>https://timor.site/2016/02/prepare-for-dos-like-cloudflare-do/</link>
      <pubDate>Fri, 05 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/prepare-for-dos-like-cloudflare-do/</guid>
      <description>I watched nice presentation about how Cloudflare protects itself against DoS. Most of us are not able to do that exactly like them but some of tips were general enough to be used on typical web front server.
I took notes from this presentation and presented here. Thanks to Marek agreement I also reposted all examples (in easier to copy paste way).
Howto prepare against ACK/FIN/RST/X-mas flood Use conntrack rule:</description>
    </item>
    
    <item>
      <title>Zeitgeist activity.sqlite-wal getting huge</title>
      <link>https://timor.site/2016/02/zeitgeist-activity-sqlite-wal-getting-huge/</link>
      <pubDate>Thu, 04 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/02/zeitgeist-activity-sqlite-wal-getting-huge/</guid>
      <description>I was looking at backup task running on my desk and saw that it&amp;rsquo;s spending a lot of time on ~/.local/share/zeitgeist directory. I checked and it had 4.6GB:
du -sh ~/.local/share/zeitgeist/* 118M activity.sqlite 44M activity.sqlite.bck 32K activity.sqlite-shm 4,4G activity.sqlite-wal 311M fts.index WTF? Fortunately I found here that I could easily delete some of this:
zeitgeist-daemon --quit Now check that it&amp;rsquo;s not running:
ps axu | grep zeitgeist-daemon timor 9105 0.0 0.</description>
    </item>
    
    <item>
      <title>Optimize Nginx for performance</title>
      <link>https://timor.site/2016/01/optimize-nginx-for-performance/</link>
      <pubDate>Thu, 14 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/01/optimize-nginx-for-performance/</guid>
      <description>There are many possible real life cases and not all optimization technics will be suitable for you but I hope it will be a good starting place.
Also you shouldn&amp;rsquo;t copy paste examples with faith that they will make your server fly ðŸ˜ƒ You have to support your decisions with excessive tests and help of monitoring system (ex. Grafana).
Cache static and dynamic content Setting caching static and dynamic content strategy may offload your server from additional load from repetitive downloads of same, rarely updated files.</description>
    </item>
    
    <item>
      <title>XenServer - export VM to file</title>
      <link>https://timor.site/2016/01/xenserver-export-vm-to-file/</link>
      <pubDate>Tue, 12 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/01/xenserver-export-vm-to-file/</guid>
      <description>Sometime you need to make quick and dirty image backup of VM running on XenServer and this post is about such case ðŸ˜ƒ
List machines:
xl list Name ID Mem VCPUs State Time(s) Domain-0 0 4066 8 r----- 3526567.3 webfront1.example.com 1 4096 4 r----- 3186487.2 webfront2.example.com 2 2048 2 -b---- 920408.2 Now you may export one:
xe vm-export vm=webfront1.example.com filename=/srv/backup/webfront.xva Export succeeded You may also use uuid for that - list machines with xe vm-list (best with less) and then:</description>
    </item>
    
    <item>
      <title>Nagios - downtime on host/service from command line with curl</title>
      <link>https://timor.site/2016/01/nagios-downtime-on-hostservice-from-command-line-with-curl/</link>
      <pubDate>Mon, 11 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/01/nagios-downtime-on-hostservice-from-command-line-with-curl/</guid>
      <description>Sometimes deployment process or other havy task may cause some Nagios checks to rise below normal levels and bother admin. If this is expected and you want to add downtime on host/service during this task you may use this script:
#!/bin/bash function die { echo $1; exit 1; } if [[ $# -eq 0 ]] ; then die &amp;#34;Give hostname and time in minutes as parameter!&amp;#34; fi if [[ $# -eq 1 ]] ; then MINUTES=15 else MINUTES=$2 fi HOST=$1 NAGURL=http://nagios.</description>
    </item>
    
    <item>
      <title>Grafana - installation and configuraton with InfluxDB and CollectD on Debian/Ubuntu</title>
      <link>https://timor.site/2016/01/grafana-installation-and-configuraton-with-influxdb-and-collectd-on-debian-ubuntu/</link>
      <pubDate>Sun, 10 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/01/grafana-installation-and-configuraton-with-influxdb-and-collectd-on-debian-ubuntu/</guid>
      <description>Now when you have CollectD and InfluxDB installed you may configure Grafana ðŸ˜ƒ
First configure repo with current Grafana version (select your distro):
curl https://packagecloud.io/gpg.key | sudo apt-key add - deb https://packagecloud.io/grafana/testing/debian/ wheezy main Now install package (on wheezy I needed to install apt-transport-https to allow installation of packages from repo via HTTPS):
apt-get update apt-get install -y apt-transport-https apt-get install -y grafana By default Grafana will use sqlite database to keep information about users, etc:</description>
    </item>
    
    <item>
      <title>InfluxDB - installation and configuration on Debian/Ubuntu</title>
      <link>https://timor.site/2016/01/influxdb-installation-and-configuration-on-debianubuntu/</link>
      <pubDate>Sat, 09 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/01/influxdb-installation-and-configuration-on-debianubuntu/</guid>
      <description>I wanted/needed some statistics on few my machines. I saw earlier grafana and was impressed so this was starting point. Then I started reading about graphite, carbon and whisper, and thenâ€¦ I found InfluxDB. Project is young but looks promising.
Let&amp;rsquo;s start! On project page there is no info about repo but it&amp;rsquo;s available, configure it:
curl -sL https://repos.influxdata.com/influxdb.key | apt-key add - echo &amp;#34;deb https://repos.influxdata.com/debian wheezy stable&amp;#34; &amp;gt; /etc/apt.sources.list.d/influxdb.conf for Ubuntu use url like (of course selecting your version):</description>
    </item>
    
    <item>
      <title>CollectD - installation and configuration with InfluxDB on Debian/Ubuntu</title>
      <link>https://timor.site/2016/01/collectd-installation-and-configuration-with-influxdb-on-debianubuntu/</link>
      <pubDate>Fri, 08 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/01/collectd-installation-and-configuration-with-influxdb-on-debianubuntu/</guid>
      <description>I wanted/needed some statistics on few my machines. I saw earlier grafana and was impressed so this was starting point. Then I started reading about graphite, carbon and whisper, and thenâ€¦ I found InfluxDB. Project is young but looks promising.
Installation of collectd is easy on Debian because packages are in default repo. One problem is that packages may be old, ex. on wheezy it version 5.1. But in backports/backports-sloppy you may find current 5.</description>
    </item>
    
    <item>
      <title>Letâ€™s Encrypt - without auto configuration</title>
      <link>https://timor.site/2016/01/lets-encrypt-without-auto-configuration/</link>
      <pubDate>Mon, 04 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2016/01/lets-encrypt-without-auto-configuration/</guid>
      <description>From the first moment I heard about Let&amp;rsquo;s Encrypt I liked it and wanted to use it as fast as possible. But the more I read how they want to implement it, the more I dislike it.
Current project with automatic configuration is not what I want to use at all. I have many very complicated configs and I do not trust such tools enough to use them. I like UNIX&amp;rsquo;s single purpose principle, tools should do one thing and do it well - nothing more.</description>
    </item>
    
    <item>
      <title>fail2ban - block wp-login.php brute force attacks</title>
      <link>https://timor.site/2015/12/fail2ban-block-wp-login-php-brute-force-attacks/</link>
      <pubDate>Thu, 31 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/fail2ban-block-wp-login-php-brute-force-attacks/</guid>
      <description>Lately I had a lot of brute force attacks on my WordPress blog. I used basic auth to /wp-admin part in nginx configuration to block this and as a better solution I wan&amp;rsquo;t to block source IPs at all on firewall.
To do this, place this filter code in /etc/fail2ban/filter.d/wp-login.conf:
# WordPress brute force wp-login.php filter: # # Block IPs trying to authenticate in WordPress blog # # Matches e.g. # 178.</description>
    </item>
    
    <item>
      <title>Ansible on Vagrant - skipping: no hosts matched</title>
      <link>https://timor.site/2015/12/ansible-on-vagrant-skipping-no-hosts-matched/</link>
      <pubDate>Tue, 29 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/ansible-on-vagrant-skipping-no-hosts-matched/</guid>
      <description>I have some Ansible roles to configure my vps, Raspberry Pi, etc. I like to test them before I broke something on my real, not clustered machines - I use Vagrant for that.
But with it I had one problem - in playbooks I define hosts as groups of severs ex. web for my vps:
Example Ansible playbook - hosts: web gather_facts: True sudo: True ... But testing machine wasn&amp;rsquo;t in this group and when I run vagrant I could only see:</description>
    </item>
    
    <item>
      <title>Apache - Force caching dynamic PHP content with mod_headers</title>
      <link>https://timor.site/2015/12/apache-force-caching-dynamic-php-content-with-mod_headers/</link>
      <pubDate>Tue, 29 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/apache-force-caching-dynamic-php-content-with-mod_headers/</guid>
      <description>Normally you want dynamic content to be fresh and not catchable. But sometimes it may be useful to cache it, like when you have website behind reverse proxy. To do this try something like this:
&amp;lt;filesmatch &amp;#34;\.(php|cgi|pl)$&amp;#34;&amp;gt; Header unset Pragma Header unset Expires Header set Cache-Control &amp;#34;max-age=3600, public&amp;#34; &amp;lt;/filesmatch&amp;gt; Sources http://www.askapache.com/htaccess/speed-up-your-site-with-caching-and-cache-control.html</description>
    </item>
    
    <item>
      <title>MySQL - reset root password</title>
      <link>https://timor.site/2015/12/mysql-reset-root-password/</link>
      <pubDate>Mon, 28 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/mysql-reset-root-password/</guid>
      <description>It will happen from time to time, that you&amp;rsquo;re on alien machine and have to brutally update things in db without knowing credentials. Example is for root (quite secure candidate to change because it shouldn&amp;rsquo;t be used in app ðŸ˜ƒ ) but will work for any user.
shutdown db service mysql stop create text file with command like this (update user accordingly) ex. in /tmp/pwchange.txt SET PASSWORD FOR &amp;#34;root&amp;#34;@&amp;#34;localhost&amp;#34; = PASSWORD(&amp;#34;HereYourNewPassword&amp;#34;); start mysqld with --init-file param mysqld_safe --init-file=/tmp/pwchange.</description>
    </item>
    
    <item>
      <title>Rotate movies</title>
      <link>https://timor.site/2015/12/rotate-movies/</link>
      <pubDate>Mon, 28 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/rotate-movies/</guid>
      <description>I hate movies recorded on phone in vertical position. This just short tip how I dealt with with it last time:
for m in *.mp4 do avconv -i $m -vf &amp;#34;transpose=1&amp;#34; -codec:a copy -codec:v libx264 -preset slow -crf 23 rotated-$m done Other examples:
http://stackoverflow.com/questions/3937387/rotating-videos-with-ffmpeg
http://superuser.com/questions/578321/how-to-flip-a-video-180Â°-vertical-upside-down-with-ffmpeg</description>
    </item>
    
    <item>
      <title>Extract password saved in remmina</title>
      <link>https://timor.site/2015/12/extract-password-saved-in-remmina/</link>
      <pubDate>Fri, 25 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/extract-password-saved-in-remmina/</guid>
      <description>I had some passwords saved in remmina but like it always happen, I wasn&amp;rsquo;t been able to remember them when needed. Trying to restore them I found that they&amp;rsquo;re encrypted in .remmina directory.
Then I used this script to the decrypt them 1:
Extract script import base64 from Crypto.Cipher import DES3 secret = base64.decodestring(&amp;#34;&amp;lt;STRING FROM remmina.prefs&amp;gt;&amp;#34;) password = base64.decodestring(&amp;#34;&amp;lt;STRING FROM XXXXXXX.remmina&amp;gt;&amp;#34;) print DES3.new(secret[:24], DES3.MODE_CBC, secret[24:]).decrypt(password) http://askubuntu.com/questions/290824/how-to-extract-saved-password-from-remmina&amp;#160;&amp;#x21a9;&amp;#xfe0e;</description>
    </item>
    
    <item>
      <title>Iâ€™m back</title>
      <link>https://timor.site/2015/12/im-back/</link>
      <pubDate>Fri, 25 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/im-back/</guid>
      <description>After long break I&amp;rsquo;m thinking about writing more on my blog. I was reviewing my favorites/bookmarks and half of them was broken, so I can&amp;rsquo;t rely on them in case of knowledge management.
I think I will write shorter, less descriptive articles just to be pointers to useful solutions from past.</description>
    </item>
    
    <item>
      <title>Apache AuthBasic but excluding IP</title>
      <link>https://timor.site/2015/12/apache-authbasic-but-excluding-ip/</link>
      <pubDate>Wed, 23 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2015/12/apache-authbasic-but-excluding-ip/</guid>
      <description>Allow from IP without password prompt, and also allow from any address with password prompt
Order deny,allow Deny from all AuthName &amp;#34;htaccess password prompt&amp;#34; AuthUserFile /web/askapache.com/.htpasswd AuthType Basic Require valid-user Allow from 172.17.10.1 Satisfy Any Sources http://www.askapache.com/htaccess/apache-authentication-in-htaccess.html</description>
    </item>
    
    <item>
      <title>Copy GTP partiotion table between disks</title>
      <link>https://timor.site/2014/07/copy-gtp-partiotion-table-between-disks/</link>
      <pubDate>Mon, 28 Jul 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/07/copy-gtp-partiotion-table-between-disks/</guid>
      <description>When configuring RAID it&amp;rsquo;s quite important to have the same partition tables on every disk. I&amp;rsquo;v done this many times on msdos partition tables like this:
sfdisk -d /dev/sda | sfdisk /dev/sdb but it&amp;rsquo;s not working any more on GPT partition tables. Hopefully it still can be done but with different toolstack ðŸ˜„
Install gdisk:
apt-get install -y gdisk Then use sgdisk like this:
sgdisk -R /dev/sd_dest /dev/sd_src sgdisk -G /dev/sd_dest First command will copy partition from /dev/sd_src to /dev/sd_dest.</description>
    </item>
    
    <item>
      <title>Quickly setup SQL query logging on console in Django</title>
      <link>https://timor.site/2014/05/quickly-setup-sql-query-logging-on-console-in-django/</link>
      <pubDate>Wed, 28 May 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/05/quickly-setup-sql-query-logging-on-console-in-django/</guid>
      <description>There is need plugin for Django, named django-debug-toolbar but it needs some time to configure. So when I need simple way to debug SQL queries I use small hack. Add to your settings.py:
LOGGING = { &amp;#39;version&amp;#39;: 1, &amp;#39;disable_existing_loggers&amp;#39;: False, &amp;#39;handlers&amp;#39;: { &amp;#39;console&amp;#39;: { &amp;#39;level&amp;#39;: &amp;#39;DEBUG&amp;#39;, &amp;#39;class&amp;#39;: &amp;#39;logging.StreamHandler&amp;#39;, } }, &amp;#39;loggers&amp;#39;: { &amp;#39;django.db.backends&amp;#39;: { &amp;#39;handlers&amp;#39;: [&amp;#39;console&amp;#39;], &amp;#39;level&amp;#39;: &amp;#39;DEBUG&amp;#39;, }, } } To get this working DEBUG option have to be set to True:</description>
    </item>
    
    <item>
      <title>Changing default php.ini file for PHP-CLI on CentOS</title>
      <link>https://timor.site/2014/05/changing-default-php-ini-file-for-php-cli-on-centos/</link>
      <pubDate>Thu, 08 May 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/05/changing-default-php-ini-file-for-php-cli-on-centos/</guid>
      <description>On Debian in default installation you have different configuration files for PHP in Apache, FPM, CLI, etc. But on CentOS you have only one php.ini for all of them. In case I have, I need to have different configuration file for scripts running in CLI mode (more memory, etc). I could run it like this:
php -c /etc/php-cli.ini script.php But this a little burdensome. So I do it like this:</description>
    </item>
    
    <item>
      <title>Command to change root password</title>
      <link>https://timor.site/2014/05/command-to-change-root-password/</link>
      <pubDate>Thu, 08 May 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/05/command-to-change-root-password/</guid>
      <description>Everybody knows passwd command but it&amp;rsquo;s useless when you need to change ex. root password from command line without waiting for input. In such case oneliner below could help:
echo &amp;#34;root:new_password&amp;#34; | chpasswd </description>
    </item>
    
    <item>
      <title>Install Steam on Debian/Ubuntu</title>
      <link>https://timor.site/2014/04/install-steam-on-debian-ubuntu/</link>
      <pubDate>Tue, 22 Apr 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/04/install-steam-on-debian-ubuntu/</guid>
      <description>These are few steps to get Steam running on Ubuntu:
wget -c media.steampowered.com/client/installer/steam.deb dpkg -i steam.deb apt-get install -f apt-get update Solutions for some issues Some time ago I needed 32 bit flash even on 64 bit system - I don&amp;rsquo;t need it currently but I&amp;rsquo;m living this as a tip.
apt-get install adobe-flashplugin:i386 After Ubuntu upgrade I was unable to run Steam anymore - It shouted on me with strange &amp;ldquo;networking problem&amp;rdquo;.</description>
    </item>
    
    <item>
      <title>Rebuild yum/rpm database</title>
      <link>https://timor.site/2014/04/rebuild-yum-rpm-database/</link>
      <pubDate>Fri, 04 Apr 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/04/rebuild-yum-rpm-database/</guid>
      <description>When I was trying to update packages on one host I&amp;rsquo;ve stuck with yum hung on update. I run strace and see:
strace -p 43734 Process 43734 attached - interrupt to quit futex(0x807c938, FUTEX_WAIT, 1, NULL &amp;lt;unfinished ...&amp;gt; Process 43734 detached It looks like yum database was corrupted, to repair this run:
rm -f /var/lib/rpm/__db* rpm --rebuilddb yum clean all yum update Instead rm on db-files you could use gzip to have backup of these files.</description>
    </item>
    
    <item>
      <title>Nagios - run checks as root with NRPE</title>
      <link>https://timor.site/2014/03/nagios-run-checks-as-root-with-nrpe/</link>
      <pubDate>Sat, 29 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/03/nagios-run-checks-as-root-with-nrpe/</guid>
      <description>I&amp;rsquo;ve few Nagios checks that require root privileges but running nrpe as root user is not acceptable. I prefer to use sudo for only these few commands.
Run visudo and coment out this line:
#Defaults requiretty This change is crucial to get scripts working.
Then add at the end of file:
%nrpe ALL=(ALL) NOPASSWD: /usr/lib64/nagios/plugins/ I&amp;rsquo;ve used nrpe group, but you have to add exactly group that your nrpe process uses.</description>
    </item>
    
    <item>
      <title>WordPress - add meta tags: author, description, keywords, etc</title>
      <link>https://timor.site/2014/03/wordpress-add-meta-tags-author-description-keywords-etc/</link>
      <pubDate>Thu, 27 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/03/wordpress-add-meta-tags-author-description-keywords-etc/</guid>
      <description>After reading some SEO stuff I wanted to add some meta tags to my WordPress blog. I found this site: codex.wordpress.org/Meta_Tags_in_WordPress.
So WordPress thinks that it&amp;rsquo;s not necessary to have this meta tags any more&amp;hellip; But I want it! ðŸ˜ƒ Next funny thing is how they suggest to add meta tags: copy header.php - what about theme updates?
I prefer to use functions.php file - just create it in your courrent theme directory with such content:</description>
    </item>
    
    <item>
      <title>Mediawiki - recover admin rights</title>
      <link>https://timor.site/2014/03/mediawiki-recover-admin-rights/</link>
      <pubDate>Tue, 25 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/03/mediawiki-recover-admin-rights/</guid>
      <description>Let say you have MediaWiki installation but you lost admin credentials. If you have other account or if you could create one without any rights we&amp;rsquo;re in home ðŸ˜‰
We have few options to do this.
Reset admin password We have to connect to database and use this SQL:
UPDATE `user` SET user_password = CONCAT( SUBSTRING(user_password, 1, 3), SUBSTRING(MD5(user_name), 1, 8), &amp;#39;:&amp;#39;, MD5(CONCAT(SUBSTRING(MD5(user_name), 1, 8), &amp;#39;-&amp;#39;, MD5(&amp;#39;new password&amp;#39;)))) WHERE user_name = &amp;#39;Admin&amp;#39;; Just replace Admin with your username and new password with your password.</description>
    </item>
    
    <item>
      <title>Checking memcached status</title>
      <link>https://timor.site/2014/03/checking-memcached-status/</link>
      <pubDate>Fri, 21 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/03/checking-memcached-status/</guid>
      <description>I need to check memory usage of memcached server so I used:
echo stats | nc 127.0.0.1 11211 STAT pid 2743 STAT uptime 263 STAT time 1395438951 STAT version 1.4.13 STAT pointer_size 64 STAT rusage_user 0.482926 STAT rusage_system 2.675593 STAT curr_items 8667 STAT total_items 10742 STAT bytes 23802513 STAT curr_connections 296 STAT total_connections 399 STAT connection_structures 297 STAT cmd_flush 0 STAT cmd_get 52578 STAT cmd_set 10792 STAT get_hits 28692 STAT get_misses 23886 STAT evictions 0 STAT bytes_read 35984361 STAT bytes_written 192647437 STAT limit_maxbytes 536870912 STAT threads 2 STAT accepting_conns 1 STAT listen_disabled_num 0 STAT replication MASTER STAT repcached_qi_free 8189 STAT repcached_wdata 0 STAT repcached_wsize 1026048 END For me, bytes value was important but you could find more about all statistics here.</description>
    </item>
    
    <item>
      <title>Postfix - automatically drop outbound mail</title>
      <link>https://timor.site/2014/03/postfix-automatically-drop-outbound-mail/</link>
      <pubDate>Tue, 18 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/03/postfix-automatically-drop-outbound-mail/</guid>
      <description>I have development server with postfix - I wanted to allow outbound traffic to one domain but cut off all the rest. I definitely do not want that test mail or any debug info goes to service users.
I have to add something like that to /etc/postfix/transport:
allowed.domain.com : * discard: Then run:
postmap /etc/postfix/transport At end, add these to /etc/postfix/main.cf:
transport_maps = hash:/etc/postfix/transport Reload postfix:
postfix reload Test if it works:</description>
    </item>
    
    <item>
      <title>Ansible - ssh pipelining</title>
      <link>https://timor.site/2014/03/ansible-ssh-pipelining/</link>
      <pubDate>Tue, 04 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/03/ansible-ssh-pipelining/</guid>
      <description>In recent Ansible update to 1.5 version there is really nice feature ssh pipelining. This option is serious alternative to accelerated mode.
Just add to you config file (ex. ~/.ansible.cfg):
[ssh_connection] pipelining=True Now run any playbook - you will see the difference ðŸ˜„
Source (and extended info about):
http://blog.ansibleworks.com/2014/01/15/ssh-connection-upgrades-coming-in-ansible-1-5/</description>
    </item>
    
    <item>
      <title>Chrusty, faworki</title>
      <link>https://timor.site/2014/02/chrusty-faworki/</link>
      <pubDate>Wed, 26 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/02/chrusty-faworki/</guid>
      <description>To najlepszy przepis na chrusty jaki znam - wychodzÄ… bardzo kruche i delikatne.
SkÅ‚adniki 4 zÃ³Å‚tka, 4 Å‚yÅ¼ki wina biaÅ‚ego lub czerwonego, 4 Å‚yÅ¼ki mÄ…ki. SposÃ³b przygotowania Wszystkie skÅ‚adniki wymieszaÄ‡ i wyrobiÄ‡. Ciasto powinno byÄ‡ mniej wiecej takie jak na pierogi. BiÄ‡ paÅ‚kÄ…/waÅ‚kiem, skÅ‚adaÄ‡ na pÃ³Å‚ i tak kilka razy przez ok 5 minut. Potem ciasto rozwaÅ‚kowaÄ‡ bardzo cieniutko i wykrawaÄ‡ chrusty, maÅ‚e bo mocno rosnÄ…. NastÄ™pnie wrzucaÄ‡ na rozgrzany olej/smalec.</description>
    </item>
    
    <item>
      <title>Comparing two lists in bash</title>
      <link>https://timor.site/2014/02/comparing-two-lists-in-bash/</link>
      <pubDate>Tue, 18 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/02/comparing-two-lists-in-bash/</guid>
      <description>I had quite simple task - compare two lists of hosts and check if hosts from first one are also on the second one. I started with diff:
diff -u biglist.txt hosts_to_check.txt | grep -E &amp;#34;^\+&amp;#34; It was fine but output needs some filtering to get what I want.
I&amp;rsquo;ve found another example with grep:
grep -Fxv -f biglist.txt hosts_to_check.txt | sort -n This will search for all lines in hosts_to_check.</description>
    </item>
    
    <item>
      <title>Change default WSUS port from 8530 to 80 on Windows Server 2012</title>
      <link>https://timor.site/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/</link>
      <pubDate>Fri, 24 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/</guid>
      <description>After WSUS installing on Windows Server 2012 I discovered that it&amp;rsquo;s running on port 8530, different than on older version of Windows (it was using port 80 from beginning). But what&amp;rsquo;s more interesting it was running ONLY on IPv6 interface! Switching binding configuration in IIS doesn&amp;rsquo;t help.
I could stand switching port - it&amp;rsquo;s nothing hard with GPO, but IPv6 only configuration was not acceptable.
After googling for some time I found one command that solved my problems by switching WSUS to older behavior and run it on port 80 (on default website).</description>
    </item>
    
    <item>
      <title>Debian - Upgrade MySQL to MariaDB</title>
      <link>https://timor.site/2014/01/debian-upgrade-mysql-to-mariadb/</link>
      <pubDate>Fri, 24 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/debian-upgrade-mysql-to-mariadb/</guid>
      <description>After reading some good opinions about MariaDB I wanted to give it a try. Upgrade looks quite straight forward but I found some issues a little tricky.
Installation Add repo and key:
cat &amp;gt; /etc/apt/sources.list &amp;lt;&amp;lt;SRC deb http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main deb-src http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main SRC (find more repositories here)
Now install MariaDB:
sudo apt-get update sudo apt-get install mariadb-server It could be better to install mariadb-server-5.5 and mariadb-client-5.5 package instead, because of this error.</description>
    </item>
    
    <item>
      <title>Nginx - enabling SPDY with freeware certificate</title>
      <link>https://timor.site/2014/01/nginx-enabling-spdy-with-freeware-certificate/</link>
      <pubDate>Fri, 24 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/nginx-enabling-spdy-with-freeware-certificate/</guid>
      <description>I was thinking about allowing access to my website using SPDY protocol for better performance and security (and for fun of course ðŸ˜ƒ ). But SPDY have one disadvantage - you need SSL certificate signed by known authority that will verfiy in common browsers. So you can&amp;rsquo;t use self signed certificates because everyone will see a warning entering your site. Certs are quite expensive so I started searching for free one and to my surprise I found such!</description>
    </item>
    
    <item>
      <title>Searching for better code editor</title>
      <link>https://timor.site/2014/01/searching-for-better-code-editor/</link>
      <pubDate>Fri, 24 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/searching-for-better-code-editor/</guid>
      <description>I&amp;rsquo;ve been using different code editors for different purposes. Gedit was fine for small scripts but not for bigger projects. It lacks intelligent code completion (function/class names, etc.). I was searching for convenient editor for Python, Perl, Ruby with support for frameworks like Django, Rails, etc. I know Sublime Text - but it&amp;rsquo;s paid. There is LimeText - open source clone, but it&amp;rsquo;s not ready to be used on daily basics.</description>
    </item>
    
    <item>
      <title>Manage Windows 8.1 and Windows Server 2012 R2 in WSUS 3.0</title>
      <link>https://timor.site/2014/01/manage-windows-8-1-and-windows-server-2012-r2-in-wsus-3-0/</link>
      <pubDate>Thu, 16 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/manage-windows-8-1-and-windows-server-2012-r2-in-wsus-3-0/</guid>
      <description>After connecting few computers with Windows 8.1 to domain we found that these computers are not recognized or recognized as Windows 6.3 (which is true) on WSUS 3.0 running on Windows Server 2008. The bad thing was that they can&amp;rsquo;t properly report to WSUS and get updates from it.
I found that there are two updates that have to be installed (but they&amp;rsquo;re not working without additional steps):
http://support.microsoft.com/kb/2720211 http://support.microsoft.com/kb/2734608 After installation of second update there are two additional steps that have to be performed to get WSUS working:</description>
    </item>
    
    <item>
      <title>Regenerate thumbnails in Shotwell 0.15 (for last month)</title>
      <link>https://timor.site/2014/01/regenerate-thumbnails-in-shotwell-for-last-month/</link>
      <pubDate>Wed, 08 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/regenerate-thumbnails-in-shotwell-for-last-month/</guid>
      <description>I love Shotwell for it&amp;rsquo;s simplicity and easy export to Piwigo. After Christmas I added new photos to my library but after that I made some modifications to them (red eye reduction, etc&amp;hellip;). Because Shotwell generate thumbnails only on import, all my modifications were not visible on preview.
I&amp;rsquo;ve started searching how to regenerate thumbs and found this info. There were two issues with this method:
this howto was for old version (with old paths) and only for 128px thumbs I definitely don&amp;rsquo;t want to regenerate thumbnails for 40k photos!</description>
    </item>
    
    <item>
      <title>Loop unlooping in Javascript</title>
      <link>https://timor.site/2014/01/loop-unlooping-in-javascript/</link>
      <pubDate>Tue, 07 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/loop-unlooping-in-javascript/</guid>
      <description>Few days ago I&amp;rsquo;ve read a book â€˜Even Faster Web Sitesâ€˜ about websites optimisation and I found one thing usefuluseful, not only on websites. There was a small tip about looploop unlooping. I want to quote them for later use.
First - with switch statement var iterations = Math.ceil(values.length / 8); var startAt = values.length % 8; var i = 0; do { switch(startAt) { case 0: process(values[i++]); case 7: process(values[i++]); case 6: process(values[i++]); case 5: process(values[i++]); case 4: process(values[i++]); case 3: process(values[i++]); case 2: process(values[i++]); case 1: process(values[i++]); } startAt = 0; } while(--iterations &amp;gt; 0); Second - without switch var iterations = Math.</description>
    </item>
    
    <item>
      <title>Tracking users by nickname on WordPress using Google Analytics</title>
      <link>https://timor.site/2014/01/tracking-users-by-nickname-on-wordpress-using-google-analytics/</link>
      <pubDate>Tue, 07 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2014/01/tracking-users-by-nickname-on-wordpress-using-google-analytics/</guid>
      <description>Some time ago I write article about tracking nicknames of users (from comments) on a WordPress blog with Piwik. This time I&amp;rsquo;m doing same but for Google Analytics.
I&amp;rsquo;m using Google Analytics plugin for WordPress so I&amp;rsquo;ve edited googleanalytics.php file to add some additional code for user tracking:
&amp;lt;script type=&amp;#34;text/javascript&amp;#34;&amp;gt; var i,x,y,ARRcookies=document.cookie.split(&amp;#34;;&amp;#34;); var comment_author = &amp;#34;&amp;#34;; for (i=0;i&amp;lt;ARRcookies.length;i++) { x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(&amp;#34;=&amp;#34;)); y=ARRcookies[i].substr(ARRcookies[i].indexOf(&amp;#34;=&amp;#34;)+1); x=x.replace(/^\s+|\s+$/g,&amp;#34;&amp;#34;); if (x.indexOf(&amp;#34;comment_author&amp;#34;) != -1 &amp;amp;&amp;amp; x.indexOf(&amp;#34;comment_author_email&amp;#34;) == -1 &amp;amp;&amp;amp; x.</description>
    </item>
    
    <item>
      <title>Apache - precompressing static files with gzip</title>
      <link>https://timor.site/2013/12/apache-precompressing-static-files-with-gzip/</link>
      <pubDate>Fri, 27 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/apache-precompressing-static-files-with-gzip/</guid>
      <description>Some time ago I&amp;rsquo;ve show how to precompress js and css file with gzip to be available for Nginx&amp;rsquo;s mod_gzip. In default configuration Apache don&amp;rsquo;t have such module but similar functionality could be achieved with few custom rewirtes.
Basically we will start with these rewrites to serve gzipped CSS/JS files if they exist and the client accepts gzip compression:
RewriteEngine on RewriteCond %{HTTP:Accept-encoding} gzip RewriteCond %{REQUEST_FILENAME}\.gz -s RewriteRule ^(.*)\.(js|css)$ $1\.$2\.gz [QSA] Then we need to setup proper content types for such compressed files - I know how to do this in two ways:</description>
    </item>
    
    <item>
      <title>Android: Xposed &#43; AppOps - reclaim control over installed applications permissions</title>
      <link>https://timor.site/2013/12/android-xposed-appops-reclaim-control-over-installed-applications-permissions/</link>
      <pubDate>Tue, 17 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/android-xposed-appops-reclaim-control-over-installed-applications-permissions/</guid>
      <description>I&amp;rsquo;m happy owner of Galaxy Nexus 7 and lately I updated my tablet to Android 4.4 Kitkat. One of features I most expected was ability to block some permissions of some applications. Such setting was available in 4.4 version but was removed in latest 4.4.2 - Google didn&amp;rsquo;t explain it exactly why. I don&amp;rsquo;t like when for ex. game need: camera or GPS access - for what I asked?
But there is new app so called App Ops that unhides build-in interface allowing edit of application permissions.</description>
    </item>
    
    <item>
      <title>Generate ECDSA key with OpenSSL</title>
      <link>https://timor.site/2013/12/generate-ecdsa-key-with-openssl/</link>
      <pubDate>Tue, 17 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/generate-ecdsa-key-with-openssl/</guid>
      <description>After the last NSA scandal I&amp;rsquo;ve found some time to read some texts about PFS and ECDSA keys lately. I always used RSA keys but wanted to give a try to ECDSA so I wanted to give it a try (test performance, etc). Here is how I&amp;rsquo;ve done it.
Firstly find your favorite curve. A short tip about bit length and complexity could be found here. From it you will now that using 256 bit ECDSA key should be enough for next 10-20 years.</description>
    </item>
    
    <item>
      <title>Delete audio track from mkv file</title>
      <link>https://timor.site/2013/12/delete-audio-track-from-mkv-file/</link>
      <pubDate>Mon, 16 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/delete-audio-track-from-mkv-file/</guid>
      <description>Lately I tried to remove some streams from MKV file - I wanted: video, audio in my language and no subtitles. I achieved it with mkvtoolnix utils.
Firstly I have to identify streams in file:
$ mkvmerge -i input_file.mkv File &amp;#39;test.mkv&amp;#39;: container: Matroska Track ID 0: video (V_MPEG4/ISO/AVC) Track ID 1: audio (A_DTS) Track ID 2: audio (A_AC3) Track ID 3: audio (A_DTS) Track ID 4: audio (A_AC3) Track ID 5: subtitles (S_TEXT/UTF8) Track ID 6: subtitles (S_TEXT/UTF8) Chapters: 16 entries You could use more verbose tool mkvinfo for that purpose too.</description>
    </item>
    
    <item>
      <title>Preparing video files for streaming on website in MP4 and WEBM format</title>
      <link>https://timor.site/2013/12/preparing-video-files-for-streaming-on-website-in-mp4-and-webm-format/</link>
      <pubDate>Mon, 16 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/preparing-video-files-for-streaming-on-website-in-mp4-and-webm-format/</guid>
      <description>Some time ago I prepared a PC that was responsible for batch encoding of movies to formats suitable for web players (such as. Video.js, JW Player, Flowplayer, etc.)
I used HandBrake for conversion to MP4 format (becase this soft was the fastest one) and ffmpeg (aka avconv in new version) for two pass encoding to WEBM.
Below are commands used by me for that conversion:
MP4 HandBrakeCLI -e x264 -q 20.</description>
    </item>
    
    <item>
      <title>Running Apache with mod_spdy and PHP-FPM</title>
      <link>https://timor.site/2013/12/running-apache-with-mod_spdy-and-php-fpm/</link>
      <pubDate>Mon, 16 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/running-apache-with-mod_spdy-and-php-fpm/</guid>
      <description>SPDY is new protocol proposed by Google as an alternative for HTTP(S). Currently Chrome and Firefox browsers are using it as default if available on server. It is faster in most cases by few to several percent. The side effect of using mod_spdy is that it&amp;rsquo;s working well only with thread safe Apache&amp;rsquo;s modules. PHP module for Apache is not thread safe so we need to use PHP as CGI or FastCGI service.</description>
    </item>
    
    <item>
      <title>Re-adding failed drive in mdadm</title>
      <link>https://timor.site/2013/12/re-adding-failed-drive-in-mdadm/</link>
      <pubDate>Thu, 12 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/re-adding-failed-drive-in-mdadm/</guid>
      <description>Yesterday I have problem with fglrx witch cause ugly system reset. After that, one of my drives was marked as failed in RAID5 array. Hotspare was automatically used to rebuild array. But this hotspare is the oldest and slowest drive I&amp;rsquo;ve got&amp;hellip;
After rebuild I&amp;rsquo;ve tested failed drive and it was fine - no bad block, no any other issue - so I wanted it running back in array.
What I do:</description>
    </item>
    
    <item>
      <title>Ansible - Dynamicaly update /etc/hosts files on target servers</title>
      <link>https://timor.site/2013/12/ansible-dynamicaly-update-etc-hosts-files-on-target-servers/</link>
      <pubDate>Wed, 11 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/12/ansible-dynamicaly-update-etc-hosts-files-on-target-servers/</guid>
      <description>I was configuring GlusterFS on few servers using Ansible and have a need to update /etc/hosts with hostnames for easier configuration. I found this one working:
- name: Update /etc/hosts lineinfile: dest=/etc/hosts regexp=&amp;#39;.*{{item}}$&amp;#39; line=&amp;#39;{{hostvars.{{item}}.ansible_default_ipv4.address}} {{item}}&amp;#39; state=present with_items: &amp;#39;{{groups.somegroup}}&amp;#39; Source: http://xmeblog.blogspot.com/2013/06/ansible-dynamicaly-update-etchosts.html</description>
    </item>
    
    <item>
      <title>Reset user password in your own Ghost Blog</title>
      <link>https://timor.site/2013/11/reset-user-password-in-your-own-ghost-blog/</link>
      <pubDate>Thu, 28 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/reset-user-password-in-your-own-ghost-blog/</guid>
      <description>I&amp;rsquo;ve started testing new Ghost blogging platform for a while on a virtual machine before I take decision about switching to it (or maybe won&amp;rsquo;t)&amp;hellip; After few days, I wanted to go forward with more testing and stuck on &amp;ldquo;e-mail and password&amp;rdquo; login prompt ðŸ˜ƒ
I&amp;rsquo;ve started looking into files and found ghost_dir/content/data/ghost-dev.db SQLite database. It can be opened like that:
sqlite3 content/data/ghost-dev.db Then you could see whats your mail (and other info):</description>
    </item>
    
    <item>
      <title>Inodes on XFS</title>
      <link>https://timor.site/2013/11/inodes-on-xfs/</link>
      <pubDate>Wed, 27 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/inodes-on-xfs/</guid>
      <description>It&amp;rsquo;s quite rare to have problems with XFS and inodes exhaustion. Mostly because XFS doesn&amp;rsquo;t have inode limit in a manner known from other filesystems - it&amp;rsquo;s using some percentage of whole filesystem as a limit and in most distributions it&amp;rsquo;s 25%. So it&amp;rsquo;s really huge amount of inodes. But some tools and distributions lowered limit ex. 5% or 10% and there you could have problems more often.
You could check what is you limit by issuing xfs_info with drive and searching for imaxpct value:</description>
    </item>
    
    <item>
      <title>Kill with SIGSTOP and SIGCONT</title>
      <link>https://timor.site/2013/11/kill-with-sigstop-and-sigcont/</link>
      <pubDate>Thu, 21 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/kill-with-sigstop-and-sigcont/</guid>
      <description>I&amp;rsquo;ve bought a NAS and customized it a little. But there was one thing which make my nights sleepless. NAS was seeking disks every 5~10 seconds - these was really irritating - especially when it was silent in room. I found that part of firmware was indexing or logging something so I wanted it dead! kill -9 was unsuccessful - process restarted after a while&amp;hellip;. wrrr&amp;hellip;
I googled a little and found another signal I could use SIGSTOP, which will freeze process until I send SIGCONT to it - that was exactly what I need (because I normally use NFS/Samba and don&amp;rsquo;t need nothing more running on this device).</description>
    </item>
    
    <item>
      <title>My new toy - Iomega StorCenter ix2-200 Cloud Edition</title>
      <link>https://timor.site/2013/11/my-new-toy-iomega-storcenter-ix2-200-cloud-edition/</link>
      <pubDate>Tue, 19 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/my-new-toy-iomega-storcenter-ix2-200-cloud-edition/</guid>
      <description>I&amp;rsquo;ve just bought new toy - Iomega StorCenter ix2-200 Cloud Edition. I have to play with few options before I could start using it. First thing - Firmware upgrade.
Firmware upgrade I&amp;rsquo;ve started searching for latest firmware for ix2-200 Cloud and found that I have to register on Lenovo site to get firmware&amp;hellip; I don&amp;rsquo;t like such sites where they force me to give all private data, but after few clicks on &amp;ldquo;Recommended articles&amp;rdquo; on that site I landed here:</description>
    </item>
    
    <item>
      <title>Reenable web interface on Polycom VBP 5300 ST from CLI</title>
      <link>https://timor.site/2013/11/reenable-web-interface-on-polycom-vbp-5300-st-from-cli/</link>
      <pubDate>Mon, 18 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/reenable-web-interface-on-polycom-vbp-5300-st-from-cli/</guid>
      <description>After some configuration changes I&amp;rsquo;ve stuck with VBP not listening nor on HTTP, nor on SSH port. Last resort was to use CLI to reenable HTTP access. Connect with parameters:
Baud rate: 9600 Parity: none Bits: 8 Stopbits: 1 Flow control: none Then in login prompt you have to use login credentials (yes - they&amp;rsquo;re the same on every box (WTF?)):
User: - root Pass: - @#$%^&amp;amp;*!() Password is shift + 2345678190 - there is 1 before 9!</description>
    </item>
    
    <item>
      <title>Changing language of articles on my blog to English</title>
      <link>https://timor.site/2013/11/changing-language-of-articles-on-my-blog-to-english/</link>
      <pubDate>Fri, 15 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/changing-language-of-articles-on-my-blog-to-english/</guid>
      <description>I&amp;rsquo;ve crated this blog to get feedback from other IT guys about what I&amp;rsquo;m doing wrong (or not good enough). But this idea failed&amp;hellip;
I have only few comments on my blog (and about thousand and a half spams per month) - so, no feedback in my national language at all.
Switching to English should make my audience bigger and I hope to have more attention thanks to that. This will be also a good practice of my English skill.</description>
    </item>
    
    <item>
      <title>GearmanManager: wygodne zarzÄ…dzanie workerami</title>
      <link>https://timor.site/2013/11/gearmanmanager-wygodne-zarzadzanie-workerami/</link>
      <pubDate>Wed, 13 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/gearmanmanager-wygodne-zarzadzanie-workerami/</guid>
      <description>Niedawno zainteresowaÅ‚em siÄ™ usÅ‚ugÄ… Gearman i jedynej rzeczy ktÃ³rej mi brakowaÅ‚o to jakiegoÅ› Å‚atwego mechanizmu zarzÄ…dzajÄ…cego workerami. Ale jak zwykle okazaÅ‚o siÄ™ Å¼e inni mieli juÅ¼ ten problem i odpowiednie narzÄ™dzie istnieje - mowa o GearmanManagerze.
Instalacja GearmanManagera Aby zainstalowaÄ‡ GeramanManagera na serwerze gdzie juÅ¼ mamy Gearmana trzeba wykonaÄ‡ kilka krokÃ³w (wczeÅ›niej powinniÅ›my teÅ¼ zainstalowaÄ‡ moduÅ‚ gearmana do php&amp;rsquo;a):
apt-get install git -y git clone https://github.com/brianlmoon/GearmanManager.git cd GearmanManager/install chmod +x install.</description>
    </item>
    
    <item>
      <title>Debian - zablokowanie aktualizacji pakietu</title>
      <link>https://timor.site/2013/11/debian-zablokowanie-aktualizacji-pakietu/</link>
      <pubDate>Tue, 05 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/11/debian-zablokowanie-aktualizacji-pakietu/</guid>
      <description>W teorii nie powinno siÄ™ blokowaÄ‡ aktualizacji pakietÃ³w bo Å‚atajÄ… dziury itd&amp;hellip;. Ale! ZdarzyÅ‚y mi siÄ™ ostatnio dwie sytuacje, ktÃ³re do tego mnie zmusiÅ‚y:
aktualizacja hudsona koÅ„czyÅ‚a siÄ™ bÅ‚Ä™dem przy starcie usÅ‚ugi, aktualizacja domU Xen skoÅ„czyÅ‚a siÄ™ problemem z kompatybilnoÅ›ciÄ… mechanizmu udev w systemie i jÄ…drze (hypervisor miaÅ‚ starsze jÄ…dro niÅ¼ spodziewaÅ‚o siÄ™ DomU). W takich sytuacjach bardzo przydaje siÄ™ moÅ¼liwoÅ›Ä‡ zablokowania aktualizacji jednej &amp;ldquo;psujÄ…cej&amp;rdquo; paczki na pewien okres czasu by nie opÃ³ÅºniaÄ‡ innych aktualizacji a sobie daÄ‡ czas na rozpracowanie problemu.</description>
    </item>
    
    <item>
      <title>Instalacja gearman-job-server 1.0.6 na Debianie Wheezy</title>
      <link>https://timor.site/2013/10/instalacja-gearman-job-server-1-0-6-na-debianie-wheezy/</link>
      <pubDate>Tue, 29 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/10/instalacja-gearman-job-server-1-0-6-na-debianie-wheezy/</guid>
      <description>Ostatnio trafiÅ‚em na ciekawÄ… usÅ‚ugÄ™, ktÃ³ra pozwala oddelegowaÄ‡ dÅ‚ugo trwajÄ…ce zadania z usÅ‚ugi webowej. Mowa o Gearman&amp;rsquo;ie. UsÅ‚uga jest o tyle ciekawa Å¼e nie narzuca ani jÄ™zyka dla klienta (wiÄ™kszoÅ›Ä‡ popularnych ma gotowe biblioteki), ani jÄ™zyk dla skryptÃ³w w tej usÅ‚udze nie jest narzucany. MoÅ¼na tÄ™ usÅ‚ugÄ™ wykorzystaÄ‡ jako most pomiÄ™dzy PHP a np. JavÄ…/Pythonem lub do zlecenia zadaÅ„ z serwera na Linux&amp;rsquo;ie do wykonania na serwerze Windowsowym (bo np. narzÄ™dzia dostÄ™pne sÄ… tylko dla Windowsa).</description>
    </item>
    
    <item>
      <title>Uruchamianie aplikacji .NET jako 32-bitowej w 64-bitowym systemie</title>
      <link>https://timor.site/2013/10/uruchamiania-aplikacji-net-jako-32-bitowej-w-64-bitowym-systemie/</link>
      <pubDate>Tue, 29 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/10/uruchamiania-aplikacji-net-jako-32-bitowej-w-64-bitowym-systemie/</guid>
      <description>Kolejna zabawna sytuacja - pewna aplikacja dotNET&amp;rsquo;owa dziaÅ‚aÅ‚a dziwnie na 64-bitowym systemie, a tymczasem na 32-bitowej maszynie ta sama aplikacja dziaÅ‚aÅ‚a bez problemÃ³w. Jedyna rÃ³Å¼nica to inne wersje klientÃ³w ODBC na tych systemach, ktÃ³re po kilku testach okazaÅ‚y siÄ™ byÄ‡ przyczynÄ… caÅ‚ego zÅ‚a.
PojawiÅ‚ siÄ™ pomysÅ‚ by odpaliÄ‡ aplikacje na 64 bitowym systemie ale w trybie 32 bit - poniÅ¼ej krÃ³tkie HOWTO jak to osiÄ…gnÄ…Ä‡:
potrzebujemy narzÄ™dzia corflags.exe ktÃ³re pozwoli oznaczyÄ‡ nam binarkÄ™ jako 32-bitowÄ…, do pobrania tutaj a instrukcja jej uÅ¼ycia tutaj.</description>
    </item>
    
    <item>
      <title>Certyfikaty nazwaSSL na wÅ‚asnym serwerze</title>
      <link>https://timor.site/2013/10/certyfikaty-nazwassl-na-wlasnym-serwerze/</link>
      <pubDate>Tue, 22 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/10/certyfikaty-nazwassl-na-wlasnym-serwerze/</guid>
      <description>Od jakiegoÅ› czasu moÅ¼na kupiÄ‡ w NetArcie certyfikaty SSL, a niedawno zrobili na nie promocjÄ™ - 15zÅ‚ za pierwszy rok (za certyfikat na jednÄ… stronkÄ™). Tzw. tanie i dobre. Po wyrobieniu certyfikatu i zapisaniu z panelu klienta mam pliczki: stonka.crt i netart_rootca.crt, ktÃ³re wrzucamy do Apachego, powiedzmy tak:
SSLCertificateFile /etc/ssl/certs/stonka.crt SSLCertificateKeyFile /etc/ssl/private/priv.key SSLCACertificateFile /etc/ssl/certs/netart_rootca.crt Certyfikat dziaÅ‚a w Chromie ale nie weryfikuje siÄ™ w Firefoxie i Internet Explorerze. FF wyÅ›wietla bÅ‚Ä…d: sec_error_unknown_issuer - co oznacza brak certyfikatu wystawcy gdzieÅ› w Å‚aÅ„cuchu certyfikatÃ³w.</description>
    </item>
    
    <item>
      <title>Postfix: ciekawy problem z smtpd_delay_reject i permit_sasl_authenticated</title>
      <link>https://timor.site/2013/10/postfix-ciekawy-problem-z-smtpd_delay_reject-i-permit_sasl_authenticated/</link>
      <pubDate>Tue, 08 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/10/postfix-ciekawy-problem-z-smtpd_delay_reject-i-permit_sasl_authenticated/</guid>
      <description>TrafiÅ‚ mi siÄ™ ostatnio ciekawy problem - otÃ³Å¼ standardowo przed koÅ„cem roku poprawiaÅ‚em filtry antyspamowe i optymalizowaÅ‚em konfiguracjÄ™ Postfix&amp;rsquo;a. ChciaÅ‚em zmieniÄ‡ domyÅ›lnÄ… wartoÅ›Ä‡ smtpd_delay_reject=yes na smtpd_delay_reject=no by odrzucaÄ‡ spamerÃ³w najwczeÅ›niej jak to moÅ¼liwe. I ciekawe kuku, ktÃ³re sobie zrobiÅ‚em polegaÅ‚o na tym Å¼e sam nie mogÅ‚em wysyÅ‚aÄ‡ poczty po logowaniu SSL&amp;rsquo;em&amp;hellip;
DostawaÅ‚em przy tym bardzo wymownÄ… odpowiedÅº:
Oct 8 16:30:39 tyr postfix/smtpd[21039]: NOQUEUE: reject: CONNECT from unknown[67.x.x.x]: 554 5.7.1 &amp;lt;unknown [67.</description>
    </item>
    
    <item>
      <title>Instalacja Pythonâ€™a na Windowsie</title>
      <link>https://timor.site/2013/09/instalacja-pythona-na-windowsie/</link>
      <pubDate>Wed, 25 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/instalacja-pythona-na-windowsie/</guid>
      <description>Pomimo Å¼e Python duÅ¼o czÄ™Å›ciej wykorzystywany jest w Å›rodowiskach UNIX&amp;rsquo;owcy/Linux&amp;rsquo;owych to znajdzie siÄ™ kilka fajnych zastosowaÅ„ dla tego jÄ™zyka na Windowsie. MoÅ¼liwoÅ›ci na instalacjÄ™ jest kilka, a najprostsza to wykorzystanie instalatora ActiveState. Wersja ta ma w sobie wszystko co potrzebne:
rozszerzenia dla API Windows menadÅ¼era pakietÃ³w PyPM dokumentacjÄ™ Niestety jakiÅ› czas temu zmieniÅ‚y siÄ™ zasady licencjonowania w ActiveState i aktualne wersje dla zastosowaÅ„ produkcyjnych wymagajÄ… zakupu licencji (1000$/rok - aÅ¼ chce siÄ™ zacytowaÄ‡ z Dnia Åšwira: czizys k&amp;hellip;wa&amp;hellip;).</description>
    </item>
    
    <item>
      <title>Sprawdzanie zainstalowanej wersji Django</title>
      <link>https://timor.site/2013/09/sprawdzanie-zainstalowanej-wersji-django/</link>
      <pubDate>Mon, 16 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/sprawdzanie-zainstalowanej-wersji-django/</guid>
      <description>Ten one liner zaÅ‚atwia sprawÄ™:
python -c &amp;#39;import django; print &amp;#34;.&amp;#34;.join([str(s) for s in django.VERSION]);&amp;#39; </description>
    </item>
    
    <item>
      <title>Spammer screwed up</title>
      <link>https://timor.site/2013/09/spammer-screwed-up/</link>
      <pubDate>Sun, 15 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/spammer-screwed-up/</guid>
      <description>I&amp;rsquo;ve just received a comment on my blog with text attached below. It looks like spam message template. I think it could be easily used for creation of banning rules, etc. Use it in a way that will make this dumbass spammer look even more stupid ;-)
{ {I have|Iâ€™ve} been {surfing|browsing} online more than {three|3|2|4} hours today, yet I never found any interesting article like yours. {Itâ€™s|It is} pretty worth enough for me.</description>
    </item>
    
    <item>
      <title>Raspberry Pi: pierwsze kroki</title>
      <link>https://timor.site/2013/09/raspberry-pi-pierwsze-kroki/</link>
      <pubDate>Fri, 13 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/raspberry-pi-pierwsze-kroki/</guid>
      <description>WyprzeÄ‡ siÄ™ nie mogÄ™ Å¼e gadÅ¼ety dziaÅ‚ajÄ…ce na Linuksie po prostu mnie krÄ™cÄ…, wiÄ™c tylko kwestiÄ… czasu byÅ‚o aÅ¼ Pi zawita na moim biurku. ZakupiÅ‚em wiÄ™c model B w drugiej wersji, obudowÄ™ z moÅ¼liwoÅ›ciÄ… mocowania VESA, kabelek HDMI, Å‚adowarka z mojej myszy pasowaÅ‚a idealnie (5.05V i 1A) i na poczÄ…tek karta SD klasa 10 4GB.
SzukajÄ…c rÃ³Å¼nych systemÃ³w (a moÅ¼e ROM&amp;rsquo;Ã³w) natrafiÅ‚em na oficjalnÄ… stronÄ™: http://www.raspberrypi.org/downloads
Na poczÄ…tek wystarczy a sprawdzajÄ…c na stronach projektÃ³w okazaÅ‚o siÄ™ Å¼e wersje na tej stronie sÄ… caÅ‚kiem aktualne.</description>
    </item>
    
    <item>
      <title>Nginx - przydatne rewriteâ€™y i rÃ³Å¼ne sztuczki</title>
      <link>https://timor.site/2013/09/nginx-przydatne-rewritey-i-rozne-sztuczki/</link>
      <pubDate>Mon, 09 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/nginx-przydatne-rewritey-i-rozne-sztuczki/</guid>
      <description>PolubiÅ‚em Nginx&amp;rsquo;a i wykorzystujÄ™ go na coraz wiÄ™cej sposobÃ³w. Kilka rzeczy udaÅ‚o mi siÄ™ caÅ‚kiem fajnie w nim skonfigurowaÄ‡ i postanowiÅ‚em zebraÄ‡ te przykÅ‚ady by nastÄ™pnym razem gdy postanowiÄ™ do nich siÄ™gnÄ…Ä‡ nie musieÄ‡ wertowaÄ‡ konfigÃ³w po serwerach ðŸ˜ƒ
SÅ‚owo wstÄ™pu NiektÃ³re rewrite&amp;rsquo;y koÅ„czÄ… siÄ™ znakiem ? - czemu?
OtÃ³Å¼ Nginx prÃ³buje automatycznie dodawaÄ‡ parametry na koÅ„cu przepisanego adresu. JeÅ›li jednak wykorzystamy zmiennÄ… $request_uri to ona sama w sobie zawiera juÅ¼ parametry zapytania (czyli to co w URI znajduje siÄ™ po znaku ?</description>
    </item>
    
    <item>
      <title>tor: generowanie milszej nazwy dla hidden service</title>
      <link>https://timor.site/2013/09/tor-generowanie-milszej-nazwy-dla-hidden-service/</link>
      <pubDate>Mon, 09 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/tor-generowanie-milszej-nazwy-dla-hidden-service/</guid>
      <description>ChcÄ…c pobawiÄ‡ siÄ™ tor&amp;rsquo;em postanowiÅ‚em udostÄ™pniÄ‡ jedna z moich stron z wykorzystaniem mechanizmu hidden service. Nie spodobaÅ‚ mi siÄ™ jedynie sposÃ³b generowania nazw, ktÃ³re byÅ‚y maÅ‚o opisowe - ale najwidoczniej nie mnie jednemu, bo szybko namierzyÅ‚em Shallot, ktÃ³ry generuje kolejne nazwy aÅ¼ trafi na pasujÄ…cÄ… do zadanego regexp&amp;rsquo;a.</description>
    </item>
    
    <item>
      <title>DFS - sprawdzanie statusu replikacji</title>
      <link>https://timor.site/2013/09/dfs-sprawdzanie-statusu-replikacji/</link>
      <pubDate>Wed, 04 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/dfs-sprawdzanie-statusu-replikacji/</guid>
      <description>Ostatnio zbyt duÅ¼o grzebiÄ™ przy &amp;ldquo;windach&amp;rdquo; - ale cÃ³Å¼, czasem trzeba. Ostatnio ustawiaÅ‚em DFS&amp;rsquo;a z replikacjÄ… dla dwÃ³ch sporych zasobÃ³w i jedna z rzeczy, o ktÃ³rÄ… siÄ™ rozbiÅ‚em to brak jakiegokolwiek podglÄ…du tej synchronizacji z GUI. Ale znalazÅ‚em jedno polecenie, ktÃ³re dziaÅ‚a w shellu (choÄ‡ to siÄ™ chyba batch tutaj nazywa) od Windows Server 2008 R2:
dfsrdiag ReplicationState /member:nazwaservera Polecenie co prawda nie podaje postÄ™pu procentowego ale moÅ¼na zobaczyÄ‡ &amp;ldquo;czy coÅ› jeszcze siÄ™ synchronizuje&amp;rdquo; i czy nie ma Å¼adnych bÅ‚Ä™dÃ³w.</description>
    </item>
    
    <item>
      <title>Rootâ€™owanie Androida 4.3 na Google Nexus 7 po aktualizacji do JWR66Y</title>
      <link>https://timor.site/2013/09/rootowanie-androida-4-3-na-google-nexus-7-po-aktualizacji-do-jwr66y/</link>
      <pubDate>Wed, 04 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/rootowanie-androida-4-3-na-google-nexus-7-po-aktualizacji-do-jwr66y/</guid>
      <description>Ostatnio aktualizowaÅ‚em swojego Nexusa do 4.3 i byÅ‚o miÅ‚o tylko mi roota i recovery wystrzeliÅ‚o&amp;hellip; No ale Å¼aden problem - chwila googlania, kilka poleceÅ„ i mam recovery i roota. Dzisiaj wrzuciÅ‚em nieduÅ¼Ä… aktualizacjÄ™, ktÃ³ra Å‚ata kilka bugÃ³w i znÃ³w po root&amp;rsquo;cie ;/
Zapisze sobie wiÄ™c instrukcjÄ™ by kolejnym razem juÅ¼ nie googlaÄ‡ ðŸ˜ƒ
P.S. Wiem co robiÄ™ ryzykujÄ…c uceglenie swojego urzÄ…dzenia - u mnie ta instrukcja dziaÅ‚a ale nie mogÄ™ tego zagwarantowaÄ‡ kaÅ¼demu - dlatego jeÅ›li juÅ¼ siÄ™ zdecydujesz to ROBISZ TO NA WÅASNÄ„ ODPOWIEDZIALNOÅšÄ†!</description>
    </item>
    
    <item>
      <title>Kopiowanie wolumenÃ³w LVM z dd i netcat</title>
      <link>https://timor.site/2013/09/kopiowanie-wolumenow-lvm-z-dd-i-netcat/</link>
      <pubDate>Mon, 02 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/09/kopiowanie-wolumenow-lvm-z-dd-i-netcat/</guid>
      <description>Niedawno chciaÅ‚em skopiowaÄ‡ maszynÄ™ wirtualnÄ… z jednego hypervisora na innego. ByÅ‚y to 3 wolumeny LVM o rozmiarach od 50 do 100GB. Dawno temu zrobiÅ‚em sobie skrypty do backupu - jeden kompresuje wolumeny LVM - a drugi pozwala odtworzyÄ‡ z dekompresja na drugim serwerze. Tyle Å¼e przy tak duÅ¼ej maszynce bÄ™dzie to trwaÅ‚o masakrycznie dÅ‚ugo - fajnie byÅ‚oby mÃ³c rÃ³wnoczeÅ›nie kopiowaÄ‡ i odtwarzaÄ‡ (live)&amp;hellip;
I wtedy przypomniaÅ‚o mi siÄ™ narzÄ™dzie netcat - zrobiÅ‚em snapshoty wolumenÃ³w i mogÅ‚em zaczynaÄ‡.</description>
    </item>
    
    <item>
      <title>GPO: Instalacja GIMPâ€™a 2.8</title>
      <link>https://timor.site/2013/08/gpo-instalacja-gimpa-2-8/</link>
      <pubDate>Tue, 06 Aug 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/08/gpo-instalacja-gimpa-2-8/</guid>
      <description>Raz na jakiÅ› czas trzeba coÅ› niestandardowego wrzuciÄ‡ do instalacji w Active Directory a Å¼e nie wszystkie aplikacje majÄ… dostÄ™pne paczki MSI to trzeba siÄ™ nieco natrudziÄ‡.
PoniÅ¼ej wrzucam skrypt, ktÃ³ry instaluje GIMP&amp;rsquo;a 2.8 z domyÅ›lnego instalatora (wersja InnoSetup) przy okazji odinstalowujÄ…c wczeÅ›niejsze wersje zainstalowane rÄ™cznie.
Zapisujemy poniÅ¼szy kod jako np. gimp-install.cmd
@echo off REM Installs GIMP cls echo ---------------------------------------------------- echo . echo . echo . Installing/Updating GIMP - Please Wait echo .</description>
    </item>
    
    <item>
      <title>logrotate: kompresja logÃ³w xz</title>
      <link>https://timor.site/2013/07/logrotate-kompresja-logow-xz/</link>
      <pubDate>Mon, 29 Jul 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/07/logrotate-kompresja-logow-xz/</guid>
      <description>NarzÄ™dzia xz-utils dostÄ™pne w nowszych systemach korzystajÄ… z mocniejszych algorytmÃ³w kompresji (jakaÅ› odmiana LZMA, coÅ› w stylu 7zip&amp;rsquo;a) przy zachowaniu kompatybilnoÅ›ci skÅ‚adni poleceÅ„ z gzip&amp;rsquo;em/bzip&amp;rsquo;em - da siÄ™ je zatem Å‚atwo zintegrowaÄ‡ w obecnych systemach. Ja chciaÅ‚em wykorzystaÄ‡ xz do kompresji logÃ³w, ktÃ³re bywajÄ… przydatne ale przez wiÄ™kszoÅ›Ä‡ czasy tylko zajmujÄ… miejsce :simple_smile:
W /etc/logrotate.conf dopisujemy:
compresscmd /usr/bin/xz uncompresscmd /usr/bin/unxz compressext .xz compressoptions -9T2 compressoptions moÅ¼na nie ustawiaÄ‡ bo domyÅ›lnie ma wartoÅ›Ä‡ -9 (czyli kompresuj na maxa), mÃ³j dodatek (czyli -T2) uÅ¼yje dwÃ³ch wÄ…tkÃ³w procesora gdy juÅ¼ ten mechanizm zostanie zimplementowany (bo na razie nie jest) :simple_smile:</description>
    </item>
    
    <item>
      <title>Bezstratna konwersja MKV z DTS do AC3 lub AAC</title>
      <link>https://timor.site/2013/07/bezstratna-konwersja-mkv-z-dts-do-ac3-lub-aac/</link>
      <pubDate>Wed, 17 Jul 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/07/bezstratna-konwersja-mkv-z-dts-do-ac3-lub-aac/</guid>
      <description>Na jednym z urzÄ…dzeÅ„ miaÅ‚em problem z odtworzeniem plikÃ³w (gÅ‚Ã³wnie MKV) z dÅºwiÄ™kiem zakodowanym w DTS. PomijajÄ…c Å¼e np. na tablecie 6-cio kanaÅ‚y DTS jest mi &amp;ldquo;niezbÄ™dny inaczej&amp;rdquo; to konwertujÄ…c go do AAC stereo plik jest po prostu sporo mniejszy. OczywiÅ›cie nie zamierzam transkodowaÄ‡ Å›cieÅ¼ki video i na moje potrzeby mogÅ‚em sobie odpuÅ›ciÄ‡ zmianÄ™ czÄ™stotliwoÅ›ci prÃ³bkowania.
NajproÅ›ciej wykorzystaÄ‡ pakiet ffmpeg (po nowemu avconv) lub mencoder (choÄ‡ ten miewaÅ‚ niegdyÅ› problem z poprawnym zapisywaniem wynikowych plikÃ³w mkv, wiÄ™c potrzebny jest dodatkowo mkvmerge z pakietu mkvtoolnix).</description>
    </item>
    
    <item>
      <title>Dodawanie urzÄ…dzeÅ„ SCSI/FC bez restartu serwera</title>
      <link>https://timor.site/2013/07/dodawanie-urzadzen-scsifc-bez-restartu-serwera/</link>
      <pubDate>Wed, 17 Jul 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/07/dodawanie-urzadzen-scsifc-bez-restartu-serwera/</guid>
      <description>Raz na jakiÅ› czas gdy grzebiÄ™ przy maciorach muszÄ™ &amp;ldquo;odkryÄ‡&amp;rdquo; nowy volumen FC (lub rzadziej SCSI), ktÃ³ry wÅ‚aÅ›nie utworzyÅ‚em a restart serwera nie wchodzi w rachubÄ™ (zresztÄ… na czÄ™Å›ci systemÃ³w nic on nie da).
By to zrobiÄ‡ sÄ… dwie moÅ¼liwoÅ›ci:
RÄ™czne wydanie poleceÅ„ odkrywajÄ…cych volumeny (na jajkach od 2.6.x) Sprawdzamy jakie mamy karty:
ls /sys/class/fc_host/ (wypisze siÄ™ coÅ› w stylu: host1, host2)
Wydajemy do wybranej przez nas karty Å¼Ä…danie wykonania LIP (to siÄ™ chyba tÅ‚umaczy jako loopback initialization) co skutkuje przeskanowaniem szyny FC:</description>
    </item>
    
    <item>
      <title>Debian - Instalacja Bittorrent Sync (btsync)</title>
      <link>https://timor.site/2013/07/debian-instalacja-bittorrent-sync-btsync/</link>
      <pubDate>Tue, 16 Jul 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/07/debian-instalacja-bittorrent-sync-btsync/</guid>
      <description>Bardzo spodobaÅ‚a mi siÄ™ nowa aplikacja do zdalnej synchronizacji folderÃ³w z wykorzystaniem P2P. Ja wykorzystaÅ‚em jÄ… do automatycznych backupÃ³w archiwum zdjÄ™Ä‡ - zebraÅ‚o mi siÄ™ tego juÅ¼ prawie 130GB! KaÅ¼de narzÄ™dzie, ktÃ³re chce np. je kompresowaÄ‡ i raz na czas robiÄ‡ FULL backup jest skazane na poraÅ¼kÄ™ - a fotek przybywa.
Na poczÄ…tek pobieramy interesujÄ…cÄ… nas wersjÄ™:
wget http://btsync.s3-website-us-east-1.amazonaws.com/btsync_i386.tar.gz wget http://btsync.s3-website-us-east-1.amazonaws.com/btsync_x64.tar.gz Oraz paczkÄ™ ze skryptami dla Debiana:
wget http://www.yeasoft.com/downloads/various/btsync-linux-deploy.tar.gz Ja wyciÄ…gam z niej skrypt /etc/init.</description>
    </item>
    
    <item>
      <title>Tworzenie patchâ€™y z poleceniami diff i patch</title>
      <link>https://timor.site/2013/04/tworzenie-patchy-z-poleceniami-diff-i-patch/</link>
      <pubDate>Mon, 01 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/04/tworzenie-patchy-z-poleceniami-diff-i-patch/</guid>
      <description>Jest kilka powodÃ³w dla ktÃ³rych tworzenie patchy jest przydatne - jeÅ›li tu jesteÅ› to pewnie masz jakiÅ› wÅ‚asny&amp;hellip;
Tworzenie patch&amp;rsquo;a diff -crB old new &amp;gt; from-old-to-new.patch W powyÅ¼szym poleceniu zaÅ‚oÅ¼yÅ‚em Å¼e old i new to katalogi z wieloma podkatalogami i plikami - stÄ…d opcja -r. -c dodaje kilka linijek &amp;ldquo;kontekstu&amp;rdquo; przez co Å‚atwiej rozeznaÄ‡ siÄ™ w patch&amp;rsquo;u. Opcja -B ignoruje puste linie, ktÃ³rych patchowanie mnie nie interesuje.
Patchowanie Na poczÄ…tek zawsze warto wywoÅ‚aÄ‡ polecenie z opcjÄ… -dry-run by zobaczyÄ‡ czy patch wykona siÄ™ poprawnie:</description>
    </item>
    
    <item>
      <title>Rozsynchronizowane serwery NTP</title>
      <link>https://timor.site/2013/03/rozsynchronizowane-serwery-ntp/</link>
      <pubDate>Sun, 31 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/03/rozsynchronizowane-serwery-ntp/</guid>
      <description>MiaÅ‚em ostatnio zabawnÄ… sytuacjÄ™ gdy kilka serwerÃ³w z zainstalowanym NTPD miaÅ‚o rozjazdy rzÄ™du kilkunastu sekund. WyszÅ‚o na to Å¼e moje serwery synchronizowaÅ‚y siÄ™ z rÃ³Å¼nymi zewnÄ™trznymi serwerami NTP pomiÄ™dzy, ktÃ³rymi byÅ‚y rozjazdy i te rozjazdy synchronizowaÅ‚y siÄ™ na moich serwerach. Jeden &amp;ldquo;z moich&amp;rdquo; ustanowiÅ‚em gÅ‚Ã³wnym a wszystkie inne przekierowaÅ‚em na niego (komentujÄ…c wszystkie inne serwery NTP w konfiguracji). WymusiÅ‚em synchronizacjÄ™:
ntp -q SprawdziÅ‚em jak duÅ¼y jest offset i jitter (powinny byÄ‡ bardzo maÅ‚e):</description>
    </item>
    
    <item>
      <title>Fortigate - VPN IPSec PSK XAuth z Androidâ€™a 4.x</title>
      <link>https://timor.site/2013/03/fortigate-vpn-ipsec-psk-xauth-z-androida-4-x/</link>
      <pubDate>Sat, 30 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/03/fortigate-vpn-ipsec-psk-xauth-z-androida-4-x/</guid>
      <description>Do niedawna na moim telefonie VPN&amp;rsquo;ami byÅ‚y: PPTP lub L2TP - oba niespecjalnie mi siÄ™ podobaÅ‚y. Ale od wersji 4-tej pojawiÅ‚y siÄ™ dwa nowe tryby: IPSec Xauth PSK i IPSec Xauth RSA. W pierwszym autoryzacja wykorzystuje login i hasÅ‚o, w drugim certyfikaty.
Tryb IPSec Xauth PSK jest bardzo wygodny bo Å‚atwo moÅ¼na poÅ‚Ä…czyÄ‡ go z zewnÄ™trznymi mechanizmamiÂ uwierzytelniajÄ…cymiÂ np. LDAP, Active Directory, itp.
PokaÅ¼Ä™ jak skonfigurowaÄ‡ swojego Fortigate&amp;rsquo;a by umoÅ¼liwiÄ‡ poÅ‚Ä…czenie z telefonÃ³w i tabletÃ³w na Androidzie 4.</description>
    </item>
    
    <item>
      <title>Nginx - hide server version and name in Server header and error pages</title>
      <link>https://timor.site/2013/01/nginx-hide-server-version-and-name-in-server-header-and-error-pages/</link>
      <pubDate>Thu, 24 Jan 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/01/nginx-hide-server-version-and-name-in-server-header-and-error-pages/</guid>
      <description>On Debian you have to install nginx-extras package (because it have built in headers_more module). Then you need two options (best in global configuration /etc/nginx/nginx.conf file, http part):
server_tokens off; more_set_headers &amp;#39;Server: BadAss&amp;#39;; And it&amp;rsquo;s good to setup non standard error pages on every site (500 and 404 at minimum):
error_page 403 404 http://mysite.com/areyoulost; error_page 502 503 504 /500.html; </description>
    </item>
    
    <item>
      <title>PHP - max_input_vars</title>
      <link>https://timor.site/2013/01/php-max_input_vars/</link>
      <pubDate>Tue, 22 Jan 2013 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2013/01/php-max_input_vars/</guid>
      <description>W PHP 5.3 pojawiÅ‚a siÄ™ nowa zmienna: max_input_vars, ktÃ³ra limituje iloÅ›Ä‡ pÃ³l moÅ¼liwych do przesÅ‚ania przez formularz, obcinajÄ…c nadmiarowe. Pozwala to zapobiec atakom DoS na tablice hashujÄ…ce (przynajmniej w tym jednym miejscu). DomyÅ›lna wartoÅ›Ä‡ tej zmiennej to 1000 i kreatywnym programistom udaje siÄ™ tÄ… wartoÅ›Ä‡ bez problemu osiÄ…gnÄ…Ä‡ ðŸ˜ƒ
Warte odnotowania jest to Å¼e majÄ…c suhosin&amp;rsquo;a trzeba pamiÄ™taÄ‡ o jeszcze dwÃ³ch innych zmiennych:
max_input_vars = 3000 suhosin.post.max_vars = 3000 suhosin.request.max_vars = 3000 Zmienne moÅ¼na zmieniÄ‡ od razu w /etc/php5/apache2/php.</description>
    </item>
    
    <item>
      <title>Linux - naprawianie bad sectorÃ³w</title>
      <link>https://timor.site/2012/12/linux-naprawianie-bad-sectorow/</link>
      <pubDate>Thu, 27 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/12/linux-naprawianie-bad-sectorow/</guid>
      <description>Dyski siÄ™ zuÅ¼ywajÄ… i w koÅ„cu wczeÅ›niej czy pÃ³Åºniej pojawiajÄ… siÄ™ na nich bad sectory. Jeden z moich dyskÃ³w ciut siÄ™ posypaÅ‚ a Å¼e sÅ‚uÅ¼y wyÅ‚Ä…cznie do backupÃ³w to mogÄ™ z tym Å¼yÄ‡. Ale z drugiej strony jeÅ¼eli juÅ¼ bÄ™dÄ™ musiaÅ‚ siÄ™gnÄ…Ä‡ do backupÃ³w to chcÄ™ mieÄ‡ pewnoÅ›Ä‡ Å¼e coÅ› odzyskam, dlatego postanowiÅ‚em zrobiÄ‡ kilka testÃ³w. Nawet jeÅ›li nie naprawi to sektorÃ³w to przynajmniej zostanÄ… zaznaczone jako uszkodzone i realokowane.</description>
    </item>
    
    <item>
      <title>Piwik: Å›ledzenie asynchroniczne &#43; logowanie ksywy komentujÄ…cego w WordPressâ€™ie</title>
      <link>https://timor.site/2012/12/piwik-sledzenie-asynchroniczne-logowanie-ksywy-komentujacego-w-wordpressie/</link>
      <pubDate>Fri, 21 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/12/piwik-sledzenie-asynchroniczne-logowanie-ksywy-komentujacego-w-wordpressie/</guid>
      <description>Korzystam z instancji Piwik&amp;rsquo;a do monitorowania odwiedzin na stronie i postanowiÅ‚em pokombinowaÄ‡ czy da siÄ™ w ten sposÃ³b monitorowaÄ‡ wejÅ›cia konkretnych osÃ³b na bazie wpisanego w polu komentarza loginu/ksywki. Jak zaczÄ…Å‚em grzebaÄ‡ to przy okazji zmieniÅ‚em teÅ¼ sposÃ³b Å‚adowania skryptÃ³w Piwika na asynchroniczny.
A leci to mniej wiÄ™cej tak:
&amp;lt;script type=&amp;#34;text/javascript&amp;#34;&amp;gt; var i,x,y,ARRcookies=document.cookie.split(&amp;#34;;&amp;#34;); var comment_author = &amp;#34;&amp;#34;; for (i=0;i&amp;lt;ARRcookies.length;i++) { x=ARRcookies[i].substr(0,ARRcookies[i].indexOf(&amp;#34;=&amp;#34;)); y=ARRcookies[i].substr(ARRcookies[i].indexOf(&amp;#34;=&amp;#34;)+1); x=x.replace(/^\s+|\s+$/g,&amp;#34;&amp;#34;); if (x.indexOf(&amp;#34;comment_author&amp;#34;) != -1 &amp;amp;&amp;amp; x.indexOf(&amp;#34;comment_author_email&amp;#34;) == -1 &amp;amp;&amp;amp; x.</description>
    </item>
    
    <item>
      <title>Jak dokuczaÄ‡ spamerom</title>
      <link>https://timor.site/2012/12/jak-dokuczac-spamerom/</link>
      <pubDate>Tue, 18 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/12/jak-dokuczac-spamerom/</guid>
      <description>Dawno, dawno temu&amp;hellip; Za gÃ³rami, za lasami&amp;hellip; czytaÅ‚em sobie tekst Lemat&amp;rsquo;a o dokuczaniu spamerom i pomyÅ›laÅ‚em Å¼e sam teÅ¼ tak mogÄ™ i nawet chcÄ™ wiÄ™c popeÅ‚niÅ‚em skrypcik, ktÃ³ry dla losowych sÅ‚Ã³w generowaÅ‚ maile. Skrypcik dziaÅ‚aÅ‚ z dwa lata na mojej poprzedniej stronie i nie raz zdarzyÅ‚o siÄ™ tam jakiejÅ› mendzie zapÄ™tliÄ‡. JakoÅ› nie miaÅ‚em czasu od razu, a pÃ³Åºniej zapomniaÅ‚em wrzuciÄ‡ go na nowÄ… stronie i tak zostaÅ‚o - na pewien czas.</description>
    </item>
    
    <item>
      <title>Nginx - kompresowanie plikÃ³w dla gzip_static</title>
      <link>https://timor.site/2012/12/nginx-kompresowanie-plikow-dla-gzip_static/</link>
      <pubDate>Mon, 17 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/12/nginx-kompresowanie-plikow-dla-gzip_static/</guid>
      <description>Ruski serwer WWW ma przydatnÄ… funkcjÄ™ serwowania wersji plikÃ³w skompresowanych gzip&amp;rsquo;em - przez co moÅ¼emy plik skompresowaÄ‡ raz i bÄ™dzie on serwowany klientom obsÅ‚ugujÄ…cym kompresjÄ™ HTTP ale juÅ¼ bez kaÅ¼dorazowego kompresowania go. Jest to bardzo przydatne na stronach z duÅ¼ym ruchem gdzie moÅ¼na w ten sposÃ³b zaoszczÄ™dziÄ‡ takty CPU na wÅ‚aÅ›ciwÄ… obsÅ‚ugÄ™ poÅ‚Ä…czeÅ„ a nie kompresjÄ™. Drugie miejsce gdzie moÅ¼e to byÄ‡ przydatne to VPS&amp;rsquo;y i &amp;ldquo;cienkie&amp;rdquo; serwery, ktÃ³re na kompresji przy wiÄ™kszymÂ obciÄ…Å¼eniuÂ spÄ™dzajÄ… zbyt duÅ¼o czasu i daje siÄ™ to odczuÄ‡ w dziaÅ‚aniu strony.</description>
    </item>
    
    <item>
      <title>Apache: mod_authnz_ldap z Active Directory</title>
      <link>https://timor.site/2012/12/apache-mod_authnz_ldap-z-active-directory/</link>
      <pubDate>Fri, 14 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/12/apache-mod_authnz_ldap-z-active-directory/</guid>
      <description>Gdy juÅ¼ siÄ™ dorobi systemu Active Directory wygodnie jest wykorzystaÄ‡ jego bazÄ™ uÅ¼ytkownikÃ³w do autoryzacji w rÃ³Å¼nych miejscach, np. do pewnych &amp;ldquo;tajnych i tajniejszych&amp;rdquo; stron w Apache. NajproÅ›ciej moÅ¼na to zrobiÄ‡ z wykorzystaniem LDAP.
Warto sprawdziÄ‡ czy i jak moÅ¼emy dostaÄ‡ siÄ™ do kontrolerÃ³w. Gdy juÅ¼ mamy wszystkie potrzebne parametry konfigurujemy Apachego - na poczÄ…tek aktywujemy moduÅ‚y:
a2enmod ldap a2enmod authnz_ldap Teraz moÅ¼emy edytujemy globalny plik konfiguracyjny mod_ldap&amp;rsquo;a by ustawiÄ‡ nieco cache&amp;rsquo;y (bardzo przydatne).</description>
    </item>
    
    <item>
      <title>Python - wysyÅ‚anie maili w unicode</title>
      <link>https://timor.site/2012/12/python-wysylanie-maili-w-unicode/</link>
      <pubDate>Mon, 10 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/12/python-wysylanie-maili-w-unicode/</guid>
      <description>ChciaÅ‚em wysÅ‚aÄ‡ z Python&amp;rsquo;a maila z krzakami tab by Å‚adnie siÄ™ wyÅ›wietlaÅ‚y i okazaÅ‚o siÄ™ to caÅ‚kiem nietrywialne.
Na szczÄ™Å›cie googiel podpowiedziaÅ‚ mi doskonaÅ‚ego gotowca, ktÃ³rego zamierzam zapisaÄ‡ by mi nie zginÄ…Å‚:
#!/usr/bin/env python # -*- coding: utf-8 -*- import smtplib from email.mime.text import MIMEText from email.Header import Header from email.Utils import parseaddr, formataddr def send_email(sender, recipient, subject, body): &amp;#34;&amp;#34;&amp;#34;Send an email. All arguments should be Unicode strings (plain ASCII works as well).</description>
    </item>
    
    <item>
      <title>ldapsearch w Active Directory</title>
      <link>https://timor.site/2012/12/ldapsearch-w-active-directory/</link>
      <pubDate>Wed, 05 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/12/ldapsearch-w-active-directory/</guid>
      <description>MoÅ¼na lubieÄ‡ AD, moÅ¼na go nie lubieÄ‡&amp;hellip; Ale jak juÅ¼ siÄ™ ma to warto czasem zintegrowaÄ‡ go z tym&amp;hellip; i tamtym&amp;hellip; Od strony Linuksa najwygodniej moÅ¼na to osiÄ…gnÄ…Ä‡ przez LDAP. A Å¼eby to dobrze zrobiÄ‡ trzeba najpierw przetestowaÄ‡ czy aby wszystko dziaÅ‚a jak byÅ›my sobie tego Å¼yczyli. I tutaj bardzo przydatne jest narzÄ™dzie ldapsearch.
Do odpytywania LDAP&amp;rsquo;a potrzebujemy jeden pakiecik, ktÃ³ry zawiera kilka narzÄ™dzi do jego obsÅ‚ugi:
apt-get install ldap-utils Teraz moÅ¼emy prÃ³bowaÄ‡ przeszukiwaÄ‡ katalog np.</description>
    </item>
    
    <item>
      <title>Ciastka z kleiku ryÅ¼owego</title>
      <link>https://timor.site/2012/11/ciastka-z-kleiku-ryzowego/</link>
      <pubDate>Tue, 20 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/11/ciastka-z-kleiku-ryzowego/</guid>
      <description>SkÅ‚adniki 1 paczka bezsmakowego kleiku ryÅ¼owego (190~170 g), 2 jajka, 1 kostka miÄ™kkiego masÅ‚a (250 g), 1 pÅ‚aska Å‚yÅ¼eczka proszku do pieczenia, pÃ³Å‚ szklanki cukru, cukier waniliowy (16 g) (niekoniecznie), 8 czubatych Å‚yÅ¼ek wiÃ³rkÃ³w kokosowych, dÅ¼em do wypeÅ‚nienia ciastek (opcjonalnie - ja lubiÄ™ je rÃ³wnieÅ¼ bez dÅ¼emu). SposÃ³b przygotowania Wszystkie skÅ‚adniki poÅ‚Ä…czyÄ‡ razem i wyrobiÄ‡ (najlepiej siÄ™ ugniata rÄ™kÄ…). FormowaÄ‡ kulki wielkoÅ›ci maÅ‚ego orzecha wÅ‚oskiego, ukÅ‚adaÄ‡ na blaszce wyÅ‚oÅ¼onej papierem do pieczenia w niewielkich odlegÅ‚oÅ›ciach (trochÄ™ urosnÄ…).</description>
    </item>
    
    <item>
      <title>Ciasto z dyniÄ…</title>
      <link>https://timor.site/2012/11/ciasto-z-dynia/</link>
      <pubDate>Mon, 12 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/11/ciasto-z-dynia/</guid>
      <description>SkÅ‚adniki 2 szklanki miÄ…Å¼szu dyni (startego lub zmiksowanego), 2 szklanki mÄ…ki, 0,75 szklanki cukru, 3 jajka, 5 Å‚yÅ¼eczek cynamonu, 16 g cukru wanilinowego, 0,75 szklanki oleju, Å‚yÅ¼eczka sody oczyszczonej, garÅ›Ä‡ orzechÃ³w wÅ‚oskich. SposÃ³b przygotowania Ubijamy biaÅ‚ka z cukrem. Do ubitej piany dodajemy Å¼Ã³Å‚tka i kolejne skÅ‚adniki: mÄ…kÄ™, olej, cukier wanilinowy, sodÄ™ i cynamon. CaÅ‚oÅ›Ä‡ miksujemy jeszcze przez chwilÄ™, a nastÄ™pnie dodajemy posiekany lub starty i odsÄ…czony (moÅ¼na np. mocno Å›cisnÄ…Ä‡ w dÅ‚oniach)Â miÄ…Å¼sz dyniÂ oraz drobno pokrojoneÂ orzechy wÅ‚oskie i jeszcze chwilÄ™ mieszamy.</description>
    </item>
    
    <item>
      <title>Automatically compact CouchDB databases in version 0.11.x</title>
      <link>https://timor.site/2012/11/automatically-compact-couchdb-databases-in-0-11-x/</link>
      <pubDate>Thu, 08 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/11/automatically-compact-couchdb-databases-in-0-11-x/</guid>
      <description>CouchDB databases on version 0.11.x swell very fast. They should be compacted daily for best performance and space usage. Here is my script that could be run in cron and will compact all databases:
#!/bin/bash IP=&amp;#34;10.0.0.121&amp;#34; DBS=`curl -sS -X GET http://$IP:5984/_all_dbs | sed -r &amp;#34;s/([,\&amp;#34;[])|(\])+/ /g&amp;#34;` for d in $DBS; do curl -H &amp;#34;Content-Type: application/json&amp;#34; -X POST http://$IP:5984/$d/_compact done More informations about compacting could be found here (also for version 1.</description>
    </item>
    
    <item>
      <title>LVM na RAID5 i dysku z sektorami 4KB</title>
      <link>https://timor.site/2012/11/lvm-na-raid5-i-dysku-z-sektorami-4kb/</link>
      <pubDate>Wed, 07 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/11/lvm-na-raid5-i-dysku-z-sektorami-4kb/</guid>
      <description>Po zakupie nowych dyskÃ³w zamierzam utworzyÄ‡ zdegradowanÄ… macierz RAID5 z dwÃ³ch dyskÃ³w (na trzecim na razie znajdujÄ… siÄ™ dane), potem utworzyÄ‡ wolumen LVM, sformatowaÄ‡ go, przekopiowaÄ‡ dane z pojedynczego dysku na macierz i doÅ‚Ä…czyÄ‡ trzeci dysk do macierzy odbudowujÄ…cÂ parzystoÅ›Ä‡. Zadanie bÄ™dzie o tyle ciekawe Å¼e dysk ma 4KB sektory i trzeb bÄ™dzie dbaÄ‡ o wyrÃ³wnanie zasobu do rozmiaru sektora, a w przypadku LVM&amp;rsquo;a wyrÃ³wnanie do chunk&amp;rsquo;a z macierzy.
PrawidÅ‚owe wyrÃ³wnanie partycji KupujÄ…c nowy dysk (o pojemnoÅ›ci od 500GB w gÃ³rÄ™), mamy spore szanse Å¼e trafimy na sztukÄ™, ktÃ³ra wykorzystuje 4KB sektory do alokacji danych.</description>
    </item>
    
    <item>
      <title>Instalacja drukarki i skanera Brother DCP-130C na Ubuntu 12.04</title>
      <link>https://timor.site/2012/11/instalacja-drukarki-i-skanera-brother-dcp-130c-na-ubuntu-12-04/</link>
      <pubDate>Sun, 04 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/11/instalacja-drukarki-i-skanera-brother-dcp-130c-na-ubuntu-12-04/</guid>
      <description>Po kaÅ¼dej aktualizacji Ubuntu mam trochÄ™ zabawy by pozbieraÄ‡ do kupy skaner i drukarkÄ™ z mojego urzÄ…dzenia wielofunkcyjnego Brother DCP-130C. WybraÅ‚em je bo byÅ‚ to jedyny producent, ktÃ³ry deklarowaÅ‚ wsparcie dla Linux&amp;rsquo;a&amp;hellip; choÄ‡ z perspektywy czasu nie jestem pewien czy otrzymaÅ‚em to czego siÄ™ spodziewaÅ‚em&amp;hellip; Co prawda zamieszczajÄ… instrukcje i aktualizujÄ… drivery ale jeszcze ani raz nie zdarzyÅ‚o mi siÄ™ by po aktualizacji systemu postÄ™powanie wedÅ‚ug tych instrukcji zadziaÅ‚aÅ‚o bezÂ dodatkowejÂ pomocy.</description>
    </item>
    
    <item>
      <title>Prosty MTA z heirloom-mailx i ssmtp</title>
      <link>https://timor.site/2012/11/prosty-mta-z-heirloom-mailx-i-ssmtp/</link>
      <pubDate>Wed, 31 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/11/prosty-mta-z-heirloom-mailx-i-ssmtp/</guid>
      <description>Czasami potrzebny jest nam serwer pocztowy, ktÃ³ry przyÅ›le informacje dla root&amp;rsquo;a (np. monity smartd, mdadm, sypniÄ™te crony itp) ale rÃ³wnoczeÅ›nie nie chcemy stawiaÄ‡ peÅ‚nego serwera typu postfix/exim. Warto w tym celu wykorzystaÄ‡ zestaw heirloom-mailx + ssmtp. hairloom-mailx jest prostym shellowym klientem SMTP - przy okazji linkuje polecenie mail (przydatne w skryptach). ssmtp peÅ‚ni funkcjÄ™ serwera SMTP ale nie dziaÅ‚a jako demon - proces uruchamia siÄ™ gdy jest potrzebny i znika po wysÅ‚aniu maili.</description>
    </item>
    
    <item>
      <title>Nautilus - ukrywanie lost&#43;found</title>
      <link>https://timor.site/2012/10/nautilus-ukrywanie-lostfound/</link>
      <pubDate>Tue, 30 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/10/nautilus-ukrywanie-lostfound/</guid>
      <description>LubiÄ™ mieÄ‡ porzÄ…dek w folderach i jedna rzecz, ktÃ³ra nie daje mi spokoju w systemach plikÃ³w ext to widocznoÅ›Ä‡ folderu lost+found - niby moÅ¼na go skasowaÄ‡ i powinien siÄ™ odtworzyÄ‡ (choÄ‡ podobno odtworzenie w czasie fsck&amp;rsquo;a moÅ¼e spowodowaÄ‡ utratÄ™ danych - trochÄ™ to dziwne i nie znalazÅ‚em ÅºrÃ³dÅ‚a no ale powiedzmy Å¼e nie chcÄ™ go usuwaÄ‡). ChciaÅ‚em go ukryÄ‡ (choÄ‡by w Nautilusie) by mnie nie draÅ¼niÅ‚. OczywiÅ›cie opcja z &amp;ldquo;.&amp;rdquo; na poczÄ…tku odpada, ale na szczÄ™Å›cie Nautilus wykorzystuje pewien hack, ktÃ³ry umoÅ¼liwia ukrycie dowolnego pliku/folderu.</description>
    </item>
    
    <item>
      <title>Rolada kokosowo-czekoladowa na zimno</title>
      <link>https://timor.site/2012/10/rolada-kokosowo-czekoladowa-na-zimno/</link>
      <pubDate>Mon, 22 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/10/rolada-kokosowo-czekoladowa-na-zimno/</guid>
      <description>SkÅ‚adniki 1 kostka masÅ‚a, 1 Å¼Ã³Å‚tko, 6 Å‚yÅ¼ek cukru pudru, 1 szklanka mleka, 10 dkg wiÃ³rek kokosowych, 1 kieliszek wÃ³dki (ale z dwoma jest ostrzejsze), 3 Å‚yÅ¼ki kakao, 37 dkg herbatnikÃ³w kakaowych (doskonale spisujÄ… siÄ™ dwie paczki maÅ›lanych herbatnikÃ³w kakaowych). Masa kakaowa Herbatniki dokÅ‚adnie rozwaÅ‚kowaÄ‡, dodaÄ‡ kakao i wymieszaÄ‡. ZagotowaÄ‡ pÃ³Å‚ szklanki mleka i gorÄ…cym zalaÄ‡ herbatniki. CaÅ‚oÅ›Ä‡ wymieszaÄ‡ na jednolitÄ… masÄ™. W drugim pojemniku rozmiksowaÄ‡ pÃ³Å‚ kostki masÅ‚a i 3 Å‚yÅ¼ki cukru pudru - po chwili dodaÄ‡ Å¼Ã³Å‚tko i wÃ³dkÄ™.</description>
    </item>
    
    <item>
      <title>Utrzymanie przy Å¼yciu sypiÄ…cych siÄ™ usÅ‚ug na serwerach Windows</title>
      <link>https://timor.site/2012/10/utrzymanie-przy-zyciu-sypiacych-sie-uslug-na-serwerach-windows/</link>
      <pubDate>Mon, 22 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/10/utrzymanie-przy-zyciu-sypiacych-sie-uslug-na-serwerach-windows/</guid>
      <description>ZdarzyÅ‚o mi siÄ™ kilka usÅ‚ug dziaÅ‚ajÄ…cych na serwerach Windows, ktÃ³re zwyczajnie sypaÅ‚y siÄ™ i to tak brzydko Å¼e systemowe ustawienia by restartowaÅ‚y siÄ™ po padzie nie wystarczaÅ‚y. UsÅ‚uga dziaÅ‚aÅ‚a np. 3 godziny by potem siÄ™ poÅ‚oÅ¼yÄ‡, albo nigdy nie wstawaÅ‚a po starcie systemu - po prostu jakaÅ› masakra. ZgÅ‚oszenia do producenta czÄ™sto wyglÄ…daÅ‚y tak Å¼e w jego testowym Å›rodowisku bÅ‚Ä™du nie udaje siÄ™ powtÃ³rzyÄ‡ (i nic dziwnego bo nie sÄ…dzÄ™ by z ich konfiguracji korzystali rzeczywiÅ›ci uÅ¼ytkownicy).</description>
    </item>
    
    <item>
      <title>Piwik - alternatywa dla Google Analytics</title>
      <link>https://timor.site/2012/09/piwik-alternatywa-dla-google-analytics/</link>
      <pubDate>Wed, 26 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/piwik-alternatywa-dla-google-analytics/</guid>
      <description>JeÅ›li szukamy statystyk dla strony internetowej i ze wzglÄ™du na jej zawartoÅ›Ä‡ (np. sklep, coÅ› ze zwiÄ™kszonym naciskiem na poufnoÅ›Ä‡ etc..) nie potrafimy zaufaj wujkowi Googlowi to warto przyglÄ…dnÄ…Ä‡ siÄ™ Piwikowi.
Jest to system statystyk aspirujÄ…cy do bycia Open Source&amp;rsquo;owÄ… alternatywÄ… dla Google Analytics. AspirujÄ…cy (a nie bÄ™dÄ…cy) z tego wzglÄ™du Å¼e Google przechodzÄ…c na domyÅ›lny HTTPS (SPDY) dla zalogowanych uÅ¼ytkownikÃ³w uniemoÅ¼liwiÅ‚ Å›ledzenie stron z ktÃ³rych pochodzÄ… odwiedziny (tzw. refferals) - tym prostym sposobem tylko GA jest w stanie dostarczyÄ‡ peÅ‚nych informacji o wszystkich uÅ¼ytkownikach.</description>
    </item>
    
    <item>
      <title>mod_rewrite - wymuszenie maÅ‚ych liter w adresie URL</title>
      <link>https://timor.site/2012/09/mod_rewrite-wymuszenie-malych-liter-w-adresie-url/</link>
      <pubDate>Tue, 25 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/mod_rewrite-wymuszenie-malych-liter-w-adresie-url/</guid>
      <description>Co prawda adresy URL pozwalajÄ… na stosowanie zarÃ³wno duÅ¼ych jak i maÅ‚ych liter ale rÃ³Å¼ne systemy mogÄ… je rÃ³Å¼nie obsÅ‚ugiwaÄ‡ i moÅ¼e siÄ™ trafiÄ‡ sytuacja, w ktÃ³rej nie zechcemy by np. duÅ¼e litery w ogÃ³le pojawiaÅ‚y siÄ™ w adresach URL. DoskonaÅ‚y przykÅ‚ad to mÃ³j niedawny wpis: Apache: ograniczenie dostÄ™pu dla zalogowanych uÅ¼ytkownikÃ³w z mod_rewrite i mod_auth_basic.
Zachodzi tam sytuacja, w ktÃ³rej katalog uÅ¼ytkownika jest jego loginem maÅ‚ymi literami (bÄ…dÅº duÅ¼ymi - jak kto woli), a uÅ¼ytkownik wpisujÄ…c login moÅ¼e uÅ¼yÄ‡ zarÃ³wno maÅ‚ych jak i duÅ¼ych liter i tutaj zaczyna siÄ™ jazda.</description>
    </item>
    
    <item>
      <title>Aktualizacja Debian Squeeze do Wheezy</title>
      <link>https://timor.site/2012/09/aktualizacja-debian-squeeze-do-wheezy/</link>
      <pubDate>Mon, 24 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/aktualizacja-debian-squeeze-do-wheezy/</guid>
      <description>Obecnie dostÄ™pna jest juÅ¼ beta 2 Debiana Wheezy i utrzymywane sÄ… aktualizacje bezpieczeÅ„stwa wiÄ™c powolutku moÅ¼na na testowych maszynach sprawdzaÄ‡ co i jak siÄ™ zmieniÅ‚o.
PoniewaÅ¼ do finalnej wersji pewnie sporo siÄ™ jeszcze zmieni to postaram siÄ™ z czasem aktualizowaÄ‡ ten post by zawieraÅ‚ bieÅ¼Ä…ce informacje.
W razie wÄ…tpliwoÅ›ci patrz tutaj:Â http://wiki.debian.org/DebianTesting
Robimy backup Aktualizujemy ÅºrÃ³dÅ‚a wskazywaÅ‚y na paczki gaÅ‚Ä™zi testing (poniÅ¼sze polecenie nadpisze Twoje obecne repozytoria): cat &amp;gt; /etc/apt/sources.list &amp;lt;&amp;lt;SRC deb http://ftp.</description>
    </item>
    
    <item>
      <title>GPO: Windows 7 - postÄ™p przetwarzania polityk przy starcie systemu</title>
      <link>https://timor.site/2012/09/gpo-windows-7-postep-przetwarzania-polityk-przy-starcie-systemu/</link>
      <pubDate>Thu, 20 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/gpo-windows-7-postep-przetwarzania-polityk-przy-starcie-systemu/</guid>
      <description>DziÅ› TIP z przeciwnego obozu - oprÃ³cz linuksowych systemÃ³w administrujÄ™ rÃ³wnieÅ¼ paroma serwerami windowsowymi i tutaj rÃ³wnieÅ¼ (a czasem nawet bardziej) uda mi siÄ™ znaleÅºÄ‡ coÅ› wartego zapamiÄ™tania.
Jedna z najbardziej charakterystycznych rzeczy na komputerach przyÅ‚Ä…czonych do domeny Windows to wyÅ›wietlanie &amp;ldquo;rÃ³Å¼nych dziwnych rzeczy&amp;rdquo; przy starcie systemu. ZarÃ³wno na Windowsie 2000 jak i na XP&amp;rsquo;ku na maÅ‚ym okienku przewijajÄ… informacje o aktualizacji polityk, instalacji oprogramowania itp&amp;hellip;
Zachowanie to zmieniÅ‚o siÄ™ na Vistach i 7-kach, ktÃ³re sÄ… nieco mniej rozmowne i wyÅ›wietlajÄ… jedynie komunikat typu &amp;ldquo;Trwa uruchamianie systemu&amp;hellip;&amp;rdquo; i tyla&amp;hellip; ZaÅ‚Ã³Å¼my Å¼e wrzucimy do instalacji kilka paczek i jeszcze zmienimy kilka polityk i przez to komputer na tym napisie zatrzyma siÄ™ na 5~10 minut - co zrobi uÅ¼yszkodnik po 3 minutach?</description>
    </item>
    
    <item>
      <title>Sprawdzanie nieaktywnych linkÃ³w na stronie</title>
      <link>https://timor.site/2012/09/sprawdzanie-nieaktywnych-linkow-na-stronie/</link>
      <pubDate>Tue, 18 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/sprawdzanie-nieaktywnych-linkow-na-stronie/</guid>
      <description>Gdy administruje siÄ™ duÅ¼ymi stronami internetowymi raz na czas np. po wiÄ™kszych zmianach w konfiguracji zachodzi potrzeba sprawdzenia czy na stronie nie ma stron prowadzÄ…cych donikÄ…d. O ile w maÅ‚ych serwisach moÅ¼na samemu szybko przeklikaÄ‡ siÄ™ przez stronkÄ™ to dla starych rozroÅ›niÄ™tych serwisÃ³w nie jest to takie proste.
Jest kilka narzÄ™dzi ktÃ³rych moÅ¼na uÅ¼yÄ‡ do testowania linkÃ³w na stronach - kaÅ¼de z nich ma swoje zalety i wady, postaram siÄ™ je przybliÅ¼yÄ‡.</description>
    </item>
    
    <item>
      <title>Generator kodÃ³w paskowych dla napÄ™dÃ³w taÅ›mowych LTO</title>
      <link>https://timor.site/2012/09/generator-kodow-paskowych-dla-napedow-tasmowych-lto/</link>
      <pubDate>Tue, 11 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/generator-kodow-paskowych-dla-napedow-tasmowych-lto/</guid>
      <description>JeÅ›li posiadasz napÄ™d taÅ›mowy LTO do archiwizacji/backupu danych to wiesz Å¼e bardzo waÅ¼ne jest opisywanie taÅ›m szczegÃ³lnie gdy trzeba coÅ› odzyskaÄ‡. JeÅ¼eli masz szczÄ™Å›cie to posiadasz nie pojedynczy napÄ™d a autoloader obsÅ‚ugujÄ…cy wiele taÅ›m i wiesz Å¼e najlepiej gdy taÅ›my sÄ… opisane kodami paskowymi ktÃ³re autoloader potrafi rozpoznaÄ‡. DziÄ™ki temu nie ma potrzeby odczytywania nr. seryjnego z taÅ›my tylko szybciutko skanerem kodÃ³w. Tasiemki moÅ¼na kupowaÄ‡ juÅ¼ z kodami ale taÅ„sze sÄ… te bez kodÃ³w&amp;hellip; i tu pytanie - czy da siÄ™ tanio zdobyÄ‡ etykiety?</description>
    </item>
    
    <item>
      <title>Listowanie zasobÃ³w NFS</title>
      <link>https://timor.site/2012/09/listowanie-zasobow-nfs/</link>
      <pubDate>Mon, 10 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/listowanie-zasobow-nfs/</guid>
      <description>Szkoda Å¼e polecenia do obsÅ‚ugi NFS&amp;rsquo;a nie zaczynajÄ… siÄ™ od nfs* - Å‚atwiej byÅ‚oby mi je zapamiÄ™taÄ‡. A jednym z takich, zapominanych najczÄ™Å›ciej jest listowanie zasobÃ³w, szczegÃ³lnie przydatne gdy korzysta siÄ™ z NFS&amp;rsquo;a na jakimÅ› NAS&amp;rsquo;ie (ktÃ³rego magiczny soft nie pokazuje gdzie i co eksportuje):
showmount -e 192.168.1.10 Export list for 192.168.1.10: /mnt/pools/A/A0/Music * /mnt/pools/A/A0/Movies * /mnt/pools/A/A0/Backups * /mnt/pools/A/A0/Pictures * /mnt/pools/A/A0/Documents * Teraz moÅ¼emy zamontowaÄ‡ zasÃ³b:
mount 192.168.1.10:/mnt/pools/A/A0/Music /mnt/music </description>
    </item>
    
    <item>
      <title>Apache: ograniczenie dostÄ™pu dla zalogowanych uÅ¼ytkownikÃ³w z mod_rewrite i mod_auth_basic</title>
      <link>https://timor.site/2012/09/apache-ograniczenie-dostepu-dla-zalogowanych-uzytkownikow-z-mod_rewrite-i-mod_auth_basic/</link>
      <pubDate>Sun, 09 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/apache-ograniczenie-dostepu-dla-zalogowanych-uzytkownikow-z-mod_rewrite-i-mod_auth_basic/</guid>
      <description>Niedawno trafiÅ‚em na ciekawy problem w mod_rewrite - by przekierowywaÄ‡ uÅ¼ytkownikÃ³w logujÄ…cych siÄ™ jednym z moduÅ‚Ã³w mod_auth_basic do dedykowanych im katalogÃ³w, rÃ³wnoczeÅ›nie blokujÄ…c dostÄ™p do katalogÃ³w innych uÅ¼ytkownikÃ³w. Nie brzmi to jakoÅ› strasznie ale problem okazaÅ‚ siÄ™ byÄ‡ caÅ‚kiem nietrywialnym. Teoretyczne rozwiÄ…zanie sprowadzaÅ‚o siÄ™ do wyszukania loginu uÅ¼ytkownika ze Å›cieÅ¼ki URI i porÃ³wnania z nazwÄ… uÅ¼ytkownika ze zmiennej %{REMOTE_USER} - jeÅ›li wartoÅ›ci siÄ™ rÃ³Å¼niÄ… to Forbidden. Ale szybko okazaÅ‚o siÄ™ Å¼e w RewriteCond zmienne z dopasowaÅ„ moÅ¼na podstawiaÄ‡ tylko w pierwszym parametrze i Å¼e o ile moÅ¼na RewriteCond&amp;rsquo;y poÅ‚Ä…czyÄ‡ wyraÅ¼eniami logicznymi typu AND/OR to nie ma moÅ¼liwoÅ›ci porÃ³wnania czy dopasowania z kolejnych RewriteCond&amp;rsquo;Ã³w sÄ… identyczne.</description>
    </item>
    
    <item>
      <title>unicode-rxvt - moje ustawienia</title>
      <link>https://timor.site/2012/09/unicode-rxvt-moje-ustawienia/</link>
      <pubDate>Sun, 09 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/unicode-rxvt-moje-ustawienia/</guid>
      <description>WybÃ³r dobrego X-terminala to w Å¼yciu admina prawie jak wybÃ³r Å¼ony&amp;hellip; spÄ™dza siÄ™ wspÃ³lnie duÅ¼o czasu i miÅ‚o gdy estetycznie wyglÄ…da, robi to co chcemy, itd&amp;hellip; ðŸ˜‰
Nie lubiÄ™ gnome-terminal&#39;a bo domyÅ›lnie binduje F10 co wnerwia mnie w midnight commanderze, stÄ…d szukaÅ‚em i szukaÅ‚em i jak dotychczas najbardziej podpasowaÅ‚ mi unicode-rxvt. MoÅ¼na uruchamiaÄ‡ go po prostu jako urxvt lub uruchomiÄ‡ demona urxvtd po zalogowaniu i potem odpalaÄ‡ tylko klienta urxvtc. Druga metoda skutkuje natychmiastowym startem terminala, wiec gdy podbindujÄ™ go sobie pod F12 mam terminal zawsze pod rÄ™kÄ… w mniej niÅ¼ sekundÄ™.</description>
    </item>
    
    <item>
      <title>Wymuszenie fsck po restarcie</title>
      <link>https://timor.site/2012/09/wymuszenie-fsck-po-restarcie/</link>
      <pubDate>Sat, 08 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/wymuszenie-fsck-po-restarcie/</guid>
      <description>JeÅ¼eli chcemy by po ponownym uruchomieniu w czasie startu zostaÅ‚y sprawdzone wszystkie dyski narzÄ™dziem to moÅ¼na to osiÄ…gnÄ…Ä‡ na dwa sposoby. Zawsze gdy tego potrzebujÄ™ zastanawiam siÄ™ tylko jaki plik trzeba byÅ‚o utworzyÄ‡&amp;hellip; forcefsck, fsck, fsckforce&amp;hellip; wiÄ™c notujÄ™ ðŸ˜‰
Utworzenie pliku /forcefsck Pierwsza metoda polega na utworzeniu pliku forcefsck w gÅ‚Ã³wnym katalog, robimy to poniÅ¼szym poleceniem:
sudo touch /forcefsck Polecenie shutdown Druga metoda wykorzystuje parametr -F polecenia shutdown ale nie dziaÅ‚a na wszystkich dystrybucjach (w takiej sytuacji patrz pierwsza metoda):</description>
    </item>
    
    <item>
      <title>Moje ulubione aplikacje na Androidâ€™a</title>
      <link>https://timor.site/2012/09/moje-ulubione-aplikacje-na-androida/</link>
      <pubDate>Fri, 07 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/moje-ulubione-aplikacje-na-androida/</guid>
      <description>Znajomi co jakiÅ› czas pytajÄ… mnie: jak nazywa siÄ™ ta aplikacja, ktÃ³rÄ… masz na telefonie do&amp;hellip;? Z jakiego programu do poczty korzystasz na tel&amp;hellip;? itd&amp;hellip;
Pytacie - wiÄ™c macie ðŸ˜ƒ
DGT GTD Bardzo przydatna lista TODO. Stworzona z myÅ›lÄ… o metodzie Getting Things Done i bardzo uÅ‚atwia pamiÄ™tanie u rÃ³Å¼nych zadaniach. Posiada teÅ¼ bardzo wygodny widÅ¼et, na ktÃ³rym moÅ¼emy podglÄ…dnÄ…Ä‡ nasze najbliÅ¼sze zadania.
Opera Mini Wbudowana przeglÄ…darka jest niezÅ‚a, ale Opera Mini kompresuje mocno strony wykorzystujÄ…c poÅ›redniczÄ…ce serwery proxy co znacznie obniÅ¼a koszty transmisji danych.</description>
    </item>
    
    <item>
      <title>Montowanie partycji z obrazu dysku</title>
      <link>https://timor.site/2012/09/montowanie-partycji-z-obrazu-dysku/</link>
      <pubDate>Thu, 06 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/09/montowanie-partycji-z-obrazu-dysku/</guid>
      <description>JednÄ… z rzeczy, ktÃ³re podobajÄ… mi siÄ™ w maszynach wirtualnych Xen jest moÅ¼liwoÅ›Ä‡ zrobienia backupu caÅ‚ego obrazu i szybkie odzyskanie juÅ¼ w trakcie ciÄ™Å¼kiej awarii. Gdy dodatkowo korzysta siÄ™ z LVM&amp;rsquo;a to moÅ¼na na chwilÄ™ wyÅ‚Ä…czyÄ‡ DomU, utworzyÄ‡ snapshot jego dyskÃ³w, uruchomiÄ‡ DomU i w trakcie dziaÅ‚ania robiÄ‡ spÃ³jny backup ze snapshot&amp;rsquo;a. DziÄ™ki takiemu mechanizmowi serwer jest niedostÄ™pny przez kilkanaÅ›cie sekund, a backup spÃ³jny jakby zostaÅ‚ wykonany przy caÅ‚kowicie wyÅ‚Ä…czonej maszynie.</description>
    </item>
    
    <item>
      <title>Przeszukiwanie plikÃ³w danego typu pod kÄ…tem tekstu</title>
      <link>https://timor.site/2012/08/przeszukiwanie-plikow-danego-typu-pod-katem-tekstu/</link>
      <pubDate>Fri, 31 Aug 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/08/przeszukiwanie-plikow-danego-typu-pod-katem-tekstu/</guid>
      <description>KiedyÅ› poproszono mnie o przeszukanie wszystkich plikÃ³w php na serwerze webowym po kÄ…tem wywoÅ‚ania pewnej funkcji. Oczywiste wydaÅ‚o mi siÄ™ uÅ¼ycie rekurencyjnie grep&amp;rsquo;a, wiÄ™c:
grep -R &amp;#34;JAKAS_FUNKCJA&amp;#34; /var/www/*.php Ale szybko okazaÅ‚o siÄ™ Å¼e grep dopasowuje maskÄ™ *.php rÃ³wnieÅ¼ do katalogÃ³w, wiÄ™c nie przeszukiwaÅ‚ katalogÃ³w ktÃ³re nie koÅ„czyÅ‚y siÄ™ na .php ehhh&amp;hellip;..
Drugie podejÅ›cie okazaÅ‚o siÄ™ trafniejsze - najpierw poleceniem find wyszukujÄ™ wszystkie pliki php, a dopiero pÃ³Åºniej grepujÄ™ (wypisujÄ…c nazwÄ™ pliku i numer linii):</description>
    </item>
    
    <item>
      <title>Nginx - konfiguracja pod WordPressâ€™a</title>
      <link>https://timor.site/2012/06/nginx-konfiguracja-pod-wordpressa/</link>
      <pubDate>Fri, 29 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/nginx-konfiguracja-pod-wordpressa/</guid>
      <description>To raczej nie jest podstawowy konfig i prÃ³Å¼no szukaÄ‡ go na stronie WordPress&amp;rsquo;a, wiÄ™c odradzam tÄ™ zabawÄ™ jeÅ›li nie zna siÄ™ zbyt dobrze nginx&amp;rsquo;a.
PoniewaÅ¼ serwerek, na ktÃ³rym dziaÅ‚a stronka to sprzÄ™cik z Atomem 330 i mocy na CPU zbyt wiele nie ma to popularne pluginy (np. W3 Total Cache) potencjalnie zwiÄ™kszajÄ…ce wydajnoÅ›Ä‡ tak na prawdÄ™ zmulaÅ‚y stronkÄ™ jeszcze bardziej. PluginÃ³w sprawdziÅ‚em kilka i kaÅ¼dorazowo efekt byÅ‚ podobny - stronka dziaÅ‚aÅ‚a wolniej niÅ¼ bez ich pomocy.</description>
    </item>
    
    <item>
      <title>Xen - Podstawowe polecenia</title>
      <link>https://timor.site/2012/06/xen-podstawowe-polecenia/</link>
      <pubDate>Tue, 19 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/xen-podstawowe-polecenia/</guid>
      <description>PisaÅ‚em juÅ¼ HOWTO o konfiguracji Xen&amp;rsquo;aÂ ale nie opisaÅ‚em jak siÄ™ bawiÄ‡ wirtualkami gdy Xen&amp;rsquo;a juÅ¼ mamy. To nadrabiam.
Tworzenie i usuwanie maszyn wirtualnych Do tworzenia/niszczenia DomU wykorzystujÄ™ pakiet xen-tools dostarczajÄ…cy m.in. dwa narzÄ™dzia:
xen-createÂ - dla ktÃ³rego przygotowaÅ‚em doÅ›Ä‡Â skomplikowanÄ…Â konfiguracjÄ™ przy okazji wczeÅ›niejszego posta: Instalacja i konfiguracja DomU. PrzykÅ‚ad uÅ¼ycia: xen-create --hostname example-domu --ip 10.0.0.77 \ --gateway 10.0.0.1 --broadcast 10.0.0.255 --netmask 255.255.255.0 \ --bridge br10 --vcpus 2 --memory=2G xen-delete-imageÂ - narzÄ™dzie do kasowania wirtualnych maszyn.</description>
    </item>
    
    <item>
      <title>Nginx - ustawienie domyÅ›lnego vhosta</title>
      <link>https://timor.site/2012/06/nginx-ustawienie-domyslnego-vhosta/</link>
      <pubDate>Mon, 18 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/nginx-ustawienie-domyslnego-vhosta/</guid>
      <description>Ustawienie domyÅ›lnego vhosta w nginx&amp;rsquo;ie jest Å‚adnie opisane w dokumentacji i poczÄ…tkowo wydawaÅ‚o siÄ™ dobrze dziaÅ‚aÄ‡ ale gdy wykorzystaÅ‚em tÄ… konfiguracjÄ™ na serwerze z wieloma adresami IP i nasÅ‚uchiwaniem na porcie 80 (bez podania IP) to zachowywaÅ‚o siÄ™ to doÅ›Ä‡ dziwnie (przewaÅ¼nie nie Å‚adowaÅ‚o tej strony ktÃ³rÄ… chciaÅ‚em). Od teraz tworzÄ™ konfiguracjÄ™ domyÅ›lnego vhosta dla kaÅ¼dego z dostÄ™pnych adresÃ³w IP. Powiem szczerze Å¼e nie miaÅ‚em czasu na gÅ‚Ä™bsze zbadanie tego zachowania i wykorzystaÅ‚emÂ rozwiÄ…zanie, ktÃ³re dziaÅ‚aÅ‚o w kaÅ¼dym przypadku czyli po jednym konfigu na IP + przekierowanie na ogÃ³lnÄ… stronÄ™.</description>
    </item>
    
    <item>
      <title>Xen - Konfiguracja interfejsu sieciowego Dom0 jako brdigeâ€™a dla VLANâ€™Ã³w</title>
      <link>https://timor.site/2012/06/xen-konfiguracja-interfejsu-sieciowego-dom0-jako-brdigea-dla-roznych-vlanow/</link>
      <pubDate>Mon, 18 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/xen-konfiguracja-interfejsu-sieciowego-dom0-jako-brdigea-dla-roznych-vlanow/</guid>
      <description>VLAN&amp;rsquo;y sÄ… prostÄ… metodÄ… na separacjÄ™ sieci. Gdy mamy wiele sieci moÅ¼e zajÅ›Ä‡ potrzeba by poszczegÃ³lne DomU miaÅ‚y dostÄ™p do rÃ³Å¼nych VLAN&amp;rsquo;Ã³w (czasem nawet wielu rÃ³wnoczeÅ›nie). JeÅ¼eli serwer z Dom0 posiada minimumÂ giga-bitowÄ…Â kartÄ™ sieciowÄ… (a najlepiej kilka) to powinniÅ›my byÄ‡ w stanie z godziwÄ… jakoÅ›ciÄ… udostÄ™pniÄ‡ systemom DomU rÃ³Å¼ne VLAN&amp;rsquo;y z interfejsÃ³w gospodarza.
Zaprezentowane poniÅ¼ej skrypty zapoÅ¼yczyÅ‚em z tej strony:Â http://renial.net/weblog/2007/02/27/xen-vlan
Na poczÄ…tek musimy zainstalowaÄ‡ pakiet vlan:
apt-get install vlan PÃ³Åºniej w pliku /etc/xen/xend-config.</description>
    </item>
    
    <item>
      <title>Apache - reverse proxy z cacheâ€™owaniem</title>
      <link>https://timor.site/2012/06/apache-reverse-proxy-z-cacheowaniem/</link>
      <pubDate>Sun, 17 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/apache-reverse-proxy-z-cacheowaniem/</guid>
      <description>Ostatnio trafiÅ‚em na ciekawy problem, ktÃ³ry wielokrotnie rozwiÄ…zywaÅ‚em w nginx&amp;rsquo;ie ale tym razem musiaÅ‚em zrobiÄ‡ to w Apache. Pewna stronka dziaÅ‚a sobie na HTTPS&amp;rsquo;ie i chciaÅ‚em by wszystkie powiÄ…zane z niÄ… pliki byÅ‚y serwowane z jej adresu szyfrowanym poÅ‚Ä…czeniem by nie pojawiaÅ‚y siÄ™ w przeglÄ…darce monity Å¼e &amp;ldquo;czÄ™Å›Ä‡ ruchu nie jest szyfrowana&amp;rdquo;. Tyle Å¼e czÄ™Å›Ä‡ potrzebnych plikÃ³w byÅ‚a juÅ¼ obecnie serwowana na innym serwerze (w innej domenie) poprzez HTTP.
MogÅ‚em albo skopiowaÄ‡ te pliki i wykombinowaÄ‡ jakiÅ› mechanizm synchronizujÄ…cy albo wykorzystaÄ‡ proxy + cache.</description>
    </item>
    
    <item>
      <title>CouchDB - Instalacja i wstÄ™pna konfiguracja</title>
      <link>https://timor.site/2012/06/couchdb-instalacja-i-wstepna-konfiguracja/</link>
      <pubDate>Fri, 08 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/couchdb-instalacja-i-wstepna-konfiguracja/</guid>
      <description>Gdy tworzymy pierwszÄ… aplikacjÄ™ webowÄ…, ktÃ³ra umoÅ¼liwia upload plikÃ³w przewaÅ¼nie lÄ…dujÄ… one lokalnie w pewniej lokalizacji. Gdy druga aplikacja potrzebuje dostÄ™pu do tych plikÃ³w wystarczy podaÄ‡ Å›cieÅ¼kÄ™. Problemy zaczynajÄ… siÄ™ gdy aplikacji jest kilka i rozmieszczonych na kilku serwerach. MoÅ¼na korzystaÄ‡ z sieciowych systemÃ³w plikÃ³w ale to czÄ™sto nie jest zbyt wygodne - ciÄ™Å¼ko odpowiednio ustawiÄ‡ uprawnienia by pewne aplikacje miaÅ‚y dostÄ™p do zapisu plikÃ³w a inne nie, trzeba skonfigurowaÄ‡ dany katalog w kilku miejscach w konfiguracji serwera WWW aby serwowaÄ‡ pliki itp&amp;hellip;</description>
    </item>
    
    <item>
      <title>Dynamiczna zmiana rozmiaru partycji EXT4 na LVMâ€™ie</title>
      <link>https://timor.site/2012/06/dynamiczna-zmiana-rozmiaru-partycji-ext4-na-lvmie/</link>
      <pubDate>Fri, 08 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/dynamiczna-zmiana-rozmiaru-partycji-ext4-na-lvmie/</guid>
      <description>UÅ¼ywam LVM&amp;rsquo;a zarÃ³wno na desktopie jak i wielu serwerach bo bardzo podoba mi siÄ™ moÅ¼liwoÅ›Ä‡ powiÄ™kszenia akurat tej partycji, na ktÃ³rej brakuje miejsca. O ile pamiÄ™tam jak powiÄ™kszyÄ‡ partycjÄ™ XFS (xfs_growfs /punkt/montowania) to zawsze mam problem jak to zrobiÄ‡ na EXT3/4, wiÄ™c notujÄ™.
PowiÄ™kszenie wolumenu LVM (np. o 10 gigabajtÃ³w):
lvextend -L+10G /dev/vggroup/vol ZwiÄ™kszenie rozmiaru systemu plikÃ³w do nowego rozmiaru wolumenu:
resize2fs /dev/vggroup/vol PowyÅ¼sze polecenie moÅ¼na wykonaÄ‡ na zamontowanym zasobie - online.</description>
    </item>
    
    <item>
      <title>Nginx - mÃ³j domyÅ›lny config</title>
      <link>https://timor.site/2012/06/nginx-moj-domyslny-config/</link>
      <pubDate>Fri, 08 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/06/nginx-moj-domyslny-config/</guid>
      <description>W tym poÅ›cie nie rozpiszÄ™ siÄ™ zbytnio - wrzucam tylko config od ktÃ³rego zaczynam konfiguracjÄ™ nginx&amp;rsquo;a.
user www-data; worker_processes 4; pid /var/run/nginx.pid; events { worker_connections 1024; ## zaakceptuj tak duÅ¼o poÅ‚Ä…czeÅ„ jak to moÅ¼liwe multi_accept on; ## epoll jest preferowany na jajkach od 2.6 ## http://www.kegel.com/c10k.html#nb.epoll use epoll; } http { include /etc/nginx/mime.types; default_type application/octet-stream; access_log /var/log/nginx/access.log; error_log /var/log/nginx/error.log; ## opcje TCP sendfile on; tcp_nopush on; tcp_nodelay on; ## maksymalny rozmiar zapytnia client_max_body_size 10m; ## timeout&amp;#39;y client_body_timeout 60; client_header_timeout 60; keepalive_timeout 10; send_timeout 60; ## kompresja gzip on; gzip_static on; gzip_vary on; gzip_disable &amp;#34;msie6&amp;#34;; gzip_comp_level 1; gzip_proxied any; gzip_buffers 16 8k; gzip_min_length 50; gzip_types text/plain text/css application/json application/x-javascript application/javascript text/javascript application/atom+xml application/xml application/xml+rss text/xml image/x-icon text/x-js application/xhtml+xml; ## bezpieczeÅ„stwo ## security by obscurity - ukrywamy wersjÄ™ nginx&amp;#39;a server_tokens off; ignore_invalid_headers on; ## resetuj zbyt dÅ‚ugie poÅ‚Ä…czenia - powinno pomÃ³c na slowlorisa reset_timedout_connection on; ## wÅ‚Ä…czenie ochrony przed clickjackingiem - uruchamiam to per vhost ## https://developer.</description>
    </item>
    
    <item>
      <title>Fortigate: Warning: SQL Logging is not enabled</title>
      <link>https://timor.site/2012/04/fortigate-warning-sql-logging-is-not-enabled/</link>
      <pubDate>Wed, 11 Apr 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/04/fortigate-warning-sql-logging-is-not-enabled/</guid>
      <description>JeÅ›li po aktualizacji firmware na swoim firewall&amp;rsquo;u do wersji MR3 natrafisz na komunikat Warning: SQL Logging is not enabled przy dostÄ™pie do logÃ³w to prawdopodobnie musisz zmieniÄ‡ ÅºrÃ³dÅ‚o logÃ³w dla interfejsu gui. PoniÅ¼ej polecenie CLI i moÅ¼liwe opcje:
config log gui set logdevice {memory | disk | fortianalyzer} end Ja potrzebowaÅ‚em ustawiÄ‡ tÄ™ opcjÄ™ na fortianalyzer by uzyskaÄ‡ dostÄ™p do moich logÃ³w.</description>
    </item>
    
    <item>
      <title>Konwersja formatu certyfikatu dla telefonÃ³w Nokia</title>
      <link>https://timor.site/2012/04/konwersja-formatu-certyfikatu-dla-telefonow-nokia/</link>
      <pubDate>Wed, 11 Apr 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/04/konwersja-formatu-certyfikatu-dla-telefonow-nokia/</guid>
      <description>ChciaÅ‚em zaimportowaÄ‡ mÃ³j certyfikat self-signed do Nokii E72 by nie krzyczaÅ‚a przy sprawdzaniu poczty. PotrzebowaÅ‚em certyfikatu w formacie DER, a miaÅ‚em w PEM - chwilÄ™ szukaÅ‚em jak dokonaÄ‡ konwersji, wiÄ™c ku pamiÄ™ci zapisujÄ™ kilka gotowych poleceÅ„:
Konwersja certyfikatu z PEM na DER openssl x509 -in in.crt -inform PEM -out out.crt -outform DER Konwersja certyfikatu z DER na PEM openssl x509 -in in.crt -inform DER -out out.crt -outform DER Konwersja klucza z formatu PEM na DER openssl rsa -in in.</description>
    </item>
    
    <item>
      <title>Ponowne wygenerowanie kluczy serwera OpenSSH</title>
      <link>https://timor.site/2012/02/ponowne-wygenerowanie-kluczy-serwera-openssh/</link>
      <pubDate>Mon, 27 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/02/ponowne-wygenerowanie-kluczy-serwera-openssh/</guid>
      <description>Czasami odpalam klona jakiegoÅ› systemu by pÃ³Åºniej po drobnych zmianach uczyniÄ‡ go osobnym bytem. Jednym z krokÃ³w po odtworzeniu systemu jest wygenerowanie nowego zestawu kluczy dla serwera OpenSSH (by mÃ³j klient ssh nie siaÅ‚ warning&amp;rsquo;ami). MoÅ¼na to wykonaÄ‡ tak:
Najpierw kasujemy obecne klucze:
rm /etc/ssh/ssh_host_* Teraz generujemy nowe:
dpkg-reconfigure openssh-server I na koniec restartujemy usÅ‚ugÄ™ by zaÅ‚adowaÄ‡ nowy zestaw kluczy (nie powinno to zerwaÄ‡ obecnej sesji, ale dla pewnoÅ›ci lepiej zadanie odpaliÄ‡ w screen&amp;rsquo;ie):</description>
    </item>
    
    <item>
      <title>Xen - ustawienie autostartu DomU</title>
      <link>https://timor.site/2012/02/xen-ustawienie-autostartu-domu/</link>
      <pubDate>Mon, 27 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/02/xen-ustawienie-autostartu-domu/</guid>
      <description>Aby wybrane systemy DomU startowaÅ‚y automatycznie po restarcie hypervisora naleÅ¼y podlinkowaÄ‡ ich pliki konfiguracyjne w katalogu /etc/xen/auto po uprzednim jego utworzeniu. PrzykÅ‚adowo:
mkdir /etc/xen/auto ln -s /etc/xen/example.cfg /etc/xen/auto/example.cfg Od teraz DomU example bÄ™dzie startowaÄ‡ automatycznie.</description>
    </item>
    
    <item>
      <title>Xen - WÅ‚Ä…czenie Live Migration</title>
      <link>https://timor.site/2012/02/xen-wlaczenie-live-migration/</link>
      <pubDate>Sat, 25 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/02/xen-wlaczenie-live-migration/</guid>
      <description>JeÅ¼eli zdecydowaliÅ›my siÄ™ na systemu DomU w obrazach to moÅ¼emy korzystaÄ‡ z live migration. By uruchomiÄ‡ jej obsÅ‚ugÄ™, trzeba w pliku /etc/xen/xend-config.sxpÂ odkomentowaÄ‡Â odpowiednie linie iÂ ustawiÄ‡Â adres IP:
(xend-relocation-server yes) (xend-relocation-port 8002) (xend-relocation-address &amp;#39;10.0.10.91&amp;#39;) Wykonywanie migracji xm migrate --live nazwa-domu nazwa.lub.ip.zdalnego.hosta </description>
    </item>
    
    <item>
      <title>Xen na Squeeze - Instalowanie i konfiguracja hostÃ³w goÅ›ci (DomU)</title>
      <link>https://timor.site/2012/02/xen-na-squeeze-instalowanie-i-konfiguracja-hostow-gosci-domu/</link>
      <pubDate>Fri, 24 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/02/xen-na-squeeze-instalowanie-i-konfiguracja-hostow-gosci-domu/</guid>
      <description>Ostatnio pisaÅ‚em o konfiguracji Dom0 - dzisiaj napiszÄ™ o uruchamianiu DomU.
Do instalacji DomU wykorzystujÄ™ skrypty z pakietu xen-tools, moÅ¼na go zainstalowaÄ‡ poleceniem:
apt-get install xen-tools OczywiÅ›cie aby wszystko dziaÅ‚aÅ‚o fajnie musimy ustawiÄ‡ kilka domyÅ›lnych opcji, robimy to edytujÄ…c plikÂ /etc/xen-tools/xen-tools.conf. Lecimy po kolei:
# Virtual machine disks are created as logical volumes in # volume group &amp;#39;universe&amp;#39; (hint: LVM storage is much faster # than file) lvm = universe OsobiÅ›cie korzystam z LVM&amp;rsquo;a ktÃ³ry zgodnie z hint&amp;rsquo;em jest znacznie szybszy od plikÃ³w obrazÃ³w.</description>
    </item>
    
    <item>
      <title>Kaczka pieczona z Å¼urawinÄ… i jabÅ‚kami</title>
      <link>https://timor.site/2012/02/kaczka-pieczona-z-zurawina-i-jablkami/</link>
      <pubDate>Thu, 23 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/02/kaczka-pieczona-z-zurawina-i-jablkami/</guid>
      <description>Bardzo udany przepis - gdzieÅ› musiaÅ‚em go udokumentowaÄ‡ by nie zginÄ…Å‚ :)
SkÅ‚adniki 1 duÅ¼a kaczka (2-2,5 kg) 4 zÄ…bki czosnku 1 kg jabÅ‚ek (w zaleÅ¼noÅ›ci od kaczki mogÄ… wystarczyÄ‡ 3 wiÄ™ksze sztuki) sok z cytryny do skropienia jabÅ‚ek 200 g suszonej Å¼urawiny pÃ³Å‚ butelki czerwonego wytrawnego wina rozmaryn 4 Å‚yÅ¼ki miodu cynamon kardamon sÃ³l pieprz SposÃ³b wykonania KaczkÄ™ nacieramy solÄ…, pieprzem, rozmarynem oraz roztartym czosnkiem i pozostawiamy na min. 3-4 godziny w lodÃ³wce (moÅ¼na teÅ¼ przygotowaÄ‡ jÄ… wieczorem by byÅ‚a gotowa na nastÄ™pny dzieÅ„).</description>
    </item>
    
    <item>
      <title>Xen na Squeeze - instalacja i konfiguracja hypervisorâ€™a</title>
      <link>https://timor.site/2012/02/xen-na-squeeze-instalacja-i-konfiguracja-hypervisora/</link>
      <pubDate>Thu, 23 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/02/xen-na-squeeze-instalacja-i-konfiguracja-hypervisora/</guid>
      <description>Po co mi to? Wiele razy miaÅ‚em do czynienia z serwerami na ktÃ³rych dziaÅ‚aÅ‚o kilka/kilkanaÅ›cie usÅ‚ug rÃ³wnoczeÅ›nie, np. Apache (kilka stronek, webmail, phpmyadmin, itp), Postfix/Exim (poczta i Å¼eby byÅ‚o fajnie to na kontach systemowych), Samba (jakieÅ› zasoby dla pracownikÃ³w), MySQL (baza dla stronek), PostgreSQL (bo jedna stronka potrzebowaÅ‚a), itd&amp;hellip;. Przy takiej konfiguracji pomijane sÄ… kwestie separacji usÅ‚ug zewnÄ™trznych/wewnÄ™trznych - no ale firma/instytucja maÅ‚a nie ma sensu kasy na 3 kolejne serwery wydawaÄ‡ skoro dziaÅ‚a&amp;hellip;.</description>
    </item>
    
    <item>
      <title>WstÄ™pne Å‚adowanie programÃ³w przy starcie z ureadahead</title>
      <link>https://timor.site/2012/01/wstepne-ladowanie-programow-przy-starcie-z-ureadahead/</link>
      <pubDate>Tue, 24 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/01/wstepne-ladowanie-programow-przy-starcie-z-ureadahead/</guid>
      <description>JakiÅ› czas temu korzystaÅ‚em z preload&amp;rsquo;a ktÃ³ry sam uczyÅ‚ siÄ™ jakie aplikacje odpalam i te programy Å‚adowaÅ‚ juÅ¼ podczas startu - przewaÅ¼nie nieco spowalnia to start systemu ale gdy juÅ¼ siÄ™ zaÅ‚aduje to programy, ktÃ³re uruchamiam jako pierwsze startujÄ… &amp;ldquo;z kopa&amp;rdquo;. Od jakiegoÅ› czasu popularniejszy jest instalowany domyÅ›lnie w Ubuntu ureadahead - peÅ‚ni on podobnÄ… funkcjÄ™ jak preload.
MoÅ¼na zmusiÄ‡ ureadahead do ponownego wygenerowania nowej listy programÃ³w wczytywanych przy starcie do cache a oto jak zrobiÄ‡:</description>
    </item>
    
    <item>
      <title>Apache mod_expires konfiguracja</title>
      <link>https://timor.site/2012/01/apache-mod_expires-konfiguracja/</link>
      <pubDate>Mon, 23 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/01/apache-mod_expires-konfiguracja/</guid>
      <description>Aby umoÅ¼liwiÄ‡ odwiedzajÄ…cym nasze strony cachowanie obrazkÃ³w (tak by nie musieli pobieraÄ‡ ich kaÅ¼dorazowo bo przecieÅ¼ nie zmieniajÄ… siÄ™ aÅ¼ tak czÄ™sto) konieczne jest ustawienie nagÅ‚Ã³wkÃ³w: Cache-Control, Expires dla odpowiednich typÃ³w plikÃ³w. W Apachem jest do tego dedykowany moduÅ‚ - mod_expires. W Debianie dostarczany jest on bez domyÅ›lnej globalnej konfiguracji - a ja lubiÄ™ gdy cacheuje mi siÄ™ wiÄ™kszoÅ›Ä‡ statyki. Zawsze moÅ¼na dostosowaÄ‡ czas cachowania pod siebie wzglÄ™dem okreÅ›lonego typu pliku, np.</description>
    </item>
    
    <item>
      <title>DÅ‚ugie oczekiwanie na nawiÄ…zanie poÅ‚Ä…czenia ssh</title>
      <link>https://timor.site/2012/01/dlugie-oczekiwanie-na-nawiazanie-polaczenia-ssh/</link>
      <pubDate>Mon, 23 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/01/dlugie-oczekiwanie-na-nawiazanie-polaczenia-ssh/</guid>
      <description>Objaw przewaÅ¼nie jest taki: Å‚Ä…czysz siÄ™ po ssh podajÄ…c klucz/hasÅ‚o i czekasz nawet i 10 sekund aÅ¼ pojawi siÄ™ prompt. Po poÅ‚Ä…czeniu wszystkie polecenia dziaÅ‚ajÄ… z normalnÄ… szybkoÅ›ciÄ…. Brzmi znajomo? ðŸ˜‰
Taki objaw przewaÅ¼nie jest skutkiem problemÃ³w z dziaÅ‚aniem DNS&amp;rsquo;a po stronie klienta lub serwera. Warto sprawdziÄ‡ poleceniami host/dig/nslookup po obu stronach jak duÅ¼o czasu potrzeba na rozwiÄ…zanie nazw. Najlepiej rozwiÄ…zaÄ‡ problem z DNS&amp;rsquo;em ustawiajÄ…c szybkie serwery ale gdy nie mamy takiej moÅ¼liwoÅ›ci to po stronie serwera moÅ¼na ustawiÄ‡ w /etc/sshd_config opcjÄ™:</description>
    </item>
    
    <item>
      <title>Sniffowanie w FortiOS</title>
      <link>https://timor.site/2012/01/sniffowanie-w-fortios/</link>
      <pubDate>Mon, 23 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/01/sniffowanie-w-fortios/</guid>
      <description>Zawsze gdy potrzebujÄ™ zesniffowaÄ‡ coÅ› na Å¼ywo na Fortigate&amp;rsquo;ach muszÄ™ przeszukaÄ‡ Knowledge Base by przypomnieÄ‡ sobie wszystkie polecenia do tego potrzebne. Tym razem robiÄ™ notatki ðŸ˜ƒ
Sniffowanie diagnose debug enable diagnose debug flow filter addrÂ ip address clearÂ clear filter daddrÂ dest ip address dportÂ destination port negateÂ inverse filter portÂ port protoÂ protocol number saddrÂ source ip address sportÂ source port vdÂ index of virtual domain # np. diagnose debug flow filter saddr 10.</description>
    </item>
    
    <item>
      <title>Upgrade Debian Lenny do Squeeze</title>
      <link>https://timor.site/2012/01/upgrade-debian-lenny-do-squeeze/</link>
      <pubDate>Fri, 13 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/01/upgrade-debian-lenny-do-squeeze/</guid>
      <description>Co jakiÅ› czas powtarza siÄ™ sytuacja, gdy muszÄ™ zaktualizowaÄ‡ jakiÅ› serwerek z Lennym do Squeeze&amp;rsquo;a i za kaÅ¼dym razem muszÄ™ googlaÄ‡ za odpowiednimi ÅºrÃ³dÅ‚ami, ktÃ³re paczki najpierw, etc&amp;hellip; WiÄ™c sobie zebraÅ‚em wszystko w poniÅ¼szym poÅ›cie.
W razie wÄ…tpliwoÅ›ci patrz tutaj:Â http://www.debian.org/releases/squeeze/releasenotes
ZrÃ³b backup konfiguracji.
Trzeba zaktualizowaÄ‡ ÅºrÃ³dÅ‚a by wskazywaÅ‚y na squeeze&amp;rsquo;a (poniÅ¼sze polecenie nadpisze Twoje obecne repozytoria):
cat &amp;gt; /etc/apt/sources.list &amp;lt;&amp;lt;SRC deb http://ftp.pl.debian.org/debian/ squeeze main non-free contrib deb-src http://ftp.pl.debian.org/debian/ squeeze main non-free contrib deb http://security.</description>
    </item>
    
    <item>
      <title>Skoda Fabia - Kasownie ostrzeÅ¼eÅ„ OIL i service INSP</title>
      <link>https://timor.site/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/</link>
      <pubDate>Thu, 12 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/</guid>
      <description>JeÅ¼eli jesteÅ› wÅ‚aÅ›cicielem Skody Fabii I to wczeÅ›niej czy pÃ³Åºniej TwÃ³j BAT-Mobil zgÅ‚osi ktÃ³reÅ› z ostrzeÅ¼eÅ„ serwisowych:
OIL - pojawia siÄ™ przewaÅ¼nie co 10 tys. km i wtedy gdy jeszcze nie trzeba wymieniaÄ‡ oleju w silniku ðŸ˜„ service INSP - nie wiem jak czÄ™sto siÄ™ pojawia a oznacza mniej wiÄ™cej &amp;ldquo;czas wesprzeÄ‡ finansowo lokalny autoryzowany serwis&amp;rdquo;. Kasowanie ostrzeÅ¼enia &amp;ldquo;OIL&amp;rdquo; Przy wyÅ‚Ä…czonym silniku wciskamy i przytrzymujemy przycisk kasowaniaÂ przebiegu dziennego/pokrÄ™tÅ‚o ustawiania godziny, od teraz nazywany poÂ prostu &amp;lsquo;przyciskiem&amp;rsquo;.</description>
    </item>
    
    <item>
      <title>MÃ³j domyÅ›lny config dla SciTE</title>
      <link>https://timor.site/2012/01/moj-domyslny-config-dla-scite/</link>
      <pubDate>Wed, 11 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2012/01/moj-domyslny-config-dla-scite/</guid>
      <description>Uruchamiamy SciTE i klikamy menu Options -&amp;gt; Open User Options File, wpisujemy dane:
# domyÅ›lne korzystanie z fontÃ³w o staÅ‚ej szerokoÅ›ci font.base=$(font.monospace) font.small=$(font.monospace) font.comment=$(font.monospace) font.text=$(font.monospace) font.text.comment=$(font.monospace) font.embedded.base=$(font.monospace) font.embedded.comment=$(font.monospace) font.vbs=$(font.monospace) # numerowanie wierszy line.margin.visible=1 line.margin.width=3+ # ikonki toolbara z tematu systemowego toolbar.usestockicons=1 # zaznaczanie blokowe rectangular.selection.modifier=8 # ustawienia wgÅ‚Ä™bieÅ„ kodu indent.size=4 use.tabs=1 indent.automatic=1 WiÄ™cej opcji tutaj:Â http://www.scintilla.org/SciTEDoc.html
Sam pewnie jeszcze nie raz zaktualizujÄ™ ten wpis ðŸ˜„</description>
    </item>
    
    <item>
      <title>Empathy - zamykanie okienka chatu przyciskiem Escape</title>
      <link>https://timor.site/2011/12/empathy-zamykanie-okienka-chatu-przyciskiem-escape/</link>
      <pubDate>Fri, 30 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/12/empathy-zamykanie-okienka-chatu-przyciskiem-escape/</guid>
      <description>W Gajim&amp;rsquo;ie od dawna brakowaÅ‚o mi wygodnego przeszukiwania po liÅ›cie kontaktÃ³w (takiego jakie ma siÄ™ pojawiÄ‡ juÅ¼ niebawem w wersji 0.15 - z pÃ³Å‚tora roku juÅ¼ na to czekam&amp;hellip;). W miÄ™dzy czasie znalazÅ‚em chwilÄ™ by pobawiÄ‡ siÄ™ Empathy - brzydki, nie ma przeglÄ…darki usÅ‚ug XMPP, ale wyszukiwanie na rosterze jest dokÅ‚adnie takie jakiego szukaÅ‚em (w miarÄ™ wpisywania znakÃ³w zawÄ™Å¼a listÄ™ kontaktÃ³w by pasowaÅ‚y do wpisywanego wzorca).
Tyle Å¼e skrÃ³ty klawiaturowe w tym programie zwyczajnie mnie rozwalajÄ… - przez lata przyzwyczaiÅ‚em siÄ™ Å¼e okienka czatu moÅ¼na zamknÄ…Ä‡ Escape&amp;rsquo;m - a tutaj nawet nie ma opcji, ktÃ³ra pozwalaÅ‚a by na takÄ… zmianÄ™ zachowania.</description>
    </item>
    
    <item>
      <title>Automatyczne backupy w stylu snapshot z rsyncâ€™iem</title>
      <link>https://timor.site/2011/12/automatyczne-backupy-w-stylu-snapshot-z-rsynciem/</link>
      <pubDate>Thu, 29 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/12/automatyczne-backupy-w-stylu-snapshot-z-rsynciem/</guid>
      <description>MoÅ¼na znaleÅºÄ‡ wiele tutoriali jakimi narzÄ™dziami wykonywaÄ‡ backupy. W wiÄ™kszoÅ›ci przypadkÃ³w absolutnie wystarczajÄ…cy okaÅ¼e siÄ™ flexbackup. Bardziej wymagajÄ…cy wykorzystajÄ… BackupPC, BaculÄ™ lub AmandÄ™. NarzÄ™dzia te pozwalajÄ… wykonaÄ‡ kopie peÅ‚ne, rÃ³Å¼nicowe, przyrostowe - kompresujÄ…c je dla zaoszczÄ™dzenia miejsca.
Wszystko fajnie - ale problemy pojawiajÄ… siÄ™ przy dostÄ™pie do tych danych. Å»eby odzyskaÄ‡ plik zmodyfikowany dzisiaj trzeba rozpakowaÄ‡ najpierw kopiÄ™ peÅ‚nÄ…, potem rÃ³Å¼nicowÄ…, przyrostowÄ… by wreszcie wyciÄ…gnÄ…Ä‡ plik z wczoraj&amp;hellip; hmm ten teÅ¼ jest skopany.</description>
    </item>
    
    <item>
      <title>Konfiguracja modemu USB iPlus na urzÄ…dzeniach FortiGate</title>
      <link>https://timor.site/2011/12/konfiguracja-modemu-usb-iplus-na-urzadzeniach-fortigate/</link>
      <pubDate>Thu, 29 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/12/konfiguracja-modemu-usb-iplus-na-urzadzeniach-fortigate/</guid>
      <description>ZdarzyÅ‚o mi siÄ™ bawiÄ‡ sprzÄ™towymi Firewallami firmy Fortigate - chcÄ…c sprawdziÄ‡ dziaÅ‚anie pewnych funkcji potrzebowaÅ‚em uruchomiÄ‡ dwa/trzy pudeÅ‚ka na osobnych Å‚Ä…czach. PomysÅ‚ polegaÅ‚ na prÃ³bie zmuszenia pudeÅ‚ek do wspÃ³Å‚pracy z modemem iPlus na USB.
Drugim fajnym zastosowaniem tego triku jest moÅ¼liwoÅ›Ä‡ wykorzystania iPlusa jako &amp;ldquo;zapasowego Å‚Ä…cza&amp;rdquo; w przypadku awarii gÅ‚Ã³wnego.
DziÄ™ki pomocy inÅ¼yniera Fortigate szybko udaÅ‚o mi siÄ™ zebraÄ‡ potrzebne do dziaÅ‚ania parametry, ktÃ³re naleÅ¼y uruchomiÄ‡ poprzez command line (telnet/ssh).</description>
    </item>
    
    <item>
      <title>MySQL - Proste metody optymalizacji</title>
      <link>https://timor.site/2011/12/mysql-proste-metody-optymalizacji/</link>
      <pubDate>Thu, 29 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/12/mysql-proste-metody-optymalizacji/</guid>
      <description>WczeÅ›niej czy pÃ³Åºniej zawsze pojawiaÂ siÄ™ potrzeba zoptymalizowania naszej bazy MySQL. PrzedstawiÄ™ kilka zmian w konfiguracji, ktÃ³re powinny zwiÄ™kszyÄ‡ wydajnoÅ›Ä‡ w wiÄ™kszoÅ›ci przypadkÃ³w.
MyISAM -Â key_buffer_size NajprostszÄ… optymalizacjÄ… baz/tabel z mechanizmem MyISAM jest odpowiednie dobranie bufora na cache dla kluczy i indeksÃ³w (dane nigdy nie sÄ… cachowane). PoniÅ¼sze zapytanie pozwala oszacowaÄ‡ zalecany rozmiar cache&amp;rsquo;u:
SELECT CONCAT(ROUND(KBS/POWER(1024, IF(PowerOf1024&amp;lt;0,0,IF(PowerOf1024&amp;gt;3,0,PowerOf1024)))+0.4999), SUBSTR(&amp;#39; KMG&amp;#39;,IF(PowerOf1024&amp;lt;0,0, IF(PowerOf1024&amp;gt;3,0,PowerOf1024))+1,1)) recommended_key_buffer_size FROM (SELECT LEAST(POWER(2,32),KBS1) KBS FROM (SELECT SUM(index_length) KBS1 FROM information_schema.</description>
    </item>
    
    <item>
      <title>fail2ban - reguÅ‚ki dla dovecotâ€™a</title>
      <link>https://timor.site/2011/11/fail2ban-regulki-dla-dovecota/</link>
      <pubDate>Mon, 28 Nov 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/11/fail2ban-regulki-dla-dovecota/</guid>
      <description>DomyÅ›lna konfiguracja fail2ban&amp;rsquo;a (na Debianie) nie zawiera reguÅ‚ pozwalajÄ…cych na blokowanie prÃ³b wÅ‚amaÅ„ na skrzynki POP/IMAP dla dovecota (no chyba Å¼e korzystamy z saslauthd). MoÅ¼na szybko utworzyÄ‡ wÅ‚asny zestaw filtrÃ³w co przedstawiÄ™ poniÅ¼ej.
Tworzymy plik:Â /etc/fail2ban/filter.d/dovecot.conf
[Definition] failregex = (?: pop3-login|imap-login): .*(?:Authentication failure|Aborted login \(auth failed|Aborted login \(tried to use disabled|Disconnected \(auth failed|Aborted login \(\d+ authentication attempts).*rip=(?P&amp;lt;host&amp;gt;\S*),.* ignoreregex = PÃ³Åºniej dopisujemy na koÅ„cu pliku:Â /etc/fail2ban/jail.conf
[dovecot] enabled = true filter = dovecot port = pop3,pop3s,imap,imaps logpath = /var/log/mail.</description>
    </item>
    
    <item>
      <title>X-Forwarded-For &#43; mod_rpaf - logowanie rzeczywistych adresÃ³w IP na Apache za reverse proxy</title>
      <link>https://timor.site/2011/11/x-forwarded-for-mod_rpaf-logowanie-rzeczywistych-adresow-ip-na-apache-za-reverse-proxy/</link>
      <pubDate>Mon, 28 Nov 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/11/x-forwarded-for-mod_rpaf-logowanie-rzeczywistych-adresow-ip-na-apache-za-reverse-proxy/</guid>
      <description>Gdy juÅ¼ ustawimy reverse proxy przed Apache szybko moÅ¼na zauwaÅ¼yÄ‡ Å¼e w logach zamiast adresÃ³w IP zdalnych uÅ¼ytkownikÃ³w pojawia siÄ™ tylko jeden adres: adres naszego proxy. RÃ³wnieÅ¼ z poziomu php&amp;rsquo;a jako adres klienta widaÄ‡ IP naszego proxy.
By poradziÄ‡ sobie z tym problemem trzeba na serwerze reverse proxy ustawiÄ‡ przekazywanie informacji o oryginalnym adresie IP klienta w nagÅ‚Ã³wku X-Forwarded-For. W przypadku gdy reverse proxy dziaÅ‚a na nginx&amp;rsquo;e wystarczy dodaÄ‡ taki wpis:</description>
    </item>
    
    <item>
      <title>PorÃ³wnanie optymalizatorÃ³w PHP - eAccelerator, PHP APC, XCache</title>
      <link>https://timor.site/2011/11/porownanie-optymalizatorow-php-eaccelerator-php-apc-xcache/</link>
      <pubDate>Wed, 02 Nov 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/11/porownanie-optymalizatorow-php-eaccelerator-php-apc-xcache/</guid>
      <description>Przez pewien czas korzystaÅ‚em z eAcceleratora do przyspieszenia dziaÅ‚ania stron pisanych w PHP&amp;rsquo;ie ale czasem bywaÅ‚ niestabilny. Aktualizacje pojawiaÅ‚y siÄ™ rzadko a od czasu do czasu miewaÅ‚em problemy ze stabilnoÅ›ciÄ… tej wtyczki na kilku bardziej skomplikowanych aplikacjach. ZdarzaÅ‚o siÄ™ Å¼e pomimo zmiany kodu w skrypcie php, eAccelerator serwowaÅ‚ wciÄ…Å¼ stary plik - konieczny byÅ‚ restart Apache&amp;rsquo;go by wszystko dziaÅ‚aÅ‚o jak trzeba.
ZaczÄ…Å‚em szukaÄ‡ alternatywy i trafiÅ‚em na dwa moduÅ‚y:
APC (czyli Alternative PHP Cache), ktÃ³ry ma byÄ‡ nawet domyÅ›lnie wbudowany w PHP od wersji 5.</description>
    </item>
    
    <item>
      <title>SLES 11 - instalacja Service Packâ€™a</title>
      <link>https://timor.site/2011/10/sles-11-instalacja-service-packa/</link>
      <pubDate>Thu, 20 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/10/sles-11-instalacja-service-packa/</guid>
      <description>AdministrowaÅ‚em do tej pory gÅ‚Ã³wnie darmowymi distro, ale gdzieÅ› tam ukradkiem wkradÅ‚o siÄ™ kilka &amp;ldquo;siusiakÃ³w&amp;rdquo; (aka SUSE Linux Enterprise Server). Å»yÅ‚em w utopijnym przekonaniu Å¼e skoro siÄ™ za nie pÅ‚aci to powinno siÄ™ z nimi Å‚atwiej wspÃ³Å‚pracowaÄ‡&amp;hellip; w przypadku instalacji aktualizacji (a w szczegÃ³lnoÅ›ci SP) nie byÅ‚o to aÅ¼ takie proste.
PrzywykÅ‚em w darmowych dystrybucjach Å¼e gdy pojawiaÅ‚a siÄ™ nowszÄ… &amp;ldquo;wiÄ™ksza wersja&amp;rdquo; to po prostu moÅ¼na byÅ‚o jednym poleceniem zaktualizowaÄ‡ wszystkie pakiety.</description>
    </item>
    
    <item>
      <title>Ochrona usÅ‚ug przed atakami brute force z fail2banâ€™em</title>
      <link>https://timor.site/2011/10/ochrona-uslug-przed-atakami-brute-force-z-fail2banem/</link>
      <pubDate>Mon, 03 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/10/ochrona-uslug-przed-atakami-brute-force-z-fail2banem/</guid>
      <description>Bardzo czÄ™sto konfigurujÄ…c usÅ‚ugi dostÄ™pne publicznie poÅ›wiÄ™ca siÄ™ sporo czasu na maksymalne zwiÄ™kszenie bezpieczeÅ„stwa przez &amp;ldquo;dopieszczanie&amp;rdquo; konfiguracji (certyfikaty z mocnym szyfrowaniem, ochronÄ™ pewnych stron hasÅ‚em, dostÄ™p do SSH tylko kluczami, itd.) ale caÅ‚kowicie pomija siÄ™ przygotowanie systemu aktywnie monitorujÄ…cego bÅ‚Ä™dne prÃ³by autoryzacji. OczywiÅ›cie nie moÅ¼na umniejszaÄ‡ wagi pierwszego z wymienionych etapÃ³w ale zdecydowanie nie powinno pomijaÄ‡ siÄ™ teÅ¼ tego drugiego. PrzecieÅ¼ kaÅ¼dy admin chciaÅ‚by wiedzieÄ‡ gdy ktoÅ› prÃ³buje wÅ‚amaÄ‡ siÄ™ na jego serwer (FTP, HTTP, SSH, itp.</description>
    </item>
    
    <item>
      <title>pflogsumm - statystyki poczty dla postfixâ€™a</title>
      <link>https://timor.site/2011/09/pflogsum-statystyki-poczty-dla-postfixa/</link>
      <pubDate>Thu, 22 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/09/pflogsum-statystyki-poczty-dla-postfixa/</guid>
      <description>JeÅ¼eli administrujesz nawet nieduÅ¼ym serwerem pocztowym na pewno masz Å›wiadomoÅ›Ä‡, Å¼e nie jesteÅ› w stanie monitorowaÄ‡ logÃ³w na bieÅ¼Ä…co. CiÄ™Å¼ko jest wyÅ‚apaÄ‡ np. problem w komunikacji z pewnÄ… domenÄ…. CiÄ™Å¼ko teÅ¼ oszacowaÄ‡ skalÄ™ ruchu na serwerze zarÃ³wno pod kÄ…tem iloÅ›ci jak i wolumenu maili. Trudno wybraÄ‡ domeny, dla ktÃ³rych warto by zrezygnowaÄ‡ z greylistingu, itd, itp&amp;hellip;
Na szczÄ™Å›cie dostÄ™pne jest narzÄ™dzie pflogsumm, ktÃ³re wygeneruje nam doÅ›Ä‡ wyczerpujÄ…ce statystyki z logÃ³w postfix&amp;rsquo;a.</description>
    </item>
    
    <item>
      <title>fsck.ext4 - BÅ‚Ä…d podczas przydzielania struktury icount: Memory allocation failed</title>
      <link>https://timor.site/2011/09/fsck-ext4-blad-podczas-przydzielania-struktury-icount-memory-allocation-failed/</link>
      <pubDate>Wed, 21 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/09/fsck-ext4-blad-podczas-przydzielania-struktury-icount-memory-allocation-failed/</guid>
      <description>MiaÅ‚em ostatnio dziwnÄ… przygodÄ™: pewien serwer do backupu gdzie lÄ…duje duÅ¼o maÅ‚ych plikÃ³w i dodatkowo tworzonych jest sporo hardlinkÃ³w zaliczyÅ‚ pada. Co prawda staraÅ‚em siÄ™ go grzecznie poÅ‚oÅ¼yÄ‡ z pomocÄ… Magic SysRq ale poniewaÅ¼ nie wiedziaÅ‚em co byÅ‚o przyczynÄ… awarii fsck wydawaÅ‚ siÄ™ wskazany.
Podczas prÃ³by uruchomienia fsck.ext4 na systemie plikÃ³w o rozmiarze ok 14TB z kilkuset milionami plikÃ³w po kilkudziesiÄ™ciu sekundach otrzymywaÅ‚em komunikat:
BÅ‚Ä…d podczas przydzielania struktury icount: Memory allocation failed</description>
    </item>
    
    <item>
      <title>Magic SysRq - bezpieczny reset Linuxâ€™a</title>
      <link>https://timor.site/2011/09/magic-sysrq-bezpieczny-reset-linuxa/</link>
      <pubDate>Sat, 17 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/09/magic-sysrq-bezpieczny-reset-linuxa/</guid>
      <description>Pomimo iÅ¼ Linux uchodzi za stabilne Å›rodowisko to raz na jakiÅ› czas trafi siÄ™ ciÄ™Å¼ka zwiecha - z powodu przeciÄ…Å¼enia, awarii sprzÄ™tu&amp;hellip; nieistotne&amp;hellip;
ZaÅ‚Ã³Å¼my Å¼e licho wziÄ™Å‚o za cel gÅ‚Ã³wny serwer plikÃ³w lub bazÄ™ danych dla wielu, wielu stron internetowych. DostaÄ‡ siÄ™ po ssh nie moÅ¼emy bo lecÄ… timeout&amp;rsquo;y, a siedzÄ…c bezpoÅ›rednio przy klawiaturze konsola nie reaguje. Mimo to coÅ› ostro daje po dyskach, wiÄ™c ewentualny twardy reset to na bank utrata czÄ™Å›ci plikÃ³w&amp;hellip; jeÅ›li system po nim w ogÃ³le wstanie&amp;hellip; ðŸ˜‘</description>
    </item>
    
    <item>
      <title>approx - cachujÄ…ce proxy dla repozytoriÃ³w Debiana</title>
      <link>https://timor.site/2011/09/approx-cachujace-proxy-dla-repozytoriow-debiana/</link>
      <pubDate>Fri, 16 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/09/approx-cachujace-proxy-dla-repozytoriow-debiana/</guid>
      <description>Wielu administratorÃ³w gdy zaczyna swojÄ… przygodÄ™ zarzÄ…dza jednÄ…/dwoma maszynami&amp;hellip; Po pewnym czasie jest ich juÅ¼ kilka&amp;hellip; W ktÃ³rymÅ› momencie dostrzega siÄ™ zalety wirtualizacji i na kilku maszynach fizycznych dziaÅ‚a kilkanaÅ›cie czy kilkadziesiÄ…t maszyn wirtualnych. W takiej sytuacji pobieranie aktualizacji dla wszystkich maszyn potrafi mocno zabiÄ‡ Å‚Ä…cze.
I w tym momencie zaczynamy siÄ™ zastanawiaÄ‡ czy moÅ¼e nie warto byÅ‚oby zrobiÄ‡ wÅ‚asnego mirror&amp;rsquo;a paczek dla naszego ulubionego distro&amp;hellip; do prywatnego uÅ¼ytku&amp;hellip; synchronizowanego w nocy by nikomu nie przeszkadzaÄ‡&amp;hellip; i dostÄ™pnego nawet gdy bÄ™dziemy offline&amp;hellip; Zaczynamy liczyÄ‡ miejsce i okazuje siÄ™ Å¼e repozytorium Debiana dla architektury i386 to prawie 60GB (sic!</description>
    </item>
    
    <item>
      <title>Wymuszenie zwolnienia pamiÄ™ci buforÃ³w dyskowych na Linuxâ€™ie</title>
      <link>https://timor.site/2011/09/wymuszenie-zwolnienia-pamieci-buforow-dyskowych-na-linuxie/</link>
      <pubDate>Thu, 15 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/09/wymuszenie-zwolnienia-pamieci-buforow-dyskowych-na-linuxie/</guid>
      <description>Linux bardzo agresywnie wykorzystuje wolnÄ… pamiÄ™Ä‡ RAM do buforowania danych odczytywanych z dyskÃ³w (inode&amp;rsquo;Ã³w, plikÃ³w, itd&amp;hellip;). Ma to niebagatelny wpÅ‚yw na zwiÄ™kszenie szybkoÅ›ci uruchamiania programÃ³w ktÃ³re juÅ¼ raz zostaÅ‚y uruchomione. Jednak nie zawsze jest to poÅ¼Ä…dane zachowanie, np. testujÄ…c szybkoÅ›Ä‡ uruchomienia/wykonywania tworzonej przez nas aplikacji - buforowanie zmienia czas Å‚adowania aplikacji przy kolejnych uruchomieniach.Â Dobrze byÅ‚oby mÃ³c wymusiÄ‡ zwolnienie buforÃ³w by kaÅ¼dy start programu miaÅ‚ porÃ³wnywalne &amp;ldquo;warunki startowe&amp;rdquo;.
Na szczÄ™Å›cie moÅ¼na to zrobiÄ‡ w prosty sposÃ³b:</description>
    </item>
    
    <item>
      <title>Zabezpieczenie Apachego na Debianie przed slowlorisâ€™em</title>
      <link>https://timor.site/2011/09/zabezpieczenie-apachego-na-debianie-przed-slowlorisem/</link>
      <pubDate>Mon, 12 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/09/zabezpieczenie-apachego-na-debianie-przed-slowlorisem/</guid>
      <description>Od jakiegoÅ› czasu dostÄ™pny jest w sieci skrypt slowloris.plÂ pozwalajÄ…cy z pojedynczego komputera wykonaÄ‡ atak DOS na zdalny serwer WWW. Atak polega na uruchomieniu wielu rÃ³wnoczesnych sesji i bardzo wolnym wysyÅ‚aniu komunikatÃ³w HTTP. AtakujÄ…cy udaje &amp;ldquo;klienta z wolnym Å‚Ä…czem&amp;rdquo; rÃ³wnoczeÅ›nie uruchamiajÄ…c kolejne sesje by po pewnym czasie zajÄ…Ä‡ wszystkie dostÄ™pne. Serwer WWW przestaje wtedy odpowiadaÄ‡ na zapytania od innych klientÃ³w. Dodatkowo na Åºle wyskalowanych serwerach duÅ¼a liczba procesÃ³w Apachego moÅ¼e spowodowaÄ‡ swapowanie i bÅ‚Ä™dy braku pamiÄ™ci.</description>
    </item>
    
    <item>
      <title>Sprawdzenie ktÃ³ry proces obciÄ…Å¼a dyski</title>
      <link>https://timor.site/2011/09/sprawdzenie-ktory-proces-obciaza-dyski/</link>
      <pubDate>Fri, 02 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/09/sprawdzenie-ktory-proces-obciaza-dyski/</guid>
      <description>Na jednym z serwerÃ³w zauwaÅ¼yÅ‚em dziwny wzrost obciÄ…Å¼enia. Tzw. LOAD od kilku dni po woli rÃ³sÅ‚. top pokazywaÅ‚ Å¼e dwa rdzenie CPU czekajÄ… na dane z dysku - tzw. io wait na poziomie 80~90% ale Å¼aden proces w znaczÄ…cym stopniu nie obciÄ…Å¼aÅ‚ CPU.
Jest kilka narzÄ™dzi (iostat, wmstat), ktÃ³re pozwalajÄ… monitorowaÄ‡ obciÄ…Å¼enie dyskÃ³w ale ja nie szukaÅ‚em informacji czy i w jakim stopniu dyski sÄ… obciÄ…Å¼one - wiedziaÅ‚em Å¼e sÄ…. ChciaÅ‚em dowiedzieÄ‡ siÄ™ ktÃ³ry proces generuje to obciÄ…Å¼enie - by mÃ³c go ubiÄ‡ ðŸ˜ƒ</description>
    </item>
    
    <item>
      <title>JPGraph, wykresy z PHPâ€™a</title>
      <link>https://timor.site/2011/08/jpgraph-wykresy-z-phpa/</link>
      <pubDate>Mon, 29 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/jpgraph-wykresy-z-phpa/</guid>
      <description>Onego czasu prÃ³bowaÅ‚em znaleÅºÄ‡ coÅ› co uÅ‚atwiÅ‚oby mi rysowanie prostych wykresÃ³w wÂ PHP&amp;rsquo;ie inaczej niÅ¼ zÂ palca wÂ GD. Kumpel poleciÅ‚ miÂ JPGraph.
JPGraph to Å›wietna sprawa, do generowania statystyk jak chociaÅ¼by na mojejÂ stronie, ale biblioteka potrafi duÅ¼o wiÄ™cej&amp;hellip;
ZaÅ‚Ã³Å¼my, Å¼e ze stronki zbieramy do bazy takie rzeczy jak: datÄ™, adres IP, iloÅ›Ä‡ poÅ‚Ä…czeÅ„ zÂ tego adresu. Prosta tabela (przykÅ‚ad wÂ Postgre SQL&amp;rsquo;u):
CREATE TABLE wizyty ( pid serial NOT NULL, &amp;#34;data&amp;#34; date NOT NULL DEFAULT (&amp;#39;now&amp;#39;::text)::date, odslony integer NOT NULL DEFAULT 1, CONSTRAINT visits_pkey PRIMARY KEY (id) ); Dane zÂ takiej tabeli moÅ¼na Å‚atwo wyciÄ…gnÄ…Ä‡ jednym select&amp;rsquo;em:</description>
    </item>
    
    <item>
      <title>Konfiguracja backportÃ³w na Debianie</title>
      <link>https://timor.site/2011/08/konfiguracja-backportow-na-debianie/</link>
      <pubDate>Mon, 29 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/konfiguracja-backportow-na-debianie/</guid>
      <description>Tak siÄ™ skÅ‚ada, Å¼eÂ DebianÂ ze wzglÄ™du na stosunkowo rzadkie wydawanie kolejnych wersji szybko staje siÄ™ niezbyt Å›wieÅ¼y a dostÄ™pne wÂ nim pakiety czÄ™sto nie speÅ‚aniajÄ… naszych oczekiwaÅ„. Nie ma najnowszej wersjiÂ Subversion&amp;hellip; Nie maÂ mod_securityÂ itd, itp&amp;hellip;
RozwiÄ…zaniem tego problemu moÅ¼e byÄ‡ instalacja pakietÃ³w zÂ testowej gaÅ‚Ä™zi ale moÅ¼na polec na zaleÅ¼noÅ›ciach. MoÅ¼na teÅ¼ kompilowaÄ‡ ze ÅºrÃ³deÅ‚&amp;hellip; Tak czy siak w obu przypadkach aktualizacja iÂ utrzymanie tak zmodyfikowanego systemu byÅ‚oby jak wrzÃ³d na zadku.</description>
    </item>
    
    <item>
      <title>Optymalizacja PHP z eAcceleratorâ€™em</title>
      <link>https://timor.site/2011/08/optymalizacja-php-z-eacceleratorem/</link>
      <pubDate>Mon, 29 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/optymalizacja-php-z-eacceleratorem/</guid>
      <description>Przy okazji wykonywania kilku drobnych optymalizacji swojej stronki natknÄ…Å‚em siÄ™ naÂ eAccelerator&amp;rsquo;a. Ciekawy projekt, ktÃ³ry wÂ sposobie dziaÅ‚ania przypomina Zend Optimizer&amp;rsquo;a ale ma jednÄ… zasadniczÄ… zaletÄ™ - jest darmowy ðŸ˜ƒ
Niestety nie ma go wÂ repozytoriach Debiana, wiÄ™c trzeba go sobie skompilowaÄ‡ - caÅ‚y proces jest doÅ›Ä‡ prosty. Zaczynamy od pobrania najÅ›wieÅ¼szej paczki, obecnie jest to wersja 0.9.5.3:
Pobierz eAcceleratorÂ (ostatnio miaÅ‚em problem z tym linkiem wiÄ™c proponujÄ™ pogooglaÄ‡)
Pobieramy iÂ rozpakowujemy pliki:</description>
    </item>
    
    <item>
      <title>Statystyki odwiedzin dla wielu serwisÃ³w z AWStats</title>
      <link>https://timor.site/2011/08/statystyki-odwiedzin-dla-wielu-serwisow-z-awstats/</link>
      <pubDate>Mon, 29 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/statystyki-odwiedzin-dla-wielu-serwisow-z-awstats/</guid>
      <description>Co prawda na swojej stronie zrobiÅ‚em kilka podstawowych statystyk iÂ coÅ› tam sobie logujÄ™ do bazy danych, ale gdyby siÄ™ chwilÄ™ zastanowiÄ‡ to przecieÅ¼ to samo robi serwerÂ wwwÂ - wrzuca do logÃ³w kaÅ¼de zapytanieÂ HTTP, kod bÅ‚Ä™du, nazwÄ™ agenta, itd. Dublowanie tych danych nie jest najbardziej optymalne.
StÄ…d teÅ¼ chwilÄ™ pogooglaÅ‚em iÂ znalazÅ‚em Å›wietnyÂ Open Source&amp;rsquo;owy projekt:Â AWStats, ktÃ³ry jest webowym analizatorem logÃ³w dla serwerÃ³wÂ HTTP,Â FTPÂ iÂ SMTP.</description>
    </item>
    
    <item>
      <title>Certyfikaty SelfSigned</title>
      <link>https://timor.site/2011/08/certyfikaty-selfsigned/</link>
      <pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/certyfikaty-selfsigned/</guid>
      <description>Certyfikaty oparte oÂ SSL stanowiÄ… obecnie podstawÄ™ bezpieczeÅ„stwa wielu usÅ‚ug sieciowych zaczynajÄ…c odÂ HTTP, przez POPS, IMAPS, itd&amp;hellip; Niestety zakupienie certyfikatu wÂ organizacjach jak VeriSgin czy Thawte jest doÅ›Ä‡ kosztowe, aÂ jeÅ¼eli potrzebujemy kilka certyfikatÃ³w to czÄ™sto na lokalne potrzeby jest to po prostu nie opÅ‚acalne.
Postaram siÄ™ przedstawiÄ‡ wersjÄ™ &amp;ldquo;ekonomicznÄ…&amp;rdquo; certyfikacji ðŸ˜ƒ
Generowanie Certificate Signing Request Pierwszym etapem generowania certyfikatu jest przygotowanieÂ Certificate Signing Request, czyli czegoÅ› wÂ rodzaju &amp;ldquo;proÅ›by&amp;rdquo; oÂ certyfikat.</description>
    </item>
    
    <item>
      <title>Dynamiczne IP i RBLâ€™e</title>
      <link>https://timor.site/2011/08/dynamiczne-ip-i-rble/</link>
      <pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/dynamiczne-ip-i-rble/</guid>
      <description>MÃ³j serwer pocztowy dziaÅ‚a od jakiegoÅ› czasu na dynamicznym IP (dobre bo tanie&amp;hellip;) iÂ przewaÅ¼nie nie ma zÂ tym problemÃ³w. PostaraÅ‚em siÄ™ jak mogÅ‚em ustawiajÄ…c SPF&amp;rsquo;a iÂ DomainKeys aby uwiarygodniÄ‡ go uÂ wiÄ™kszych dostawcÃ³w poczty.
Niestety wszystko to diabli biorÄ… wÂ momencie gdy wygasa mi leasseÂ DHCPÂ iÂ dostajÄ™ nowe IP po jakimÅ› spamerze/zombiaku. Wisi takie wÂ 2-3 wiÄ™kszychÂ RBL&amp;rsquo;ach iÂ o dostarczaniu poczty moÅ¼na zapomnieÄ‡. MiÅ‚o gdy jeszcze zdalnyÂ MTAÂ zechce odesÅ‚aÄ‡ zwrotkÄ™ &amp;ldquo;zrÃ³bta coÅ› bo wisisz wÂ RBL&amp;rsquo;u takim aÂ takim&amp;hellip;&amp;rdquo;, ale zdecydowania niefajnie gdy wysyÅ‚asz pocztÄ™ aÂ ona od razu leci do /dev/null rblcheck PoszperaÅ‚em trochÄ™ iÂ znalazÅ‚em fajne narzÄ™dzie akaÂ rblcheck, ktÃ³re sprawdza domyÅ›lnie kilkaÂ RBL&amp;rsquo;i.</description>
    </item>
    
    <item>
      <title>Klastrowanie sesji PHP z memcached</title>
      <link>https://timor.site/2011/08/klastrowanie-sesji-php-z-memcached/</link>
      <pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/klastrowanie-sesji-php-z-memcached/</guid>
      <description>Klastrowanie to moÅ¼e zbyt dumnie powiedziane. RozwiÄ…zanie to wyszukaÅ‚em gdy chcÄ…c skonfigurowaÄ‡ dwa serweryÂ apacheÂ do wspÃ³Å‚pracy na rzecz jednego serwisu okazaÅ‚o siÄ™, Å¼e sejse trzymane sÄ… tylko przez jeden serwer aÂ drugi nic oÂ nich nie wie. To oczywiÅ›cie nie pozwalaÅ‚o na prawidÅ‚owe dziaÅ‚anie jakiegokolwiek serwisu korzystajÄ…cego zÂ sesji.
PomysÅ‚ jest taki, Å¼e zastÄ™pujemy domyÅ›ny mechanizm przechowywania sesji wÂ plikach na dysku mechanizmem memcache. PoniewaÅ¼Â memcachedÂ dziaÅ‚a jako usÅ‚uga sieciowa, rÃ³Å¼ne serwery mogÄ… siÄ™ odwoÅ‚ywaÄ‡ do puliÂ memcachedÂ iÂ odczytywaÄ‡ zapisane wÂ niej dane.</description>
    </item>
    
    <item>
      <title>MySQL - dostÄ™p zdalny na szybko</title>
      <link>https://timor.site/2011/08/mysql-na-szybko/</link>
      <pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/mysql-na-szybko/</guid>
      <description>Instalacja serweraÂ MySQLÂ na Debianie jest niezwykle prosta iÂ sprowadza siÄ™ do jednego polecenia:
sudo apt-get install mysql-server Polecenie to zainstaluje iÂ uruchomi usÅ‚ugÄ™ serwerowÄ…Â MySQL. WÂ czasie instalacji bÄ™dziemy proszeni oÂ podanie hasÅ‚a dla root&amp;rsquo;a (ktÃ³re oczywiÅ›cie dobrze jest zapamiÄ™taÄ‡ bÄ…dÅº zapisaÄ‡).
Tak zainstalowana baza nasÅ‚uchuje na lokalnym porcie (localhost:3306) umoÅ¼liwiajÄ…Ä‡ dostÄ™p wyÅ‚Ä…cznie root&amp;rsquo;owi. Jest to bardzo bezpieczna konfiguracja&amp;hellip; Ale jeÅ›li nie mamy zamiaru na tej samej maszynie instalowaÄ‡ oprogramowania zarzÄ…dzajÄ…cego to nie zawsze jest to wygodne, tym bardziej gdy przykÅ‚adowo mamy dziaÅ‚ajÄ…cego phpmyadmin&amp;rsquo;a na jakimÅ› serwerzeÂ www.</description>
    </item>
    
    <item>
      <title>Quota na katalog w XFSâ€™ie</title>
      <link>https://timor.site/2011/08/quota-na-katalog-w-xfsie/</link>
      <pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/quota-na-katalog-w-xfsie/</guid>
      <description>WiÄ™kszoÅ›Ä‡ systemÃ³w plikÃ³w wÂ linuksie pozwala na ustawienie quoty na dwÃ³ch poziomach: na uÅ¼ytkownika lub na grupÄ™ uÅ¼ytkownikÃ³w. WÂ wielu przypadkach taki podziaÅ‚ jest sensowny iÂ wystarczajÄ…cy. Ale zdarzajÄ… siÄ™ scenariusze, wÂ ktÃ³rych to za maÅ‚o.
Dobrym przykÅ‚adem jest serwerÂ FTPÂ zÂ wirtualnymi kontami uÅ¼ytkownikÃ³w. Czyli usÅ‚uga serwera dziaÅ‚a jako pewien nieuprzywilejowany uÅ¼ytkownik systemowy (przewaÅ¼nie ftp) przypisany do nieuprzywilejowanej grupy (np. nogroup). Konta uÅ¼ytkownikÃ³w serweraÂ FTPÂ sÄ… zdefiniowane wÂ bazie danych lub serwerzeÂ LDAP.</description>
    </item>
    
    <item>
      <title>WÅ‚am na lokalne konto rootâ€™a</title>
      <link>https://timor.site/2011/08/wlam-na-lokalne-konto-roota/</link>
      <pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/wlam-na-lokalne-konto-roota/</guid>
      <description>JeÅ¼eli tu zaglÄ…dasz pewnie zdarzyÅ‚o Ci siÄ™ kiedyÅ›, Å¼e przykÅ‚adowo wygrzebujesz jakiÅ› stary serwer iÂ nie masz pojÄ™cia co na nim byÅ‚o, ani do czego sÅ‚uÅ¼yÅ‚o, czy jeszcze dziaÅ‚a&amp;hellip; Albo jeszcze inaczej - serwer dziaÅ‚aÅ‚ tak dÅ‚ugo, Å¼e wszystkie osoby znajÄ…ce hasÅ‚o na root&amp;rsquo;a przeszÅ‚y na emeryturÄ™ lub zmarÅ‚y&amp;hellip; Nieistotne ðŸ˜ƒ
Jest pewna prosta sztuczka, pozwalajÄ…ca wbiÄ‡ siÄ™ na konto root&amp;rsquo;a nie znajÄ…c hasÅ‚a - dajÄ…c nam moÅ¼liwoÅ›Ä‡ jego zmiany. PotrzebneÂ dwa restartyÂ ale za to nie trzeba korzystaÄ‡ zÂ Å¼adnychlive cd.</description>
    </item>
    
    <item>
      <title>WysyÅ‚anie zaÅ‚Ä…cznikÃ³w poleceniem mail</title>
      <link>https://timor.site/2011/08/wysylanie-zalacznikow-poleceniem-mail/</link>
      <pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/2011/08/wysylanie-zalacznikow-poleceniem-mail/</guid>
      <description>KiedyÅ› potrzebowaÅ‚em wÂ ramach testu obciÄ…Å¼eniowego wysÅ‚aÄ‡ duÅ¼o wiadomoÅ›ci zÂ zaÅ‚Ä…cznikami. ChciaÅ‚em to zrobiÄ‡ na szybko zÂ shell&amp;rsquo;a iÂ tutaj chwilÄ™ musiaÅ‚em pogooglaÄ‡ aby znaleÅºÄ‡ dziaÅ‚ajÄ…ce polecenie. To co znalazÅ‚em wyglÄ…da tak:
(echo &amp;#34;testowa wiadomosc&amp;#34;; uuencode test.zip test.zip) \ | mail -s &amp;#34;Test&amp;#34; testowy@mail.pl WiedzÄ…c juÅ¼ jak wysyÅ‚aÄ‡ maile zÂ zaÅ‚Ä…cznikami, maÅ‚y mail bombing mogÅ‚em zrobiÄ‡ tak:
for i in `seq 1 100`; do (cat tekst.txt; uuencode test.zip test.zip) \ | mail -s &amp;#34;Test $i&amp;#34; testowy@mail.</description>
    </item>
    
    <item>
      <title>Few words about me</title>
      <link>https://timor.site/about/</link>
      <pubDate>Fri, 26 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>https://timor.site/about/</guid>
      <description>My name is Tomasz GÄ…gor, for some people known as TiMoR.
I&amp;rsquo;m passionate day to day DevOps practitioner. I enjoy anything Linux driven, especially containerised web services. Security freak who loves to work with, managing, scaling Cloud systems.
I&amp;rsquo;m generalist, touched many, strange topic across my career. I used to speak with DBAs about advantages of one DB engine over the another and how to tune them for better performance. With Network guys, it happen to me to debug IKE proto by raw packets.</description>
    </item>
    
    
    
  </channel>
</rss>
