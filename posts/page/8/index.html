<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Tom's Blog</title><meta name=keywords content><meta name=description content="posts | tom's blog"><meta name=author content="timor"><link rel=canonical href=https://gagor.pl/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.93a7bb0e4037b10e2d13ecb5a064edb636bd4156dfce17bfbd5115c4fce2d166.css integrity="sha256-k6e7DkA3sQ4tE+y1oGTttja9QVbfzhe/vVEVxPzi0WY=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pl/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pl/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pl/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pl/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pl/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gagor.pl/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-4TQXK4C4W5"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4TQXK4C4W5",{anonymize_ip:!1})}</script><meta property="og:title" content="Posts"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://gagor.pl/posts/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://gagor.pl/posts/"}]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pl accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pl/favicon-72x72.png alt aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pl/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pl/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pl/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pl/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pl/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pl>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Checking memcached status</h2></header><div class=entry-content><p>I need to check memory usage of memcached server so I used:
echo stats | nc 127.0.0.1 11211 STAT pid 2743 STAT uptime 263 STAT time 1395438951 STAT version 1.4.13 STAT pointer_size 64 STAT rusage_user 0.482926 STAT rusage_system 2.675593 STAT curr_items 8667 STAT total_items 10742 STAT bytes 23802513 STAT curr_connections 296 STAT total_connections 399 STAT connection_structures 297 STAT cmd_flush 0 STAT cmd_get 52578 STAT cmd_set 10792 STAT get_hits 28692 STAT get_misses 23886 STAT evictions 0 STAT bytes_read 35984361 STAT bytes_written 192647437 STAT limit_maxbytes 536870912 STAT threads 2 STAT accepting_conns 1 STAT listen_disabled_num 0 STAT replication MASTER STAT repcached_qi_free 8189 STAT repcached_wdata 0 STAT repcached_wsize 1026048 END For me, bytes value was important but you could find more about all statistics here....</p></div><footer class=entry-footer><span title='2014-03-21 00:00:00 +0000 UTC'>2014-03-21</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Checking memcached status" href=https://gagor.pl/2014/03/checking-memcached-status/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Postfix - automatically drop outbound mail</h2></header><div class=entry-content><p>I have development server with postfix - I wanted to allow outbound traffic to one domain but cut off all the rest. I definitely do not want that test mail or any debug info goes to service users.
I have to add something like that to /etc/postfix/transport:
allowed.domain.com : * discard: Then run:
postmap /etc/postfix/transport At end, add these to /etc/postfix/main.cf:
transport_maps = hash:/etc/postfix/transport Reload postfix:
postfix reload Test if it works:...</p></div><footer class=entry-footer><span title='2014-03-18 00:00:00 +0000 UTC'>2014-03-18</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Postfix - automatically drop outbound mail" href=https://gagor.pl/2014/03/postfix-automatically-drop-outbound-mail/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Ansible - ssh pipelining</h2></header><div class=entry-content><p>In recent Ansible update to 1.5 version there is really nice feature ssh pipelining. This option is serious alternative to accelerated mode.
Just add to you config file (ex. ~/.ansible.cfg):
[ssh_connection] pipelining=True Now run any playbook - you will see the difference 😄
Source (and extended info about):
http://blog.ansibleworks.com/2014/01/15/ssh-connection-upgrades-coming-in-ansible-1-5/</p></div><footer class=entry-footer><span title='2014-03-04 00:00:00 +0000 UTC'>2014-03-04</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Ansible - ssh pipelining" href=https://gagor.pl/2014/03/ansible-ssh-pipelining/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Chrusty, faworki</h2></header><div class=entry-content><p>To najlepszy przepis na chrusty jaki znam - wychodzą bardzo kruche i delikatne.
Składniki 4 zółtka, 4 łyżki wina białego lub czerwonego, 4 łyżki mąki. Sposób przygotowania Wszystkie składniki wymieszać i wyrobić. Ciasto powinno być mniej wiecej takie jak na pierogi. Bić pałką/wałkiem, składać na pół i tak kilka razy przez ok 5 minut. Potem ciasto rozwałkować bardzo cieniutko i wykrawać chrusty, małe bo mocno rosną. Następnie wrzucać na rozgrzany olej/smalec....</p></div><footer class=entry-footer><span title='2014-02-26 00:00:00 +0000 UTC'>2014-02-26</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Chrusty, faworki" href=https://gagor.pl/2014/02/chrusty-faworki/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Comparing two lists in bash</h2></header><div class=entry-content><p>I had quite simple task - compare two lists of hosts and check if hosts from first one are also on the second one. I started with diff:
diff -u biglist.txt hosts_to_check.txt | grep -E "^\+" It was fine but output needs some filtering to get what I want.
I’ve found another example with grep:
grep -Fxv -f biglist.txt hosts_to_check.txt | sort -n This will search for all lines in hosts_to_check....</p></div><footer class=entry-footer><span title='2014-02-18 00:00:00 +0000 UTC'>2014-02-18</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Comparing two lists in bash" href=https://gagor.pl/2014/02/comparing-two-lists-in-bash/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Change default WSUS port from 8530 to 80 on Windows Server 2012</h2></header><div class=entry-content><p>After WSUS installing on Windows Server 2012 I discovered that it’s running on port 8530, different than on older version of Windows (it was using port 80 from beginning). But what’s more interesting it was running ONLY on IPv6 interface! Switching binding configuration in IIS doesn’t help.
I could stand switching port - it’s nothing hard with GPO, but IPv6 only configuration was not acceptable.
After googling for some time I found one command that solved my problems by switching WSUS to older behavior and run it on port 80 (on default website)....</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Change default WSUS port from 8530 to 80 on Windows Server 2012" href=https://gagor.pl/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Debian - Upgrade MySQL to MariaDB</h2></header><div class=entry-content><p>After reading some good opinions about MariaDB I wanted to give it a try. Upgrade looks quite straight forward but I found some issues a little tricky.
Installation Add repo and key:
cat > /etc/apt/sources.list &lt;&lt;SRC deb http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main deb-src http://mirrors.supportex.net/mariadb/repo/5.5/debian wheezy main SRC (find more repositories here)
Now install MariaDB:
sudo apt-get update sudo apt-get install mariadb-server It could be better to install mariadb-server-5.5 and mariadb-client-5.5 package instead, because of this error....</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Debian - Upgrade MySQL to MariaDB" href=https://gagor.pl/2014/01/debian-upgrade-mysql-to-mariadb/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Nginx - enabling SPDY with freeware certificate</h2></header><div class=entry-content><p>I was thinking about allowing access to my website using SPDY protocol for better performance and security (and for fun of course 😃 ). But SPDY have one disadvantage - you need SSL certificate signed by known authority that will verfiy in common browsers. So you can’t use self signed certificates because everyone will see a warning entering your site. Certs are quite expensive so I started searching for free one and to my surprise I found such!...</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Nginx - enabling SPDY with freeware certificate" href=https://gagor.pl/2014/01/nginx-enabling-spdy-with-freeware-certificate/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Searching for better code editor</h2></header><div class=entry-content><p>I’ve been using different code editors for different purposes. Gedit was fine for small scripts but not for bigger projects. It lacks intelligent code completion (function/class names, etc.). I was searching for convenient editor for Python, Perl, Ruby with support for frameworks like Django, Rails, etc. I know Sublime Text - but it’s paid. There is LimeText - open source clone, but it’s not ready to be used on daily basics....</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Searching for better code editor" href=https://gagor.pl/2014/01/searching-for-better-code-editor/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Manage Windows 8.1 and Windows Server 2012 R2 in WSUS 3.0</h2></header><div class=entry-content><p>After connecting few computers with Windows 8.1 to domain we found that these computers are not recognized or recognized as Windows 6.3 (which is true) on WSUS 3.0 running on Windows Server 2008. The bad thing was that they can’t properly report to WSUS and get updates from it.
I found that there are two updates that have to be installed (but they’re not working without additional steps):
http://support.microsoft.com/kb/2720211 http://support.microsoft.com/kb/2734608 After installation of second update there are two additional steps that have to be performed to get WSUS working:...</p></div><footer class=entry-footer><span title='2014-01-16 00:00:00 +0000 UTC'>2014-01-16</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Manage Windows 8.1 and Windows Server 2012 R2 in WSUS 3.0" href=https://gagor.pl/2014/01/manage-windows-8-1-and-windows-server-2012-r2-in-wsus-3-0/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pl/posts/page/7/>«&nbsp;Prev&nbsp;</a>
<a class=next href=https://gagor.pl/posts/page/9/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pl>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>