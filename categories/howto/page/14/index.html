<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>HOWTO | timor's site</title>
<meta name=keywords content>
<meta name=description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog">
<meta name=author content>
<link rel=canonical href=https://timor.site/categories/howto/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.a6564483631bceb126e1ccf965a2dc167df7b8a408d2785a0deaa63d62e29233.css integrity="sha256-plZEg2MbzrEm4cz5ZaLcFn33uKQI0nhaDeqmPWLikjM=" rel="preload stylesheet" as=style>
<link rel=preload href=https://timor.site/favicon-36x36.png as=image>
<link rel=icon href=https://timor.site/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://timor.site/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://timor.site/favicon-32x32.png>
<link rel=apple-touch-icon href=https://timor.site/apple-touch-icon.png>
<link rel=mask-icon href=https://timor.site/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.0">
<link rel=alternate type=application/rss+xml href=https://timor.site/categories/howto/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-88996819-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="HOWTO">
<meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog">
<meta property="og:type" content="website">
<meta property="og:url" content="https://timor.site/categories/howto/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="HOWTO">
<meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog">
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://timor.site/ accesskey=h title="timor's site (Alt + H)">
<img src=https://timor.site/favicon-36x36.png alt=logo aria-label=logo height=36>timor's site</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://timor.site/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://timor.site/projects/ title=Projects>
<span>Projects</span>
</a>
</li>
<li>
<a href=https://timor.site/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://timor.site/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://timor.site/about/ title=About>
<span>About</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://timor.site/>Home</a>&nbsp;Â»&nbsp;<a href=https://timor.site/categories/>Categories</a></div>
<h1>HOWTO</h1>
</header>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Xen na Squeeze - instalacja i konfiguracja hypervisorâ€™a
</h2>
</header>
<section class=entry-content>
<p>Po co mi to? Wiele razy miaÅ‚em do czynienia z serwerami na ktÃ³rych dziaÅ‚aÅ‚o kilka/kilkanaÅ›cie usÅ‚ug rÃ³wnoczeÅ›nie, np. Apache (kilka stronek, webmail, phpmyadmin, itp), Postfix/Exim (poczta i Å¼eby byÅ‚o fajnie to na kontach systemowych), Samba (jakieÅ› zasoby dla pracownikÃ³w), MySQL (baza dla stronek), PostgreSQL (bo jedna stronka potrzebowaÅ‚a), itdâ€¦. Przy takiej konfiguracji pomijane sÄ… kwestie separacji usÅ‚ug zewnÄ™trznych/wewnÄ™trznych - no ale firma/instytucja maÅ‚a nie ma sensu kasy na 3 kolejne serwery wydawaÄ‡ skoro dziaÅ‚aâ€¦....</p>
</section>
<footer class=entry-footer><span title="2012-02-23 00:00:00 +0000 UTC">2012-02-23</span>&nbsp;Â·&nbsp;5 min</footer>
<a class=entry-link aria-label="post link to Xen na Squeeze - instalacja i konfiguracja hypervisorâ€™a" href=https://timor.site/2012/02/xen-na-squeeze-instalacja-i-konfiguracja-hypervisora/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>WstÄ™pne Å‚adowanie programÃ³w przy starcie z ureadahead
</h2>
</header>
<section class=entry-content>
<p>JakiÅ› czas temu korzystaÅ‚em z preloadâ€™a ktÃ³ry sam uczyÅ‚ siÄ™ jakie aplikacje odpalam i te programy Å‚adowaÅ‚ juÅ¼ podczas startu - przewaÅ¼nie nieco spowalnia to start systemu ale gdy juÅ¼ siÄ™ zaÅ‚aduje to programy, ktÃ³re uruchamiam jako pierwsze startujÄ… â€œz kopaâ€. Od jakiegoÅ› czasu popularniejszy jest instalowany domyÅ›lnie w Ubuntu ureadahead - peÅ‚ni on podobnÄ… funkcjÄ™ jak preload.
MoÅ¼na zmusiÄ‡ ureadahead do ponownego wygenerowania nowej listy programÃ³w wczytywanych przy starcie do cache a oto jak zrobiÄ‡:...</p>
</section>
<footer class=entry-footer><span title="2012-01-24 00:00:00 +0000 UTC">2012-01-24</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to WstÄ™pne Å‚adowanie programÃ³w przy starcie z ureadahead" href=https://timor.site/2012/01/wstepne-ladowanie-programow-przy-starcie-z-ureadahead/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Apache mod_expires konfiguracja
</h2>
</header>
<section class=entry-content>
<p>Aby umoÅ¼liwiÄ‡ odwiedzajÄ…cym nasze strony cachowanie obrazkÃ³w (tak by nie musieli pobieraÄ‡ ich kaÅ¼dorazowo bo przecieÅ¼ nie zmieniajÄ… siÄ™ aÅ¼ tak czÄ™sto) konieczne jest ustawienie nagÅ‚Ã³wkÃ³w: Cache-Control, Expires dla odpowiednich typÃ³w plikÃ³w. W Apachem jest do tego dedykowany moduÅ‚ - mod_expires. W Debianie dostarczany jest on bez domyÅ›lnej globalnej konfiguracji - a ja lubiÄ™ gdy cacheuje mi siÄ™ wiÄ™kszoÅ›Ä‡ statyki. Zawsze moÅ¼na dostosowaÄ‡ czas cachowania pod siebie wzglÄ™dem okreÅ›lonego typu pliku, np....</p>
</section>
<footer class=entry-footer><span title="2012-01-23 00:00:00 +0000 UTC">2012-01-23</span>&nbsp;Â·&nbsp;2 min</footer>
<a class=entry-link aria-label="post link to Apache mod_expires konfiguracja" href=https://timor.site/2012/01/apache-mod_expires-konfiguracja/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>DÅ‚ugie oczekiwanie na nawiÄ…zanie poÅ‚Ä…czenia ssh
</h2>
</header>
<section class=entry-content>
<p>Objaw przewaÅ¼nie jest taki: Å‚Ä…czysz siÄ™ po ssh podajÄ…c klucz/hasÅ‚o i czekasz nawet i 10 sekund aÅ¼ pojawi siÄ™ prompt. Po poÅ‚Ä…czeniu wszystkie polecenia dziaÅ‚ajÄ… z normalnÄ… szybkoÅ›ciÄ…. Brzmi znajomo? ğŸ˜‰
Taki objaw przewaÅ¼nie jest skutkiem problemÃ³w z dziaÅ‚aniem DNSâ€™a po stronie klienta lub serwera. Warto sprawdziÄ‡ poleceniami host/dig/nslookup po obu stronach jak duÅ¼o czasu potrzeba na rozwiÄ…zanie nazw. Najlepiej rozwiÄ…zaÄ‡ problem z DNSâ€™em ustawiajÄ…c szybkie serwery ale gdy nie mamy takiej moÅ¼liwoÅ›ci to po stronie serwera moÅ¼na ustawiÄ‡ w /etc/sshd_config opcjÄ™:...</p>
</section>
<footer class=entry-footer><span title="2012-01-23 00:00:00 +0000 UTC">2012-01-23</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to DÅ‚ugie oczekiwanie na nawiÄ…zanie poÅ‚Ä…czenia ssh" href=https://timor.site/2012/01/dlugie-oczekiwanie-na-nawiazanie-polaczenia-ssh/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Sniffowanie w FortiOS
</h2>
</header>
<section class=entry-content>
<p>Zawsze gdy potrzebujÄ™ zesniffowaÄ‡ coÅ› na Å¼ywo na Fortigateâ€™ach muszÄ™ przeszukaÄ‡ Knowledge Base by przypomnieÄ‡ sobie wszystkie polecenia do tego potrzebne. Tym razem robiÄ™ notatki ğŸ˜ƒ
Sniffowanie diagnose debug enable diagnose debug flow filter addrÂ ip address clearÂ clear filter daddrÂ dest ip address dportÂ destination port negateÂ inverse filter portÂ port protoÂ protocol number saddrÂ source ip address sportÂ source port vdÂ index of virtual domain # np. diagnose debug flow filter saddr 10....</p>
</section>
<footer class=entry-footer><span title="2012-01-23 00:00:00 +0000 UTC">2012-01-23</span>&nbsp;Â·&nbsp;2 min</footer>
<a class=entry-link aria-label="post link to Sniffowanie w FortiOS" href=https://timor.site/2012/01/sniffowanie-w-fortios/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Upgrade Debian Lenny do Squeeze
</h2>
</header>
<section class=entry-content>
<p>Co jakiÅ› czas powtarza siÄ™ sytuacja, gdy muszÄ™ zaktualizowaÄ‡ jakiÅ› serwerek z Lennym do Squeezeâ€™a i za kaÅ¼dym razem muszÄ™ googlaÄ‡ za odpowiednimi ÅºrÃ³dÅ‚ami, ktÃ³re paczki najpierw, etcâ€¦ WiÄ™c sobie zebraÅ‚em wszystko w poniÅ¼szym poÅ›cie.
W razie wÄ…tpliwoÅ›ci patrz tutaj:Â http://www.debian.org/releases/squeeze/releasenotes
ZrÃ³b backup konfiguracji.
Trzeba zaktualizowaÄ‡ ÅºrÃ³dÅ‚a by wskazywaÅ‚y na squeezeâ€™a (poniÅ¼sze polecenie nadpisze Twoje obecne repozytoria):
cat > /etc/apt/sources.list &lt;&lt;SRC deb http://ftp.pl.debian.org/debian/ squeeze main non-free contrib deb-src http://ftp....</p>
</section>
<footer class=entry-footer><span title="2012-01-13 00:00:00 +0000 UTC">2012-01-13</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Upgrade Debian Lenny do Squeeze" href=https://timor.site/2012/01/upgrade-debian-lenny-do-squeeze/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Skoda Fabia - Kasownie ostrzeÅ¼eÅ„ OIL i service INSP
</h2>
</header>
<section class=entry-content>
<p>JeÅ¼eli jesteÅ› wÅ‚aÅ›cicielem Skody Fabii I to wczeÅ›niej czy pÃ³Åºniej TwÃ³j BAT-Mobil zgÅ‚osi ktÃ³reÅ› z ostrzeÅ¼eÅ„ serwisowych:
OIL - pojawia siÄ™ przewaÅ¼nie co 10 tys. km i wtedy gdy jeszcze nie trzeba wymieniaÄ‡ oleju w silniku ğŸ˜„ service INSP - nie wiem jak czÄ™sto siÄ™ pojawia a oznacza mniej wiÄ™cej â€œczas wesprzeÄ‡ finansowo lokalny autoryzowany serwisâ€. RozwiÄ…zanie znalazÅ‚em tutajÂ - cytujÄ™ by mi nie zginÄ™Å‚o ;-)
Kasowanie ostrzeÅ¼enia OIL:...</p>
</section>
<footer class=entry-footer><span title="2012-01-12 00:00:00 +0000 UTC">2012-01-12</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Skoda Fabia - Kasownie ostrzeÅ¼eÅ„ OIL i service INSP" href=https://timor.site/2012/01/skoda-fabia-kasownie-ostrzezen-oil-i-service-insp/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>MÃ³j domyÅ›lny config dla SciTE
</h2>
</header>
<section class=entry-content>
<p>Uruchamiamy SciTE i klikamy menu Options -> Open User Options File, wpisujemy dane:
# domyÅ›lne korzystanie z fontÃ³w o staÅ‚ej szerokoÅ›ci font.base=$(font.monospace) font.small=$(font.monospace) font.comment=$(font.monospace) font.text=$(font.monospace) font.text.comment=$(font.monospace) font.embedded.base=$(font.monospace) font.embedded.comment=$(font.monospace) font.vbs=$(font.monospace) # numerowanie wierszy line.margin.visible=1 line.margin.width=3+ # ikonki toolbara z tematu systemowego toolbar.usestockicons=1 # zaznaczanie blokowe rectangular.selection.modifier=8 # ustawienia wgÅ‚Ä™bieÅ„ kodu indent.size=4 use.tabs=1 indent.automatic=1 WiÄ™cej opcji tutaj:Â http://www.scintilla.org/SciTEDoc.html
Sam pewnie jeszcze nie raz zaktualizujÄ™ ten wpis ğŸ˜„</p>
</section>
<footer class=entry-footer><span title="2012-01-11 00:00:00 +0000 UTC">2012-01-11</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to MÃ³j domyÅ›lny config dla SciTE" href=https://timor.site/2012/01/moj-domyslny-config-dla-scite/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Empathy - zamykanie okienka chatu przyciskiem Escape
</h2>
</header>
<section class=entry-content>
<p>W Gajimâ€™ie od dawna brakowaÅ‚o mi wygodnego przeszukiwania po liÅ›cie kontaktÃ³w (takiego jakie ma siÄ™ pojawiÄ‡ juÅ¼ niebawem w wersji 0.15 - z pÃ³Å‚tora roku juÅ¼ na to czekamâ€¦). W miÄ™dzy czasie znalazÅ‚em chwilÄ™ by pobawiÄ‡ siÄ™ Empathy - brzydki, nie ma przeglÄ…darki usÅ‚ug XMPP, ale wyszukiwanie na rosterze jest dokÅ‚adnie takie jakiego szukaÅ‚em (w miarÄ™ wpisywania znakÃ³w zawÄ™Å¼a listÄ™ kontaktÃ³w by pasowaÅ‚y do wpisywanego wzorca).
Tyle Å¼e skrÃ³ty klawiaturowe w tym programie zwyczajnie mnie rozwalajÄ… - przez lata przyzwyczaiÅ‚em siÄ™ Å¼e okienka czatu moÅ¼na zamknÄ…Ä‡ Escapeâ€™m - a tutaj nawet nie ma opcji, ktÃ³ra pozwalaÅ‚a by na takÄ… zmianÄ™ zachowania....</p>
</section>
<footer class=entry-footer><span title="2011-12-30 00:00:00 +0000 UTC">2011-12-30</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Empathy - zamykanie okienka chatu przyciskiem Escape" href=https://timor.site/2011/12/empathy-zamykanie-okienka-chatu-przyciskiem-escape/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Automatyczne backupy w stylu snapshot z rsyncâ€™iem
</h2>
</header>
<section class=entry-content>
<p>MoÅ¼na znaleÅºÄ‡ wiele tutoriali jakimi narzÄ™dziami wykonywaÄ‡ backupy. W wiÄ™kszoÅ›ci przypadkÃ³w absolutnie wystarczajÄ…cy okaÅ¼e siÄ™ flexbackup. Bardziej wymagajÄ…cy wykorzystajÄ… BackupPC, BaculÄ™ lub AmandÄ™. NarzÄ™dzia te pozwalajÄ… wykonaÄ‡ kopie peÅ‚ne, rÃ³Å¼nicowe, przyrostowe - kompresujÄ…c je dla zaoszczÄ™dzenia miejsca.
Wszystko fajnie - ale problemy pojawiajÄ… siÄ™ przy dostÄ™pie do tych danych. Å»eby odzyskaÄ‡ plik zmodyfikowany dzisiaj trzeba rozpakowaÄ‡ najpierw kopiÄ™ peÅ‚nÄ…, potem rÃ³Å¼nicowÄ…, przyrostowÄ… by wreszcie wyciÄ…gnÄ…Ä‡ plik z wczorajâ€¦ hmm ten teÅ¼ jest skopany....</p>
</section>
<footer class=entry-footer><span title="2011-12-29 00:00:00 +0000 UTC">2011-12-29</span>&nbsp;Â·&nbsp;2 min</footer>
<a class=entry-link aria-label="post link to Automatyczne backupy w stylu snapshot z rsyncâ€™iem" href=https://timor.site/2011/12/automatyczne-backupy-w-stylu-snapshot-z-rsynciem/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=prev href=https://timor.site/categories/howto/page/13/>Â« Prev Page</a>
<a class=next href=https://timor.site/categories/howto/page/15/>Next Page Â»</a>
</nav>
</footer>
</main>
<footer class=footer>
<span><span>Â© 2011 <a href=https://timor.site>timor&rsquo;s site</a></span> <span>Licensed under <a rel=license rel="noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>