<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>HOWTO | Tom's Blog</title>
<meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: howto"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/categories/howto/><link crossorigin=anonymous href=/assets/css/stylesheet.985a7641e69c6b20f34bf2fd88dce5a50d271007390e15128242aada21b132f4.css integrity="sha256-mFp2QeacayDzS/L9iNzlpQ0nEAc5DhUSgkKq2iGxMvQ=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gagor.pro/categories/howto/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://gagor.pro/categories/howto/"><meta property="og:site_name" content="Tom's Blog"><meta property="og:title" content="HOWTO"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="HOWTO"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.avif alt="Page logo" aria-label=logo height=36 width=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pro/>Home</a>&nbsp;»&nbsp;<a href=https://gagor.pro/categories/>Categories</a></div><h1>HOWTO</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/01/how-to-interview-devops-candidates/images/cover_hu_49538ba16e100e05.webp 360w ,https://gagor.pro/2024/01/how-to-interview-devops-candidates/images/cover_hu_49cf957957eaef34.webp 480w ,https://gagor.pro/2024/01/how-to-interview-devops-candidates/images/cover_hu_a12c41df88770014.webp 720w ,https://gagor.pro/2024/01/how-to-interview-devops-candidates/images/cover_hu_75c6e864f3851436.webp 1080w ,https://gagor.pro/2024/01/how-to-interview-devops-candidates/images/cover_hu_30c71dabc2be4580.webp 1500w ,https://gagor.pro/2024/01/how-to-interview-devops-candidates/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/01/how-to-interview-devops-candidates/images/cover.webp alt="[Photo by olia danilevich](https://www.pexels.com/photo/two-men-looking-at-a-laptop-4974920/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>How to interview DevOps candidates?</h2></header><div class=entry-content><p>A little bit of sour-sweet memories I’ve been in many job interviews. Few as a candidate but many more as a Technical Leader or Hiring Manager. There are many questions I’ve been asked and many tests I passed. I remember one test, where I had to install and configure Apache Tomcat on a Virtual Machine, under Windows (which I don’t use for years), without access to internet. There were more traps there, like some files in the locations where Tomcat is normally installed were blocked for write with chattr immutable attribute. I was able to configure the application to run, but then I asked what’s the point of this exercise? Main explanation was to “understand my knowledge”. I asked more questions:
...</p></div><footer class=entry-footer><span title='2024-01-23 00:00:00 +0000 UTC'>2024-01-23</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How to interview DevOps candidates?" href=https://gagor.pro/2024/01/how-to-interview-devops-candidates/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/01/how-to-give-probation-period-feedback/images/cover_hu_cc615ff0f9ec91e0.webp 360w ,https://gagor.pro/2024/01/how-to-give-probation-period-feedback/images/cover_hu_2447629f1b0153f3.webp 480w ,https://gagor.pro/2024/01/how-to-give-probation-period-feedback/images/cover_hu_f2610b0df5add1e2.webp 720w ,https://gagor.pro/2024/01/how-to-give-probation-period-feedback/images/cover_hu_fea7f39c2da99710.webp 1080w ,https://gagor.pro/2024/01/how-to-give-probation-period-feedback/images/cover_hu_dec0dc23ed3f8e66.webp 1500w ,https://gagor.pro/2024/01/how-to-give-probation-period-feedback/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/01/how-to-give-probation-period-feedback/images/cover.webp alt="[Photo by cottonbro studio](https://www.pexels.com/photo/three-men-in-a-office-6804609/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>How to give Probation Period feedback?</h2></header><div class=entry-content><p>Why? Hiring people is hard, but having a new person in a team is not a work done. It’s important to monitor how people perform during probation period and share feedback with them. Personally, I like to ask the whole team, with a bunch of open questions, which allows me to look from higher altitude on the new hire. My point of view might be biased but by checking what others think, I can fill blind spots.
...</p></div><footer class=entry-footer><span title='2024-01-22 00:00:00 +0000 UTC'>2024-01-22</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How to give Probation Period feedback?" href=https://gagor.pro/2024/01/how-to-give-probation-period-feedback/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu_1e5e4a68c0587b4a.webp 360w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu_be22749e42213461.webp 480w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu_a59c8fc3641ee506.webp 720w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu_cf3ca8ff873825d9.webp 1080w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover_hu_cb230e28d4fb3d81.webp 1500w ,https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/images/cover.webp alt=[Cloudflare](https://www.cloudflare.com) width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Maximizing page performance and security with Cloudflare tuning</h2></header><div class=entry-content><p>Info
...</p></div><footer class=entry-footer><span title='2024-01-11 00:00:00 +0000 UTC'>2024-01-11</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Maximizing page performance and security with Cloudflare tuning" href=https://gagor.pro/2024/01/maximizing-page-performance-and-security-with-cloudflare-tuning/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu_f4c25b1845c0b0c8.webp 360w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu_3965d2944b6435b3.webp 480w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu_c2438a22a016b544.webp 720w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu_aae77585a78953a4.webp 1080w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover_hu_39b0de950c4110ce.webp 1500w ,https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/images/cover.webp alt="[Photo by RealToughCandy.com from Pexels](https://www.pexels.com/photo/a-person-holing-a-sticker-in-close-up-photography-11035380/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>The best way to get NVM working in CI/CD systems</h2></header><div class=entry-content><p>TL;DR While reasoning is important, readers may not be interested in all the frustrations I experienced while figuring out how to get things done. If you’re looking for a quick solution, skip to the “What eventually worked?” section. However, if you’re interested in the thought process behind the solution, keep reading.
Why? Some might bother why the hell I’d like to make my life so hard? 🤣
We used to use nodeenv  external link for that purpose. It provides a simple script that allows to fetch any version of Node. You have to configure PATH variable and you’re done. It’s very simple from the perspective of Docker images operator. There’s one problem with nodeenv comparing it to the nvm - popularity.
...</p></div><footer class=entry-footer><span title='2023-04-25 00:00:00 +0000 UTC'>2023-04-25</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to The best way to get NVM working in CI/CD systems" href=https://gagor.pro/2023/04/the-best-way-to-get-nvm-working-in-ci-cd-systems/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu_a49d77974c755aaa.webp 360w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu_b25d6dc96d73e5fc.webp 480w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu_aa669ba58ce5ee5a.webp 720w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu_ef0335422be4c9f5.webp 1080w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover_hu_cb5d2f248e429cc3.webp 1500w ,https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/images/cover.webp alt="[Photo by Lu Li from Pexels](https://www.pexels.com/photo/men-in-horses-raising-cattles-8916937/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Change configuration of Docker daemon in Rancher Desktop</h2></header><div class=entry-content><p>I switched recently from Docker Desktop  external link on my MacBook to Rancher Desktop  external link . The most important reason for me to do it, was possibility to gently switch between docker and containerd runtimes.
There’s still one feature that I miss on Rancher Desktop - possibility to change Docker daemon configuration. I used to enable experimental features1 and BuildKit2. Sadly, there’s no easy way to do it on Rancher… But there’s a magical way3.
...</p></div><footer class=entry-footer><span title='2023-03-23 00:00:00 +0000 UTC'>2023-03-23</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Change configuration of Docker daemon in Rancher Desktop" href=https://gagor.pro/2023/03/change-configuration-of-docker-daemon-in-rancher-desktop/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu_ea2e143adc68bef8.webp 360w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu_38d1895ad0192aba.webp 480w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu_39468ea7fb9402fc.webp 720w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu_453521bdf0aa33df.webp 1080w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover_hu_435e5da0a4fddbe5.webp 1500w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/images/cover.webp alt="[Photo by Ghasiq Anjum from Pexels](https://www.pexels.com/photo/metal-trash-bin-on-the-side-of-the-street-12841982/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Best practices for writing Dockerfiles - Use VOLUME for all mutable, temporary file locations</h2></header><div class=entry-content><p>IMO people don’t understand how VOLUME1 works so they don’t use it. It’s generally used far too rarely!
In short VOLUME means two things:
Whatever is left in directory marked as VOLUME, stays there and can’t be changed in later layers (actually it can be changed but changes won’t be persistent). Volumes are not part of layered image FS. They’re mounted as anonymous volumes located on standard file system. This means they’re working much faster. Let me explain it a bit.
...</p></div><footer class=entry-footer><span title='2022-09-12 00:00:00 +0000 UTC'>2022-09-12</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Best practices for writing Dockerfiles - Use VOLUME for all mutable, temporary file locations" href=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-volume-for-all-mutable-temporary-file-locations/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu_3fc4ebfeabc7e269.webp 360w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu_bae8f9e850befedb.webp 480w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu_bfe894108597edc6.webp 720w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu_62ddabfbbbb1c84f.webp 1080w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover_hu_6d6c1ab95dcd2e61.webp 1500w ,https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/images/cover.webp alt="[Photo by Tom Fisk from Pexels](https://www.pexels.com/photo/birds-eye-view-photo-of-freight-containers-2226458/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Best practices for writing Dockerfiles - Use .dockerignore</h2></header><div class=entry-content><p>People often complain, that building Docker image takes a long time. “I just added a single jar package” they say… Really?
They often don’t remember that whole “build context”1 is uploaded to Docker daemon during build, which often means they’re not only adding “single jar”, but also all sources, test results and whatever they have in working directory.
Solution is simple - to use .dockerignore file2. Syntax is similar to .gitignore. It excludes what shouldn’t be uploaded to Docker daemon.
...</p></div><footer class=entry-footer><span title='2022-09-11 00:00:00 +0000 UTC'>2022-09-11</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Best practices for writing Dockerfiles - Use .dockerignore" href=https://gagor.pro/2022/09/best-practices-for-writing-dockerfiles-use-dockerignore/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2022/09/dockerfile-writing-best-practices/images/cover_hu_11b2e11acc49fcfa.webp 360w ,https://gagor.pro/2022/09/dockerfile-writing-best-practices/images/cover_hu_8bb1e5cea7e7147f.webp 480w ,https://gagor.pro/2022/09/dockerfile-writing-best-practices/images/cover_hu_ec3a11a638b7c76e.webp 720w ,https://gagor.pro/2022/09/dockerfile-writing-best-practices/images/cover_hu_d77b035857547981.webp 1080w ,https://gagor.pro/2022/09/dockerfile-writing-best-practices/images/cover_hu_eac4fc87b965eeff.webp 1500w ,https://gagor.pro/2022/09/dockerfile-writing-best-practices/images/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2022/09/dockerfile-writing-best-practices/images/cover.webp alt="[Photo by Tom Fisk from Pexels](https://www.pexels.com/photo/top-view-photography-of-cargo-ship-with-intermodal-containers-3057963/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Dockerfile writing best practices</h2></header><div class=entry-content><p>I’ve been thinking for a long time about writing set of articles on the topic of: “Dockerfile writing best practices”.
As it’s often my daily job to prepare best in class containers, that are later used by thousands of company’s applications, I have quite good insights on the topic. Some experience and knowledge gathered is often against intuition and building it took me a while. I want to share it, with a hope that feedback I get will allow me to excel on the topic even further.
...</p></div><footer class=entry-footer><span title='2022-09-10 00:00:00 +0000 UTC'>2022-09-10</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Dockerfile writing best practices" href=https://gagor.pro/2022/09/dockerfile-writing-best-practices/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/cover_hu_31574b54d4082b3f.webp 360w ,https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/cover_hu_4017611becac9a45.webp 480w ,https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/cover_hu_3a439499809b2c69.webp 720w ,https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/cover_hu_4df0e70e26505c2c.webp 1080w ,https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/cover_hu_de462e2534b6d17a.webp 1500w ,https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/cover.webp alt width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Ford S-MAX - kasowanie ostrzeżenia wymiany oleju</h2></header><div class=entry-content><p>Auta się zmieniają a problemy z nimi pozostają te same :)
Kasowanie ostrzeżenia wymiany oleju 1 Przekręcić kluczyk w stacyjce do drugiej pozycji, gdy zapalają się wszystkie kontrolki (nie uruchamiamy silnika). Wciskamy równocześnie pedały hamulca i gazu do oporu, trzymamy do zakończenia procesu. Pojawi komunikat o rozpoczęciu resetowania inspekcji. Możemy zatwierdzić OK. Czekamy aż pojawi się komunikat: Zatwierdzamy OK. Dopiero teraz zwalniamy pedały. https://forum.fordclubpolska.org/showthread.php?t=108532  external link  ↩︎
...</p></div><footer class=entry-footer><span title='2022-09-03 00:00:00 +0000 UTC'>2022-09-03</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Ford S-MAX - kasowanie ostrzeżenia wymiany oleju" href=https://gagor.pro/2022/09/ford-s-max-kasowanie-ostrzezenia-wymiany-oleju/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/cover_hu_c059e422af14a750.webp 360w ,https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/cover_hu_8f575c6d0fab0e82.webp 480w ,https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/cover_hu_40e4f3aeb8d69523.webp 720w ,https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/cover_hu_8d2abf4b31c74ef9.webp 1080w ,https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/cover_hu_b66a2264dfa5083e.webp 1500w ,https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/cover.webp 1500w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/cover.webp alt="[Photo by Markus Winkler from Pexels](https://www.pexels.com/photo/wood-dirty-rope-door-3828944/)" width=1500 height=625></figure><header class=entry-header><h2 class=entry-hint-parent>Creating fully encrypted ZFS pool</h2></header><div class=entry-content><p>What I want to do? I use my pool to securely store backups, archive my old documents and keep huge family’s photo library.
I have new disks. They were tortured with badblocks , so they’re ready to create ZFS pool.
I’ve read few documents about different approaches 1 2 3. I wanted to be sure if anything changed during past years. One of articles recommends mirroring over RAIDZ. Resilvering is faster, at the same time putting IO less stress on whole pool. But pool as small as mine, relies on single drive which might die in between and data won’t be recoverable. Eventually, I decided to go for RAIDZ1 for now and in the future I rather move to RAIDZ2. For that, I have to buy one more disk - Black Friday is close, we will see.
...</p></div><footer class=entry-footer><span title='2021-11-22 00:00:00 +0000 UTC'>2021-11-22</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Creating fully encrypted ZFS pool" href=https://gagor.pro/2021/11/creating-fully-encrypted-zfs-pool/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pro/categories/howto/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pro/categories/howto/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2025</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=https://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>