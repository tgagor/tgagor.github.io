<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Tip | timor's site</title>
<meta name=keywords content>
<meta name=description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog">
<meta name=author content>
<link rel=canonical href=https://timor.site/categories/tip/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.a6564483631bceb126e1ccf965a2dc167df7b8a408d2785a0deaa63d62e29233.css integrity="sha256-plZEg2MbzrEm4cz5ZaLcFn33uKQI0nhaDeqmPWLikjM=" rel="preload stylesheet" as=style>
<link rel=preload href=https://timor.site/favicon-72x72.png as=image>
<link rel=icon href=https://timor.site/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://timor.site/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://timor.site/favicon-32x32.png>
<link rel=apple-touch-icon href=https://timor.site/apple-touch-icon.png>
<link rel=mask-icon href=https://timor.site/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.0">
<link rel=alternate type=application/rss+xml href=https://timor.site/categories/tip/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-88996819-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Tip">
<meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog">
<meta property="og:type" content="website">
<meta property="og:url" content="https://timor.site/categories/tip/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Tip">
<meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog">
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://timor.site/ accesskey=h title="timor's site (Alt + H)">
<img src=https://timor.site/favicon-72x72.png alt=logo aria-label=logo height=36>timor's site</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://timor.site/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://timor.site/projects/ title=Projects>
<span>Projects</span>
</a>
</li>
<li>
<a href=https://timor.site/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://timor.site/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://timor.site/about/ title=About>
<span>About</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://timor.site/>Home</a>&nbsp;Â»&nbsp;<a href=https://timor.site/categories/>Categories</a></div>
<h1>Tip</h1>
</header>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>pip - uninstall package with dependencies
</h2>
</header>
<section class=entry-content>
<p>Virtualenvs in python are cheap but from time to time you will install something with pip on your system and when time comes removing all this crap could be difficult. I found this bash snippet that will uninstall package with all dependencies:
for dep in $(pip show python-neutronclient | grep Requires | sed 's/Requires: //g; s/,//g') ; do sudo pip uninstall -y $dep ; done pip uninstall -y python-neutronclient Source: http://stackoverflow....</p>
</section>
<footer class=entry-footer><span title="2016-04-26 00:00:00 +0000 UTC">2016-04-26</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to pip - uninstall package with dependencies" href=https://timor.site/2016/04/pip-uninstall-package-with-dependencies/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Prefer IPv4 over IPv6
</h2>
</header>
<section class=entry-content>
<p>I try to use IPv6 where itâ€™s available but itâ€™s sometimes so hardâ€¦ It happen quite often that I canâ€™t download packages from repos because they werenâ€™t configured on IPv6 vhosts even when host is available via IPv6 address. For APT you may use this trick to force IPv4 connections only:
echo 'Acquire::ForceIPv4 "true";' > /etc/apt/apt.conf.d/99force-ipv4 If you need more than that, then gai.conf will allow you to filter where you will be connecting via IPv4 and where via IPv6 - in example bellow you will prefer IPv4 whenever itâ€™s available:...</p>
</section>
<footer class=entry-footer><span title="2016-03-29 00:00:00 +0000 UTC">2016-03-29</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Prefer IPv4 over IPv6" href=https://timor.site/2016/03/prefer-ipv4-over-ipv6/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>List octal file permissions in bash
</h2>
</header>
<section class=entry-content>
<p>Sometimes itâ€™s easier to use octal file permissions but theyâ€™re not so easy to list. I caught myself few times that I didnâ€™t remember how to list them - so this is a reason for that note.
stat -c "%a %n" * 755 bin 755 games 755 include Yes, itâ€™s that easy ðŸ˜ƒ
And here also with human readable attributes:
stat -c '%A %a %n' * drwxr-xr-x 755 bin drwxr-xr-x 755 games drwxr-xr-x 755 include </p>
</section>
<footer class=entry-footer><span title="2016-02-24 00:00:00 +0000 UTC">2016-02-24</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to List octal file permissions in bash" href=https://timor.site/2016/02/list-octal-file-permissions-in-bash/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>WordPress with HyperDB on PHP 7.0
</h2>
</header>
<section class=entry-content>
<p>I was configuring WordPress with HyperDB plugin on PHP 7.0 but the only I get were constant 500 errors. As I found here PHP 7.0 is not supported by HyperDB for now - itâ€™s rely on mysql php extension but in PHP 7.0 there is only mysqli extension. But few folks fixed it and itâ€™s possible to use it.
curl -O https://raw.githubusercontent.com/soulseekah/hyperdb-mysqli/master/db.php mv db.php /var/www/wordpress/wp-content/ And configure it ex. like this:...</p>
</section>
<footer class=entry-footer><span title="2016-02-24 00:00:00 +0000 UTC">2016-02-24</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to WordPress with HyperDB on PHP 7.0" href=https://timor.site/2016/02/wordpress-with-hyperdb-on-php-7-0/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Automatically build after file change
</h2>
</header>
<section class=entry-content>
<p>Iâ€™m playing a lot with Docker lately. Building images, and then rebuilding, and then building againâ€¦ Itâ€™s pretty boring. To automate this task a little I used inotify to build automatically after I changed any file. This trick could be used in many different situations.
You will need inotify-tools package:
sudo apt-get install -y inotify-tools Then run something like this:
while inotifywait -e modify -r .; do docker-compose build; done This commands will rebuild my Docker images after any file change in current directory....</p>
</section>
<footer class=entry-footer><span title="2016-02-23 00:00:00 +0000 UTC">2016-02-23</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Automatically build after file change" href=https://timor.site/2016/02/automatically-build-after-file-change/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Install Docker Compose
</h2>
</header>
<section class=entry-content>
<p>When I started playing with Docker I was running a lot of commands to build image, delete containers running on old image, run containers based on new image, etcâ€¦ A lot of log commands with links, volumes, etcâ€¦
Then I started searching for something to automate this task and here I get to docker-compse command, this is how you may install it:
pip install docker-compose And install additional bash completions (run as root):...</p>
</section>
<footer class=entry-footer><span title="2016-02-12 00:00:00 +0000 UTC">2016-02-12</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Install Docker Compose" href=https://timor.site/2016/02/install-docker-compose/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Manual installation of Docker on Debian/Ubuntu
</h2>
</header>
<section class=entry-content>
<p>Iâ€™ve played with Docker a little in it early days but didnâ€™t stick for longer with it. Itâ€™s stable now so I wanted to check how itâ€™s running now.
I really canâ€™t accept this method of installation:
curl -fsSL https://get.docker.com/ | sh I think that world is going to itâ€™s end when I see such scritpsâ€¦ I prefer to do this manually, knowing exactly what I have to do.
Install prerequisites:...</p>
</section>
<footer class=entry-footer><span title="2016-02-11 00:00:00 +0000 UTC">2016-02-11</span>&nbsp;Â·&nbsp;2 min</footer>
<a class=entry-link aria-label="post link to Manual installation of Docker on Debian/Ubuntu" href=https://timor.site/2016/02/manual-installation-of-docker-on-debian-ubuntu/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Some usefull commands in Docker
</h2>
</header>
<section class=entry-content>
<p>I started playing with Docker and here I will write some commands that where not so obvious at beginning ðŸ˜ƒ
List running containers:
docker ps List also not running containers:
docker ps -a Remove all containers (be careful with that):
docker rm $(docker ps -a -q) Remove all images:
docker rmi $(docker images -q) Docker wonâ€™t remove any old volumes used by containers, so after some time you may be interested in deleting them all:...</p>
</section>
<footer class=entry-footer><span title="2016-02-11 00:00:00 +0000 UTC">2016-02-11</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Some usefull commands in Docker" href=https://timor.site/2016/02/some-usefull-commands-in-docker/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Mass replace in WordPress posts via MySQL query
</h2>
</header>
<section class=entry-content>
<p>I was doing a lot of changes to my old posts, switched to HTTPS, etc. Sometimes it was useful to change some particular text in all my old posts at a time, but there is no such feature in WordPress. But WordPress runs on MySQL and I could use SQL query to update such posts.
Make backup - itâ€™s not required but strongly advised ðŸ˜ƒ
Now use this query as template to replace in place whatever you need:
...</p>
</section>
<footer class=entry-footer><span title="2016-02-09 00:00:00 +0000 UTC">2016-02-09</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Mass replace in WordPress posts via MySQL query" href=https://timor.site/2016/02/mass-replace-in-wordpress-posts-via-mysql-query/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Use www.horizon.tv with Pipelight/Silverlight on Linux/Ubuntu
</h2>
</header>
<section class=entry-content>
<p>From few days I have access to UPCâ€™s www.horizon.tv platform - until now it was useless on Linux. But there is Pipelight that will use Wine to emulate Silverlight on Linux and itâ€™s working pretty well - youâ€™re just few commands away from achieving that:
# stop browser killall firefox # remove old version if you have it sudo apt-get remove pipelight Now configure repos and install packages:
sudo apt-add-repository ppa:pipelight/stable sudo apt-get update sudo apt-get install --install-recommends pipelight-multi sudo pipelight-plugin --update Enable plugin (run it with sudo for system wide installation):...</p>
</section>
<footer class=entry-footer><span title="2016-02-09 00:00:00 +0000 UTC">2016-02-09</span>&nbsp;Â·&nbsp;1 min</footer>
<a class=entry-link aria-label="post link to Use www.horizon.tv with Pipelight/Silverlight on Linux/Ubuntu" href=https://timor.site/2016/02/use-www-horizon-tv-with-pipelight-silverlight-on-linux-ubuntu/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=prev href=https://timor.site/categories/tip/>Â« Prev Page</a>
<a class=next href=https://timor.site/categories/tip/page/3/>Next Page Â»</a>
</nav>
</footer>
</main>
<footer class=footer>
<span><a href=https://timor.site/>timor's site</a> &copy; 2008-2021</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span>
</footer>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>