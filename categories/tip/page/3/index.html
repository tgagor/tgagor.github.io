<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tip | Tom's Blog</title>
<meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: tip"><meta name=author content="timor"><link rel=canonical href=https://gagor.pro/categories/tip/><link crossorigin=anonymous href=/assets/css/stylesheet.b75f2a8f35519547db38b55fa84baf47177f24f8e88f96c8d73a55d12ab8bcec.css integrity="sha256-t18qjzVRlUfbOLVfqEuvRxd/JPjoj5bI1zpV0Sq4vOw=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pro/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pro/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pro/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pro/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pro/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gagor.pro/categories/tip/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Tip"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://gagor.pro/categories/tip/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tip"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pro/ accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pro/favicon-36x36.png alt aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://gagor.pro/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pro/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pro/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pro/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pro/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pro/>Home</a>&nbsp;»&nbsp;<a href=https://gagor.pro/categories/>Categories</a></div><h1>Tip</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2021/03/how-to-remove-geo-localization/exif-data-from-photos/cover_hua03c5a8a986a55089ec02282f18676cc_16442_360x0_resize_q75_box.jpg 360w ,https://gagor.pro/2021/03/how-to-remove-geo-localization/exif-data-from-photos/cover_hua03c5a8a986a55089ec02282f18676cc_16442_480x0_resize_q75_box.jpg 480w ,https://gagor.pro/2021/03/how-to-remove-geo-localization/exif-data-from-photos/cover_hua03c5a8a986a55089ec02282f18676cc_16442_720x0_resize_q75_box.jpg 720w ,https://gagor.pro/2021/03/how-to-remove-geo-localization/exif-data-from-photos/cover.jpg 720w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2021/03/how-to-remove-geo-localization/exif-data-from-photos/cover.jpg alt width=720 height=300></figure><header class=entry-header><h2 class=entry-hint-parent>How to remove geo-localization/EXIF data from photos</h2></header><div class=entry-content><p>I wanted to share publicly some photos, but I performed them with navigation enabled so they contained accurate localization of my house. I wanted to remove EXIF data GPS tags, my phone type and other irrelevant stuff.
Tip
There’s a way that requires less effort. Check how to automate this process with pre-commit hooks  external link .
TL;DR You will need imagemagick installed (use apt/yum/dnf of whatever you have there):...</p></div><footer class=entry-footer><span title='2021-03-05 00:00:00 +0000 UTC'>2021-03-05</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How to remove geo-localization/EXIF data from photos" href=https://gagor.pro/2021/03/how-to-remove-geo-localization/exif-data-from-photos/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2021/02/how-to-run-jmx-monitoring-in-docker-image/cover_hu0352547d4ecf398f96d7012e0029946d_32727_360x0_resize_q75_box.jpg 360w ,https://gagor.pro/2021/02/how-to-run-jmx-monitoring-in-docker-image/cover_hu0352547d4ecf398f96d7012e0029946d_32727_480x0_resize_q75_box.jpg 480w ,https://gagor.pro/2021/02/how-to-run-jmx-monitoring-in-docker-image/cover_hu0352547d4ecf398f96d7012e0029946d_32727_720x0_resize_q75_box.jpg 720w ,https://gagor.pro/2021/02/how-to-run-jmx-monitoring-in-docker-image/cover.jpg 720w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2021/02/how-to-run-jmx-monitoring-in-docker-image/cover.jpg alt width=720 height=300></figure><header class=entry-header><h2 class=entry-hint-parent>How to run JMX monitoring in Docker image?</h2></header><div class=entry-content><p>It’s sometimes useful to quickly connect to JMX console, to checkout what’s going on in your application, but the whole thing get’s tricky if you’re running your app in a container. I need it from time to time and I keep myself few times searching for set of params below:
~/2021/02/how-to-run-jmx-monitoring-in-docker-image/ java \ ... -Dcom.sun.management.jmxremote \ -Dcom.sun.management.jmxremote.rmi.port=${PORT1} \ -Dcom.sun.management.jmxremote.port=${PORT1} \ -Dcom.sun.management.jmxremote.local.only=false \ -Dcom.sun.management.jmxremote.authenticate=false \ -Dcom.sun.management.jmxremote.ssl=false \ -Djava.rmi.server.hostname=${HOST} The whole magic here is that PORT1 in container is app’s second port....</p></div><footer class=entry-footer><span title='2021-02-19 00:00:00 +0000 UTC'>2021-02-19</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How to run JMX monitoring in Docker image?" href=https://gagor.pro/2021/02/how-to-run-jmx-monitoring-in-docker-image/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2021/02/centos-8-stream-docker-image/cover_hud6a12073c46f429e17a10ef4590aa7ca_74119_360x0_resize_q75_box.jpg 360w ,https://gagor.pro/2021/02/centos-8-stream-docker-image/cover_hud6a12073c46f429e17a10ef4590aa7ca_74119_480x0_resize_q75_box.jpg 480w ,https://gagor.pro/2021/02/centos-8-stream-docker-image/cover_hud6a12073c46f429e17a10ef4590aa7ca_74119_720x0_resize_q75_box.jpg 720w ,https://gagor.pro/2021/02/centos-8-stream-docker-image/cover.jpg 720w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2021/02/centos-8-stream-docker-image/cover.jpg alt width=720 height=300></figure><header class=entry-header><h2 class=entry-hint-parent>CentOS 8 Stream Docker image</h2></header><div class=entry-content><p>We’re all divided with recent decision to focus on CentOS Stream  external link , which essentially means that stable, professional distro will turn into rolling release now. Also CentOS board members don’t gave us more confidence for the future  external link .
I don’t want to be totally sceptic, I would like to test it on my own and only then, decide if it’s stable enough. But I work mostly with Docker containers and there are no official Docker images with Stream variant....</p></div><footer class=entry-footer><span title='2021-02-11 00:00:00 +0000 UTC'>2021-02-11</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to CentOS 8 Stream Docker image" href=https://gagor.pro/2021/02/centos-8-stream-docker-image/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy srcset="https://gagor.pro/2021/01/how-old-are-official-docker-images/cover_hu419ecae890827a44c81e89e8162092fb_21566_360x0_resize_q75_box.jpg 360w ,https://gagor.pro/2021/01/how-old-are-official-docker-images/cover_hu419ecae890827a44c81e89e8162092fb_21566_480x0_resize_q75_box.jpg 480w ,https://gagor.pro/2021/01/how-old-are-official-docker-images/cover_hu419ecae890827a44c81e89e8162092fb_21566_720x0_resize_q75_box.jpg 720w ,https://gagor.pro/2021/01/how-old-are-official-docker-images/cover.jpg 720w" sizes="(min-width: 768px) 720px, 100vw" src=https://gagor.pro/2021/01/how-old-are-official-docker-images/cover.jpg alt width=720 height=300></figure><header class=entry-header><h2 class=entry-hint-parent>How old are Official Docker images?</h2></header><div class=entry-content><p>Info
I published recently more up to date article. Check here  external link .
TL;DR
CentOS base images sucks! They’re old, not updated for months!
As a professional DevOps I concern about a lot of things… but security is always close to the top of the list. With Docker build environments and deployments became much more stable, which often is a result of just being stale ;/
I’ve been talking about this for long time but it’s still hard for people to believe it....</p></div><footer class=entry-footer><span title='2021-01-28 00:00:00 +0000 UTC'>2021-01-28</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How old are Official Docker images?" href=https://gagor.pro/2021/01/how-old-are-official-docker-images/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Debuging commands running on memcached</h2></header><div class=entry-content><p>I had stragne statistics on one memcached servers. I had to look what it’s doing there. I found such commands that may be used to sniff, extract and make statistics from running memcached server.
Debug GET commands tcpflow -c dst port 11211 | cut -b46- | grep ^get cut command will remove 46 bytes at beginning of every string (src, dst, port). You may need to adjust numeric parameter for cut to leave commands only....</p></div><footer class=entry-footer><span title='2016-07-13 00:00:00 +0000 UTC'>2016-07-13</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Debuging commands running on memcached" href=https://gagor.pro/2016/07/debuging-commands-running-on-memcached/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to stole ssh session when you’re root</h2></header><div class=entry-content><p>It happen to me all the time that one of developers notifies me about some kind of problem that I can’t confirm from my account. Sometimes it was because of bad ssh keys configuration, other times file permissions, mostly such stuff. It’s sometimes convenient to “enter into someone’s shoes” to see what’s going on there.
If you’re root on machine you may do that like this:
su developer - Easy one but that’s not enough for all cases....</p></div><footer class=entry-footer><span title='2016-04-27 00:00:00 +0000 UTC'>2016-04-27</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to How to stole ssh session when you’re root" href=https://gagor.pro/2016/04/how-to-stole-ssh-session-when-youre-root/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>pip - uninstall package with dependencies</h2></header><div class=entry-content><p>Virtualenvs in python are cheap but from time to time you will install something with pip on your system and when time comes removing all this crap could be difficult. I found this bash snippet that will uninstall package with all dependencies:
for dep in $(pip show python-neutronclient | grep Requires | sed 's/Requires: //g; s/,//g') ; do sudo pip uninstall -y $dep ; done pip uninstall -y python-neutronclient Source: http://stackoverflow....</p></div><footer class=entry-footer><span title='2016-04-26 00:00:00 +0000 UTC'>2016-04-26</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to pip - uninstall package with dependencies" href=https://gagor.pro/2016/04/pip-uninstall-package-with-dependencies/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Prefer IPv4 over IPv6</h2></header><div class=entry-content><p>I try to use IPv6 where it’s available but it’s sometimes so hard… It happen quite often that I can’t download packages from repos because they weren’t configured on IPv6 vhosts even when host is available via IPv6 address. For APT you may use this trick to force IPv4 connections only:
echo 'Acquire::ForceIPv4 "true";' > /etc/apt/apt.conf.d/99force-ipv4 If you need more than that, then gai.conf will allow you to filter where you will be connecting via IPv4 and where via IPv6 - in example bellow you will prefer IPv4 whenever it’s available:...</p></div><footer class=entry-footer><span title='2016-03-29 00:00:00 +0000 UTC'>2016-03-29</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to Prefer IPv4 over IPv6" href=https://gagor.pro/2016/03/prefer-ipv4-over-ipv6/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>List octal file permissions in bash</h2></header><div class=entry-content><p>Sometimes it’s easier to use octal file permissions but they’re not so easy to list. I caught myself few times that I didn’t remember how to list them - so this is a reason for that note.
stat -c "%a %n" * 755 bin 755 games 755 include Yes, it’s that easy 😃
And here also with human readable attributes:
stat -c '%A %a %n' * drwxr-xr-x 755 bin drwxr-xr-x 755 games drwxr-xr-x 755 include</p></div><footer class=entry-footer><span title='2016-02-24 00:00:00 +0000 UTC'>2016-02-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to List octal file permissions in bash" href=https://gagor.pro/2016/02/list-octal-file-permissions-in-bash/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>WordPress with HyperDB on PHP 7.0</h2></header><div class=entry-content><p>I was configuring WordPress with HyperDB  external link plugin on PHP 7.0 but the only I get were constant 500 errors. As I found here  external link PHP 7.0 is not supported by HyperDB for now - it’s rely on mysql php extension but in PHP 7.0 there is only mysqli extension. But few folks fixed it and it’s possible to use it.
curl -O https://raw.githubusercontent.com/soulseekah/hyperdb-mysqli/master/db.php mv db.php /var/www/wordpress/wp-content/ And configure it ex....</p></div><footer class=entry-footer><span title='2016-02-24 00:00:00 +0000 UTC'>2016-02-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;timor</footer><a class=entry-link aria-label="post link to WordPress with HyperDB on PHP 7.0" href=https://gagor.pro/2016/02/wordpress-with-hyperdb-on-php-7-0/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pro/categories/tip/page/2/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://gagor.pro/categories/tip/page/4/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pro/>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8d51d5292abd4c77bad90db038659671"}'></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>