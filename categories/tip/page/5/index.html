<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tip | Tom's Blog</title><meta name=keywords content><meta name=description content="pages for taxonomy (classification) term: tip"><meta name=author content="timor"><link rel=canonical href=https://gagor.pl/categories/tip/><link crossorigin=anonymous href=/assets/css/stylesheet.93a7bb0e4037b10e2d13ecb5a064edb636bd4156dfce17bfbd5115c4fce2d166.css integrity="sha256-k6e7DkA3sQ4tE+y1oGTttja9QVbfzhe/vVEVxPzi0WY=" rel="preload stylesheet" as=style><link rel=icon href=https://gagor.pl/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gagor.pl/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gagor.pl/favicon-32x32.png><link rel=apple-touch-icon href=https://gagor.pl/apple-touch-icon.png><link rel=mask-icon href=https://gagor.pl/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gagor.pl/categories/tip/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Tip"><meta property="og:description" content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"><meta property="og:type" content="website"><meta property="og:url" content="https://gagor.pl/categories/tip/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tip"><meta name=twitter:description content="Linux configuration, Automation, Security - Sysadmin/DevOps blog"></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gagor.pl accesskey=h title="Tom's Blog (Alt + H)"><img src=https://gagor.pl/favicon-72x72.png alt aria-label=logo height=36>Tom's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gagor.pl/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gagor.pl/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://gagor.pl/bookshelf/ title=Bookshelf><span>Bookshelf</span></a></li><li><a href=https://gagor.pl/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://gagor.pl/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://gagor.pl>Home</a>&nbsp;¬ª&nbsp;<a href=https://gagor.pl/categories/>Categories</a></div><h1>Tip</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Command to change root password</h2></header><div class=entry-content><p>Everybody knows passwd command but it‚Äôs useless when you need to change ex. root password from command line without waiting for input. In such case oneliner below could help:
echo "root:new_password" | chpasswd</p></div><footer class=entry-footer><span title='2014-05-08 00:00:00 +0000 UTC'>2014-05-08</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Command to change root password" href=https://gagor.pl/2014/05/command-to-change-root-password/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Install Steam on Debian/Ubuntu</h2></header><div class=entry-content><p>These are few steps to get Steam running on Ubuntu:
wget -c media.steampowered.com/client/installer/steam.deb dpkg -i steam.deb apt-get install -f apt-get update Solutions for some issues Some time ago I needed 32 bit flash even on 64 bit system - I don‚Äôt need it currently but I‚Äôm living this as a tip.
apt-get install adobe-flashplugin:i386 After Ubuntu upgrade I was unable to run Steam anymore - It shouted on me with strange ‚Äúnetworking problem‚Äù....</p></div><footer class=entry-footer><span title='2014-04-22 00:00:00 +0000 UTC'>2014-04-22</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Install Steam on Debian/Ubuntu" href=https://gagor.pl/2014/04/install-steam-on-debian-ubuntu/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Rebuild yum/rpm database</h2></header><div class=entry-content><p>When I was trying to update packages on one host I‚Äôve stuck with yum hung on update. I run strace and see:
strace -p 43734 Process 43734 attached - interrupt to quit futex(0x807c938, FUTEX_WAIT, 1, NULL &lt;unfinished ...> Process 43734 detached It looks like yum database was corrupted, to repair this run:
rm -f /var/lib/rpm/__db* rpm --rebuilddb yum clean all yum update Instead rm on db-files you could use gzip to have backup of these files....</p></div><footer class=entry-footer><span title='2014-04-04 00:00:00 +0000 UTC'>2014-04-04</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Rebuild yum/rpm database" href=https://gagor.pl/2014/04/rebuild-yum-rpm-database/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Checking memcached status</h2></header><div class=entry-content><p>I need to check memory usage of memcached server so I used:
echo stats | nc 127.0.0.1 11211 STAT pid 2743 STAT uptime 263 STAT time 1395438951 STAT version 1.4.13 STAT pointer_size 64 STAT rusage_user 0.482926 STAT rusage_system 2.675593 STAT curr_items 8667 STAT total_items 10742 STAT bytes 23802513 STAT curr_connections 296 STAT total_connections 399 STAT connection_structures 297 STAT cmd_flush 0 STAT cmd_get 52578 STAT cmd_set 10792 STAT get_hits 28692 STAT get_misses 23886 STAT evictions 0 STAT bytes_read 35984361 STAT bytes_written 192647437 STAT limit_maxbytes 536870912 STAT threads 2 STAT accepting_conns 1 STAT listen_disabled_num 0 STAT replication MASTER STAT repcached_qi_free 8189 STAT repcached_wdata 0 STAT repcached_wsize 1026048 END For me, bytes value was important but you could find more about all statistics here....</p></div><footer class=entry-footer><span title='2014-03-21 00:00:00 +0000 UTC'>2014-03-21</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Checking memcached status" href=https://gagor.pl/2014/03/checking-memcached-status/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Ansible - ssh pipelining</h2></header><div class=entry-content><p>In recent Ansible update to 1.5 version there is really nice feature ssh pipelining. This option is serious alternative to accelerated mode.
Just add to you config file (ex. ~/.ansible.cfg):
[ssh_connection] pipelining=True Now run any playbook - you will see the difference üòÑ
Source (and extended info about):
http://blog.ansibleworks.com/2014/01/15/ssh-connection-upgrades-coming-in-ansible-1-5/</p></div><footer class=entry-footer><span title='2014-03-04 00:00:00 +0000 UTC'>2014-03-04</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Ansible - ssh pipelining" href=https://gagor.pl/2014/03/ansible-ssh-pipelining/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Comparing two lists in bash</h2></header><div class=entry-content><p>I had quite simple task - compare two lists of hosts and check if hosts from first one are also on the second one. I started with diff:
diff -u biglist.txt hosts_to_check.txt | grep -E "^\+" It was fine but output needs some filtering to get what I want.
I‚Äôve found another example with grep:
grep -Fxv -f biglist.txt hosts_to_check.txt | sort -n This will search for all lines in hosts_to_check....</p></div><footer class=entry-footer><span title='2014-02-18 00:00:00 +0000 UTC'>2014-02-18</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Comparing two lists in bash" href=https://gagor.pl/2014/02/comparing-two-lists-in-bash/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Change default WSUS port from 8530 to 80 on Windows Server 2012</h2></header><div class=entry-content><p>After WSUS installing on Windows Server 2012 I discovered that it‚Äôs running on port 8530, different than on older version of Windows (it was using port 80 from beginning). But what‚Äôs more interesting it was running ONLY on IPv6 interface! Switching binding configuration in IIS doesn‚Äôt help.
I could stand switching port - it‚Äôs nothing hard with GPO, but IPv6 only configuration was not acceptable.
After googling for some time I found one command that solved my problems by switching WSUS to older behavior and run it on port 80 (on default website)....</p></div><footer class=entry-footer><span title='2014-01-24 00:00:00 +0000 UTC'>2014-01-24</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Change default WSUS port from 8530 to 80 on Windows Server 2012" href=https://gagor.pl/2014/01/change-default-wsus-port-from-8530-to-80-on-windows-server-2012/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Loop unlooping in Javascript</h2></header><div class=entry-content><p>Few days ago I‚Äôve read a book ‚ÄòEven Faster Web Sites‚Äò about websites optimisation and I found one thing usefuluseful, not only on websites. There was a small tip about looploop unlooping. I want to quote them for later use.
First - with switch statement var iterations = Math.ceil(values.length / 8); var startAt = values.length % 8; var i = 0; do { switch(startAt) { case 0: process(values[i++]); case 7: process(values[i++]); case 6: process(values[i++]); case 5: process(values[i++]); case 4: process(values[i++]); case 3: process(values[i++]); case 2: process(values[i++]); case 1: process(values[i++]); } startAt = 0; } while(--iterations > 0); Second - without switch var iterations = Math....</p></div><footer class=entry-footer><span title='2014-01-07 00:00:00 +0000 UTC'>2014-01-07</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Loop unlooping in Javascript" href=https://gagor.pl/2014/01/loop-unlooping-in-javascript/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Apache - precompressing static files with gzip</h2></header><div class=entry-content><p>Some time ago I‚Äôve show how to precompress js and css file with gzip to be available for Nginx‚Äôs mod_gzip. In default configuration Apache don‚Äôt have such module but similar functionality could be achieved with few custom rewirtes.
Basically we will start with these rewrites to serve gzipped CSS/JS files if they exist and the client accepts gzip compression:
RewriteEngine on RewriteCond %{HTTP:Accept-encoding} gzip RewriteCond %{REQUEST_FILENAME}\.gz -s RewriteRule ^(.*)\.(js|css)$ $1\.$2\.gz [QSA] Then we need to setup proper content types for such compressed files - I know how to do this in two ways:...</p></div><footer class=entry-footer><span title='2013-12-27 00:00:00 +0000 UTC'>2013-12-27</span>&nbsp;¬∑&nbsp;2 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Apache - precompressing static files with gzip" href=https://gagor.pl/2013/12/apache-precompressing-static-files-with-gzip/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Android: Xposed + AppOps - reclaim control over installed applications permissions</h2></header><div class=entry-content><p>I‚Äôm happy owner of Galaxy Nexus 7 and lately I updated my tablet to Android 4.4 Kitkat. One of features I most expected was ability to block some permissions of some applications. Such setting was available in 4.4 version but was removed in latest 4.4.2 - Google didn‚Äôt explain it exactly why. I don‚Äôt like when for ex. game need: camera or GPS access - for what I asked?
But there is new app so called App Ops that unhides build-in interface allowing edit of application permissions....</p></div><footer class=entry-footer><span title='2013-12-17 00:00:00 +0000 UTC'>2013-12-17</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;timor</footer><a class=entry-link aria-label="post link to Android: Xposed + AppOps - reclaim control over installed applications permissions" href=https://gagor.pl/2013/12/android-xposed-appops-reclaim-control-over-installed-applications-permissions/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://gagor.pl/categories/tip/page/4/>¬´&nbsp;Prev&nbsp;</a>
<a class=next href=https://gagor.pl/categories/tip/page/6/>Next&nbsp;&nbsp;¬ª</a></nav></footer></main><footer class=footer><span><a href=https://gagor.pl>Tom's Blog</a> &copy; 2008-2024</span>
<span>Content licensed under <a rel="license noopener noreferrer" target=_blank href=http://creativecommons.org/licenses/by-sa/4.0/>(CC BY-SA 4.0)</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>